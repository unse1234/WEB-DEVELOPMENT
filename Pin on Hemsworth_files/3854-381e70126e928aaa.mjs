(self.modernJsonp=self.modernJsonp||[]).push([["3854"],{999459(e,t,r){r.d(t,{A9:()=>l,u5:()=>p});let n={merchant_catalogs_data_sources:{id:228,name:"merchant_catalogs_data_sources_user_nav"},merchant_catalogs_listings:{id:230,name:"merchant_catalogs_listings_user_nav"},merchant_catalogs_product_groups:{id:229,name:"merchant_catalogs_product_groups_user_nav"},own_profile:{id:14,name:"own_profile"},own_profile_no_pins:{id:45,name:"own_profile_no_pins"},other_profile:{id:15,name:"other_profile"},other_profile_no_pins:{id:46,name:"other_profile_no_pins"},sterling_ads_edit:{id:225,name:"sterling_edit_flow_user_nav"},sterling_reporting_overview:{id:226,name:"sterling_reporting_overview_user_nav"}},a={initial_app_load:{unauth:{board:{id:114,name:"board_page_interactive"},pin_closeup:{id:113,name:"pin_page_interactive"},other_profile:{id:115,name:"user_page_interactive"},topic:{id:119,name:"topic_page_interactive"},sterling_signup:{id:201,name:"sterling_signup_main_pageload"},sterling_login:{id:202,name:"sterling_login_main_pageload"}},auth:{bizhub:{id:607,name:"bizhub_pinteractive"},homefeed:{id:19,name:"home_feed_pinteractive"},own_profile:{id:123,name:"own_profile_page_load"},own_profile_no_pins:{id:125,name:"own_profile_no_pins_page_load"},other_profile:{id:122,name:"other_profile_page_load"},other_profile_no_pins:{id:124,name:"other_profile_no_pins_page_load"},self_profile:{id:126,name:"self_profile_page_load"},sterling_reporting_overview:{id:219,name:"sterling_reporting_overview_pageload"},sterling_ads_create:{id:221,name:"sterling_adscreate_main_pageload"},sterling_ads_duplicate:{id:206,name:"sterling_adsduplication_main_pageload"},sterling_ads_edit:{id:204,name:"sterling_adsedit_main_pageload"},sterling_billing_profile:{id:203,name:"sterling_billingprofile_main_pageload"},sterling_bulk_editor:{id:205,name:"sterling_bulkeditor_main_pageload"},sterling_bulk_editor_history:{id:231,name:"sterling_bulkeditor_history_pageload"},sterling_pin_builder:{id:222,name:"sterling_adscreate_pinbuilder_pageload"},sterling_recommendations:{id:223,name:"sterling_recommendations_pageload"},sterling_reporting_details:{id:218,name:"sterling_reporting_details_pageload"}}},client_route_push:{unauth:{},auth:{...n,bizhub:{id:608,name:"bizhub_page_render"},homefeed:{id:2,name:"home_feed_render"},search:{id:3,name:"search_feed_render"},search_tab:{id:25,name:"search_tab_render"},related_feed:{id:51,name:"related_feed"},related_feed_pageload:{id:127,name:"related_feed_pageload"},nux_pin_picker_feed_render:{id:49,name:"nux_pin_picker_feed_render"},self_profile:{id:47,name:"self_profile"},pin_closeup:{id:13,name:"pin_closeup_details"},sterling_audiences:{id:224,name:"sterling_audiences_page_user_nav"},sterling_bulk_editor_history:{id:232,name:"sterling_bulkeditor_history_user_nav"},sterling_reporting_details:{id:227,name:"sterling_reporting_details_user_nav"},visual_search:{id:44,name:"visual_search_page_render"}}},client_route_replace:{unauth:{},auth:{...n}}},i={initial_app_load:{auth:{pin_closeup:{product_detail_page:{id:120,name:"product_details_interactive"},product_detail_page_plus:{id:121,name:"product_details_plus_interactive"}}}},client_route_push:{auth:{pin_closeup:{story_pin:{id:700,name:"story_pin_closeup"},product_detail_page:{id:37,name:"product_details_render"},product_detail_page_plus:{id:38,name:"product_details_plus_render"}}}},client_route_replace:{auth:{pin_closeup:{product_detail_page:{id:37,name:"product_details_render"},product_detail_page_plus:{id:38,name:"product_details_plus_render"}}}}},o={board_picker:16,grid_bottom_spinner:12,facebook_autologin:500,google_autologin:501,story_pin_step:701,nux_pin_picker_feed_render:49,related_feed:51,sterling_adscreate_pinselection_tableload:236,sterling_adscreate_pinselection_search:237,sterling_adscreate_pinselection_board:238,sterling_adscreate_pinselection_checkbox:241,sterling_adscreate_adgroup_pageload:239,sterling_adsedit_adgroup_pageload:240},s=e=>{let{navigationType:t,isAuthenticated:r,segment:n,surface:o}=e,s=r?"auth":"unauth",l=i[t]?.[s]?.[o];return n&&l&&l[n]||a[t][s][o]},l=e=>{if("stopwatch"===e.type&&"name"in e)return o[e.name]||null;if("surface"===e.type){let t=s(e);return t?t.id:null}return null},p=e=>{if("stopwatch"===e.type&&"name"in e||"core_web_vitals"===e.type&&"name"in e)return e.name;let{navigationType:t,isAuthenticated:r,segment:n,surface:a}=e,i=s(e);return i?i.name:`${t}_${r?"auth":"unauth"}_${a}${n?"_"+n:""}`}},505695(e,t,r){r.d(t,{B5:()=>i,RI:()=>a,WO:()=>o,rf:()=>s});let n=e=>"number"==typeof e?Math.round(e):e,a=e=>({type:"I16",value:n(e)}),i=e=>({type:"I32",value:n(e)}),o=e=>({type:"STRING",value:e}),s=e=>({type:"BOOL",value:e})},961105(e,t,r){r.d(t,{R:()=>S,I:()=>T});var n=r(564954),a=r(218245),i=r(385982),o=r(383319),s=r(759415);let l=(e,t)=>Object.keys(t).reduce((r,n)=>({...r,[`${e}${n}`]:t[n]}),{});var p=r(93139),d=r(746904),u=r(707390),c=r(81920);let _=["client-","vendor-react-","index-","runtime-","locale-"],m=(e,t,r)=>{"number"==typeof t&&Number.isFinite(t)&&!(t<0)&&(0,c.N9)(e,t,r)},f=(e,t,r)=>{"number"==typeof t&&Number.isFinite(t)&&!(t<0)&&(0,c.uI)(e,t,r)},g=["PinResource","UserHomefeedResource","BaseSearchResource","BoardResource","UserResource","BoardFeedResource","runtime-","polyfills-","locale-","vendor-react-","vendor-react-","client-","gestalt-","index-","AuthDesktopHeader","StructuredFeed","[id]-","[scope]-","[username]-","CloseupActionBarCommon-","SaveAffordance-"],h=({eventPrefix:e,endTime:t,tags:r,resourceArr:n,resourceType:a="allResources"})=>{let i=n.length;if("object"==typeof n[0]&&!Array.isArray(n[0])&&0!==i){if(_.includes(a)){let t=n[0],i={...r,swIntercepted:t.workerStart>0,workerFinalSourceType:t.workerFinalSourceType||"unknown"};m(`${e}.app_start_script_${a.replace("-","")}.InFlight`,t.fetchStart,{tags:i}),m(`${e}.app_start_script_${a.replace("-","")}.Complete`,t.responseEnd,{tags:i})}if(g.includes(a)){let t=n[0];m(`${e}.critical_resource_${a.replace("-","")}.InFlight`,t.fetchStart,{tags:r}),m(`${e}.critical_resource_${a.replace("-","")}.Complete`,t.responseEnd,{tags:r})}else{let o=[...n].sort((e,t)=>e.fetchStart-t.fetchStart),s=[...n].sort((e,t)=>e.responseEnd-t.responseEnd),l=1,p=t/5,d=0;for(;l<=5;){let t=0;for(;d<=i-1&&o[d].fetchStart<=p*l;)d+=1,t+=1;f(`${e}.${a}.fetchStartInterval${l}of5`,t,{sampleRate:.2}),l+=1}let u={InFlightP0:o[0].fetchStart,InFlightP25:o[Math.floor(i/4)].fetchStart,InFlightP50:o[2*Math.floor(i/4)].fetchStart,InFlightP75:o[3*Math.floor(i/4)].fetchStart,InFlightP100:o[i-1].fetchStart,CompleteP25:s[Math.floor(i/4)].responseEnd,CompleteP50:s[2*Math.floor(i/4)].responseEnd,CompleteP75:s[3*Math.floor(i/4)].responseEnd,CompleteP100:s[i-1].responseEnd};for(let t in u)u[t]&&m(`${e}.${a}.${t}`,u[t],{tags:r})}}};var v=r(54240),w=r(982279);let y=({type:e,annotateExperiments:t,annotations:r,binaryAnnotations:c,constraintMap:m,endTime:f,imageTimings:y,isV4Logger:T,metricId:S,pwtMeasures:E,pwtStaticContext:$,startTime:b,traceId:A,spans:M})=>{let R,O=(0,w.Fm)();"initial_app_load"===S.navigationType&&(R=(0,a.A)());let k=y.map(({name:e})=>e),B=O.map(e=>(0,i.B)(e,k)).filter(({timing:e})=>!(({startTime:e,responseEnd:t},r)=>e>r.endTime||!!t&&t<r.startTime)(e,{startTime:b,endTime:f})),P=Object.values(E||{}).filter(e=>null!=e).map(e=>({name:e.name,id:(0,v.A)(),parentId:A,startTime:e.startTime||b,endTime:e.startTime+(e.duration||0),annotationMap:{},binaryAnnotationMap:{}})).filter(e=>!(({startTime:e,endTime:t},r)=>e>r.endTime||!!t&&t<r.startTime)(e,{startTime:b,endTime:f}));return .2>Math.random()&&(({annotateExperiments:e,endTime:t,entries:r,metricId:n,pwtStaticContext:a})=>{if("u">typeof document&&"hidden"===document.visibilityState)return;let{isAuthenticated:i,isBot:o,isSocialBot:s,deviceType:l}=a,p=`${s&&"socialBot"||o&&"bot"||"nonbot"}.${l}.${n.surface}`,d=[p];e&&[...new Set(e)].forEach(e=>{let t=a.getExperimentGroup(e);t&&d.push(`${p}.experiment.${e}.${t}`)});let c={isAuthenticated:i,navigationType:n.navigationType,region:(0,u.A)(a.country),startType:a.startType},m=Array.from(r.filter(e=>"number"==typeof e.encodedBodySize&&("xmlhttprequest"===e.initiatorType&&e.encodedBodySize>=1e3||e.encodedBodySize>=1e4)&&e.responseEnd<=t)),f={img:[],css:[],script:[],xmlhttprequest:[],preloadedImages:[]};m.forEach(e=>{if("link"===e.initiatorType&&e.name.includes("i.pinimg.com"))f.preloadedImages=[...f.preloadedImages||[],e];else if("link"===e.initiatorType&&(e.name.endsWith(".js")||e.name.endsWith(".mjs"))){f.script=[...f.script||[],e];let t=g.find(t=>e.name.includes(t));t&&(f[t]=[e])}else if(e.initiatorType in f){let t=e.initiatorType;f[t]=[...f[t]||[],e];let r=g.find(t=>e.name.includes(t));r&&(f[r]=[e]);let n=_.find(t=>e.name.includes(t));n&&(f[n]=[e])}}),d.forEach(e=>{h({eventPrefix:e,endTime:t,tags:c,resourceArr:m}),Object.entries(f).forEach(([r,n])=>{h({eventPrefix:e,endTime:t,tags:c,resourceArr:n,resourceType:r})})})})({annotateExperiments:t,endTime:f,entries:O,metricId:S,pwtStaticContext:$}),{traceId:A,startTime:b,endTime:f,spans:[...B.map(e=>(0,d.A)(e,A)).filter(Boolean),...P].concat(M),annotationMap:(({constraintMap:e,initialNavTiming:t,annotations:r})=>({...r,...l("constraint_",e),...l("mark_",Object.values((0,p.Wg)()||{}).filter(e=>null!=e).reduce((e,t)=>({...e,[t.name]:t.startTime}),{})),...l("browser_",{...t?{...(0,o.A)(t),domComplete:t.domComplete||0,domContentLoadedEventStart:t.domContentLoadedEventStart||0,domInteractive:t.domInteractive||0,workerStart:t.workerStart||0}:{},...(()=>{let{largestContentfulPaint:e}=(0,s.Bl)();return{largestContentfulPaint:e||0}})()})}))({constraintMap:m,initialNavTiming:R,annotations:r}),binaryAnnotationMap:(0,n.vF)({initialNavTiming:R||{},type:e,annotateExperiments:t,binaryAnnotations:c,entries:O,isV4Logger:T,metricId:S,performanceResources:B,pwtEndTime:f,pwtStaticContext:$})}},T=({annotateExperiments:e,annotations:t,binaryAnnotations:r,constraintMap:n,endTime:a,imageTimings:i,isV4Logger:o=!1,metricId:s,pwtMeasures:l,pwtStaticContext:p,startTime:d,traceId:u,spans:c})=>({type:"COMPLETE",...y({type:"COMPLETE",annotateExperiments:e,annotations:t,binaryAnnotations:r,constraintMap:n,endTime:a,imageTimings:i,isV4Logger:o,metricId:s,pwtMeasures:l,pwtStaticContext:p,startTime:d,traceId:u,spans:c})}),S=({reason:e,annotateExperiments:t,annotations:r,binaryAnnotations:n,constraintMap:a,endTime:i,imageTimings:o,isV4Logger:s=!1,metricId:l,pwtMeasures:p,pwtStaticContext:d,startTime:u,traceId:c,spans:_})=>({type:"ABORT",reason:e,...y({type:"ABORT",annotateExperiments:t,annotations:r,binaryAnnotations:n,constraintMap:a,endTime:i,imageTimings:o,isV4Logger:s,metricId:l,pwtMeasures:p,pwtStaticContext:d,startTime:u,traceId:c,spans:_})})},564954(e,t,r){r.d(t,{jp:()=>h,jx:()=>c,vF:()=>w});var n=r(396903),a=r(999459),i=r(505695),o=r(136095),s=r(759415),l=r(982279),p=r(551309),d=r(93139),u=r(639650);let c=(e,t)=>(e||[]).reduce((e,r)=>{let n=t(r);return n?{...e,[`experiment.${r}`]:(0,i.WO)(n)}:e},{}),_=(e,t)=>"number"==typeof t?e(t):null,m=e=>Number(Number(e/1024).toFixed(3)),f=e=>e.reduce((e,t)=>e+t,0),g=(e,t,r,n,o)=>{let s,{devicePixelRatio:d,navigator:u,innerWidth:c,innerHeight:m,performance:f}=window,{deviceMemory:g,hardwareConcurrency:h,platform:v,userAgent:w,connection:y}=u,{memory:T}=f,{appType:S,appVersion:E,browserName:$,browserVersion:b,deviceType:A,hasActiveServiceWorker:M,isAppShell:R,isAuthenticated:O,isBot:k,isSocialBot:B,locale:P,osName:I,stageName:N,startType:C,unauthId:W}=t,{navigationType:x}=e,D=null;if("initial_app_load"===x){s=1;let e=(0,p.A)("navigation")[0]?.transferSize;D=e?parseFloat((.001*e).toFixed(1)):null}else s=4;let L={"app.type":(0,i.RI)("desktop"===A?S||5:S||6),"app.version":(0,i.WO)(E),"browser.name":(0,i.WO)($),"browser.version":(0,i.WO)(b),"cpu.speed":(0,i.RI)(h),"device.memory":(0,i.RI)(g),"device.type":(0,i.RI)(0),"device.typeName":(0,i.WO)(A),"device.version":(0,i.WO)("unknown"),"pwt.cause":(0,i.RI)(s),"net.effectiveType":(0,i.WO)(y?.effectiveType||null),"net.downlink":(0,i.B5)(_(e=>10*Math.round(e/10),y?.downlink)),"net.downlinkMax":(0,i.B5)(_(e=>10*Math.round(e/10),y?.downlinkMax)),"net.rtt":(0,i.B5)(_(e=>10*Math.round(e/10),y?.rtt)),"net.speed":(0,i.B5)((0,l.Kx)(r,!1)),"pwt.result":(0,i.RI)("COMPLETE"===n?1:2),"viewport.height":(0,i.B5)(m||0),"viewport.width":(0,i.B5)(c||0),devicePixelRatio:(0,i.B5)(d||0),hasActiveServiceWorker:(0,i.rf)(M),isAppShell:(0,i.rf)(R),isAuthenticated:(0,i.rf)(O),isBot:(0,i.rf)(k),isSocialBot:(0,i.rf)(B),locale:(0,i.WO)(P),osName:(0,i.WO)(I),...null!==D&&{htmlResponseSize:(0,i.B5)(D)},nextHopProtocol:(0,i.WO)((0,p.A)("navigation")[0]?.nextHopProtocol||null),platform:(0,i.WO)(v||null),profilerVersion:o?(0,i.WO)("4"):(0,i.WO)("3"),pwtActionName:o&&"id"in e?(0,i.RI)(e.id):(0,i.RI)((0,a.A9)(e)),stageName:(0,i.WO)(N),startType:(0,i.WO)(C||""),userAgent:(0,i.WO)(w),usedJSHeapSize:(0,i.B5)(T?.usedJSHeapSize||0),totalJSHeapSize:(0,i.B5)(T?.totalJSHeapSize||0),jsHeapSizeLimit:(0,i.B5)(T?.jsHeapSizeLimit||0)};return O?L:{...L,unauthId:(0,i.WO)(W)}},h=({annotateExperiments:e,metricId:t,pwtStaticContext:r,binaryAnnotations:n={},performanceResourceTimings:a=[],type:o,stopwatchVersion:s})=>({...c(e,r.getExperimentGroup),...g(t,r,a,o),...n,...n["view.type"]?{"view.type":n["view.type"]}:{"view.type":(0,i.B5)(0)},stopwatchVersion:(0,i.RI)(s)}),v=(e,t=10,r=!1)=>{let n=e.sort((e,t)=>(r?e[1]-t[1]:t[1]-e[1])||e[0].localeCompare(t[0])),a=new Set;return n.filter(([e])=>!a.has(e)&&(a.add(e),!0)).slice(0,t)},w=({type:e,annotateExperiments:t,binaryAnnotations:r={},entries:a,isV4Logger:l,metricId:p,performanceResources:_,pwtStaticContext:h,initialNavTiming:w})=>{let y;return{...(y={script_deferred:[],external:[],visually_complete:[],script:[],css:[],video:[],image:[],xmlhttprequest:[],other:[]},_.length&&_.forEach(e=>{let{timing:t}=e;y[e.category]=[...y[e.category]??[],t],e.isDeferred&&(y.script_deferred=[...y.script_deferred??[],t]),e.isExternal&&(y.external=[...y.external??[],t]),e.isVisuallyCompleteRequired&&(y.visually_complete=[...y.visually_complete??[],t])}),{...Object.keys(y).reduce((e,t)=>{var r;let n,a,o;return{...e,...(a=`resource.${t}.`,n=(r=y[t]).filter(e=>!!e.responseEnd),Object.keys(o={...r.length?{...(e=>{if(!e.length)return{};let t=e.map(({startTime:e,requestStart:t,responseStart:r,responseEnd:n})=>{let a=t||e;return{startTime:e,requestStart:a,responseStart:r||a,responseEnd:n}}),r=f(t.map(e=>e.requestStart-e.startTime)),n=f(t.map(e=>e.responseStart-e.requestStart)),a=f(t.map(e=>e.responseEnd-e.responseStart)),o=f(e.map(e=>e.decodedBodySize||0)),s=f(e.map(e=>e.encodedBodySize||0)),l=f(e.map(e=>e.transferSize||0));return{decodedBodySize:(0,i.B5)(m(o)),encodedBodySize:(0,i.B5)(m(s)),transferSize:(0,i.B5)(m(l)),"duration.all":(0,i.B5)(r+n+a),"duration.requestStartToResponseStart":(0,i.B5)(n),"duration.responseStartToResponseEnd":(0,i.B5)(a),"duration.startToRequestStart":(0,i.B5)(r)}})(n),"count.completed":(0,i.B5)(n.length)}:{},"count.all":(0,i.B5)(r.length)}).reduce((e,t)=>({...e,[`${a}${t}`]:o[t]}),{}))}},{})}),...c(t,h.getExperimentGroup),...g(p,h,a,e,l),...(e=>{let{navigator:t}=window,{serviceWorker:r}=t,{surface:n,navigationType:a,isAuthenticated:o}=e,{cumulativeLayoutShiftScore:l,longTaskDurations:p}=(0,s.Bl)(),{scrollDuringLayout:u}=(0,d.Wg)();return{...p.length?{"longTask.count":(0,i.B5)(p.length),"longTask.maxDuration":(0,i.B5)(Math.max(...p)),"longTask.totalDuration":(0,i.B5)(f(p))}:{},cumulativeLayoutShiftScore:(0,i.B5)(100*l),"metricId.isAuthenticated":(0,i.rf)(o),"metricId.navigationType":(0,i.WO)(a),"metricId.surface":(0,i.WO)(n),scrollDuringLayout:(0,i.rf)(!!u),serviceWorker:(0,i.rf)(r?!!r.controller:null),serviceWorkerState:(0,i.WO)(r?.controller?.state||null)}})(p),...w?{"navTiming.workerFinalSourceType":(0,i.WO)(w.workerFinalSourceType||null),"navTiming.workerMatchedSourceType":(0,i.WO)(w.workerMatchedSourceType||null)}:{},...((e,t)=>{if(!["HOME_FEED_PINTERACTIVE","HOME_FEED_RENDER","initial_page_load_auth_pin","PIN_CLOSEUP_DETAILS","STORY_PIN_CLOSEUP","PIN_PAGE_INTERACTIVE","client_route_push_unauth_pin","render_performance_test_page","COLLAGE_CREATION_PAGE_LOAD","COLLAGE_CREATION_USER_NAV","SEARCH_FEED_RENDER"].includes(e.surface))return{};let r=(0,u.q)()??"",a=(0,n.uo)(r),s=(0,n.HA)(r),l="enabled"===t("perf_profiler_logs"),{info:p}=console;if(l&&(p("=== RENDER PERFORMANCE METRICS ==="),p("Current Handler:",r)),!a)return l&&p("No render metrics found"),{};s&&l&&p("Raw data:",s);let d={},c=[],_=[],m=[],f=[],g=[],h=[],w=[],y=[],T=[],S=[],E=[],$={};Object.keys(a).forEach(e=>{let t=a[e];t&&0!==Object.keys(t).length&&Object.keys(t).forEach(r=>{let n=t[r];if(!n?.metrics)return;let{groupTags:a,metrics:s}=n,{rawCount:l,rawTiming:p,totalTiming:u,totalCount:v,updatesCount:b,updateTiming:A,averageUpdateTiming:M,maxMemoizationDelta:R,averageMemoizationDelta:O,maxMemoizationRatio:k,averageMemoizationRatio:B}=s,P=Math.floor(100*p),I=Math.floor((u??0)*100),N=Math.floor((A??0)*100),C=Math.floor((M??0)*100),W=Math.floor((R??0)*100),x=Math.floor((O??0)*100),D=Math.floor((k??0)*100),L=Math.floor((B??0)*100),z=(0,o.tP)(e,r,a);d[`renderMetricsCountRaw.${z}`]=(0,i.B5)(l),c.push([z,l]),d[`renderMetricsCountTotal.${z}`]=(0,i.B5)(v),m.push([z,v??0]),d[`renderMetricsCountUpdates.${z}`]=(0,i.B5)(b),g.push([z,b]),d[`renderMetricsTimingRaw.${z}`]=(0,i.B5)(P),_.push([z,P]),d[`renderMetricsTimingTotal.${z}`]=(0,i.B5)(I),f.push([z,u??0]),d[`renderMetricsTimingUpdate.${z}`]=(0,i.B5)(N),h.push([z,A??0]),d[`renderMetricsTimingUpdatesAverage.${z}`]=(0,i.B5)(C),w.push([z,M??0]),0!==W&&(d[`renderMetricsMaxMemoDelta.${z}`]=(0,i.B5)(W),y.push([z,W])),0!==x&&(d[`renderMetricsAverageMemoDelta.${z}`]=(0,i.B5)(x),T.push([z,x])),0!==D&&(d[`renderMetricsMaxMemoRatio.${z}`]=(0,i.B5)(D),S.push([z,D])),0!==L&&(d[`renderMetricsAverageMemoRatio.${z}`]=(0,i.B5)(L),E.push([z,L])),a&&a.length>0&&a.forEach(e=>{$[e]||($[e]=[]),$[e].push([z,A??0])})})});let b=v(c,100),A=v(m,100),M=v(g,100),R=v(_,100),O=v(f,100),k=v(h,100),B=v(h,3),P=v(w,100),I=v(y,100),N=v(T,100),C=v(S,100),W=v(E,100);return B.forEach(([e,t])=>{d[`renderMetricsWorstUpdateTiming.${e}`]=(0,i.B5)(t)}),Object.keys($).forEach(e=>{v($[e]??[],3).forEach(([e,t])=>{d[`renderMetricsWorstUpdateTimingWithTag.${e}`]=(0,i.B5)(t)})}),l&&(p(`RPM - PWT Complete [${e.surface}], binary annotations:`,d),p(`RPM - PWT Complete [${e.surface}], rawCount:`,b),p(`RPM - PWT Complete [${e.surface}], totalCount:`,A),p(`RPM - PWT Complete [${e.surface}], updateCount:`,M),p(`RPM - PWT Complete [${e.surface}], rawTiming:`,R),p(`RPM - PWT Complete [${e.surface}], totalTiming:`,O),p(`RPM - PWT Complete [${e.surface}], updateTiming:`,k),p(`RPM - PWT Complete [${e.surface}], updateTimingAverage:`,P),p(`RPM - PWT Complete [${e.surface}], maxMemoDelta:`,I),p(`RPM - PWT Complete [${e.surface}], averageMemoDelta:`,N),p(`RPM - PWT Complete [${e.surface}], maxMemoRatio:`,C),p(`RPM - PWT Complete [${e.surface}], averageMemoRatio:`,W),p(`RPM - PWT Complete [${e.surface}], worstUpdateTiming:`,B),p("=== END RENDER PERFORMANCE METRICS ===")),(0,n.AF)(r),d})(p,h.getExperimentGroup),...r,...r["view.type"]?{"view.type":r["view.type"]}:{"view.type":(0,i.B5)(0)}}}},218245(e,t,r){r.d(t,{A:()=>a});var n=r(161235);let a=()=>{let[e]=n.A?n.A.getEntriesByType("navigation"):[];return e}},385982(e,t,r){r.d(t,{$:()=>n,B:()=>a});let n=({name:e,initiatorType:t})=>{switch(t){case"xmlhttprequest":return"xmlhttprequest";case"img":return"image";case"video":return"video";default:{let t=e.split("."),r=(t.length>1&&t.pop()||"").toLowerCase();if(["js","mjs"].includes(r))return"script";if("css"===r)return"css";if(["mp4","m4v","mov","ts","m3u8"].includes(r))return"video";if(["bmp","gif","jpg","jpeg","png","tiff","webp","svg"].includes(r))return"image";return"other"}}},a=(e,t)=>{let r,a,i=n(e),{name:o}=e;return{category:i,isDeferred:"script"===i&&(r=o.replace(RegExp(`^${window.location.origin||""}`),""),!!(a=document&&document.querySelector(`script[src='${r}']`))&&a.hasAttribute("defer")),isExternal:["pinimg","pinterest","pinterdev"].every(e=>!o.includes(`${e}`)),isVisuallyCompleteRequired:"image"===i&&t.includes(o),timing:e}}},472723(e,t,r){r.d(t,{A:()=>v,S:()=>h});var n=r(417978),a=r(101582),i=r(999459),o=r(17775),s=r(1807);let l=null;var p=r(505695),d=r(218245),u=r(54240),c=r(551309);let _=({span:e,timeOrigin:t})=>{let r,n;return{id:e.id,parent_id:e.parentId||null,result:1,name:e.name,timestamp:t+e.startTime,duration:e.endTime-e.startTime,annotations:Object.keys(r=e.annotationMap).reduce((e,n)=>{let a=r[n];return a?{...e,[n]:{timestamp:t+a}}:e},{}),binary_annotations:Object.keys(n=e.binaryAnnotationMap).reduce((e,t)=>{let r=n[t];if(!r)return e;let{value:a,type:i}=r;return null==a?e:e.concat({name:t,value:a,annotation_type:i})},[])}},m=(e,t)=>({...e,annotations:{...t.annotations.reduce((e,{key:t,timestamp:r})=>({...e,[`server_${t}`]:{timestamp:r}}),{}),...e.annotations},binary_annotations:[...t.binary_annotations,...e.binary_annotations]});var f=r(81920);let g=(0,o.lo)("reportResult"),h=({resultReason:e,resultLog:t,annotateExperiments:r,getExperimentGroup:n,options:a})=>{[...new Set(r)].forEach(r=>{let i=n(r),o=e?t.concat(`.${e}`):t;if(i){let e=`.experiment.${r}.${i}`;(0,s.DM)(`${o}${e}`,a)}})};function v({metricId:e,pwtStaticContext:t,result:r,isAuth:o,isV4Logger:v=!1,annotateExperiments:w,sampleRate:y=1,stopwatchVersion:T=1}){let S,E=t.getServerData();if(v){let{surface:t}=e;S=t}else S=(0,i.u5)(e);let $=`${r.type}.${S}`,b=void 0!==o?{tags:{isAuth:o},sampleRate:y}:{sampleRate:y};"FEED_RENDER"!==S&&2!==T&&(0,s.DM)(r.reason?$.concat(`.${r.reason}`):$,b),w&&h({resultReason:r.reason,resultLog:$,annotateExperiments:w,getExperimentGroup:t.getExperimentGroup,options:b});let A=`${r.type}.${S}`;a.Lj||((0,f.uI)(`${A}.spans`,r.spans.length,{sampleRate:y}),(0,f.uI)(`${A}.annotations`,Object.keys(r.annotationMap).length,{sampleRate:y})),"COMPLETE"!==r.type&&g(`Abort metric ${S}`,r);let M=window.performance?.now?Date.now()-window.performance.now():"unknown";if("unknown"===M){g(`Unable to convert to absolute times for ${S} due to missing time origin`),(0,s.DM)(`missingTimeOrigin.${S}`,b);return}if(a.Lj&&(window.PWT_LAB_DATA=((l=l||{results:[],context:t}).results.push(r),l)),r.spans.length&&(r.spans=r.spans.map(e=>(e.parentId||e.id===r.traceId||"network_resources"===e.name||(e.parentId=r.traceId),e))),!a.Lj){let i=e.navigationType&&"initial_app_load"===e.navigationType,{traceId:o}=r,s=JSON.stringify((({traceId:e,actionName:t,result:r,timeOrigin:n,serverDataToJoin:a})=>{let i=_({span:((e,{startTime:t,endTime:r,annotationMap:n,binaryAnnotationMap:a,parentId:i,traceId:o})=>({name:`pwt/${e}`,startTime:t,endTime:r,annotationMap:n,binaryAnnotationMap:a,parentId:i,id:o}))(t,r),timeOrigin:n}),o=null,s=null;if(a){let t;i=m(i,a),t=(0,d.A)(),o=t?.responseEnd?m(_({span:{name:"html",startTime:0,endTime:t?.responseEnd||1,annotationMap:{},binaryAnnotationMap:{nextHopProtocol:(0,p.WO)((0,c.A)("navigation")[0]?.nextHopProtocol||null)},id:(0,u.A)(),parentId:e},timeOrigin:n}),a):null,s=a.subspans?.map(e=>_({span:{id:e.id,name:`server_${e.name}`,parentId:e.parentId,startTime:e.startTime,endTime:e.endTime??e.startTime,annotationMap:e.annotations.reduce((e,{key:t,timestamp:r})=>({...e,[`server_${t}`]:r}),{}),binaryAnnotationMap:e.binaryAnnotations.reduce((e,{name:t,value:r,annotation_type:n})=>({...e,[t]:{value:r,type:n}}),{})},timeOrigin:0}))}return{trace_id:e,type:r.type,spans:[i,...o?[o]:[],...s||[],...r.spans.map(e=>_({span:e,timeOrigin:n}))]}})({traceId:o,actionName:S,result:r,timeOrigin:M,serverDataToJoin:i&&E||null}));a.Lj||(0,f.uI)(`${A}.size`,s.length,{sampleRate:y});let{promise:l}=(0,n.A)({type:"POST",url:"/_/_/trace/trace/",data:{report_data:s,report_context:JSON.stringify({debugTrace:a.TT,locale:t.locale,stageName:t.stageName})}});(async()=>{try{await l}catch(e){g(`Failed to report trace for ${S}:`,e)}})(),g(`PinTrace ${S} will be available shortly: https://pintrace.pinadmin.com/zipkin/traces/${o}`,{duration:r.endTime-r.startTime,result:r,pwtStaticContext:t})}}},383319(e,t,r){r.d(t,{A:()=>n});let n=e=>({connectEnd:e.connectEnd||0,connectStart:e.connectStart||0,domainLookupEnd:e.domainLookupEnd||0,domainLookupStart:e.domainLookupStart||0,fetchStart:e.fetchStart||0,requestStart:e.requestStart||0,redirectEnd:e.redirectEnd||0,redirectStart:e.redirectStart||0,responseEnd:e.responseEnd||0,responseStart:e.responseStart||0,secureConnectionStart:e.secureConnectionStart||0,startTime:e.startTime||0,workerStart:e.workerStart||0,unloadEventStart:e.unloadEventStart||0,unloadEventEnd:e.unloadEventEnd||0,workerCacheLookupStart:e.workerCacheLookupStart||0,workerRouterEvaluationStart:e.workerRouterEvaluationStart||0})},746904(e,t,r){r.d(t,{A:()=>o});var n=r(505695),a=r(383319),i=r(54240);function o(e,t){let{category:r,timing:o,isDeferred:s,isExternal:l,isVisuallyCompleteRequired:p}=e;if(!o.responseEnd||"image"===r&&!p)return null;let d=!1,u=o.serverTiming?.find(e=>"spanId"===e.name)?.description;return u||(d=!0),{name:(({category:e,isDeferred:t,isExternal:r})=>[e].concat(t?["deferred"]:[]).concat(r?["external"]:[]).join("_"))(e),id:u||(0,i.A)(),parentId:t,startTime:o.startTime,endTime:o.responseEnd,annotationMap:(0,a.A)(o),binaryAnnotationMap:{isRandomSpanId:(0,n.rf)(d),category:(0,n.WO)(r),decodedBodySize:(0,n.B5)(o.decodedBodySize||0),initiatorType:(0,n.WO)(o.initiatorType),isDeferred:(0,n.rf)(s),isExternal:(0,n.rf)(l),name:(0,n.WO)(o.name),nextHopProtocol:(0,n.WO)(o.nextHopProtocol),transferSize:(0,n.B5)(o.transferSize||0),workerFinalSourceType:(0,n.WO)(o.workerFinalSourceType),workerMatchedSourceType:(0,n.WO)(o.workerMatchedSourceType)}}}},759415(e,t,r){r.d(t,{Bl:()=>o,Sb:()=>s,o6:()=>i});var n=r(772807);let a={cumulativeLayoutShiftScore:0,longTaskDurations:[],largestContentfulPaint:null,elementTimings:[]},i=()=>{a.longTaskDurations=[]},o=()=>a,s=()=>{(0,n.A)({entryTypes:["longtask"]},e=>{e.getEntries().map(e=>a.longTaskDurations.push(e.duration))},()=>i()),(0,n.A)({type:"largest-contentful-paint",buffered:!0},e=>{let t=e.getEntries(),r=t.length,n=t[r-1];n&&(a.largestContentfulPaint=n.renderTime||n.loadTime||null)}),(0,n.A)({type:"layout-shift",buffered:!0},e=>{e.getEntries().forEach(e=>{e.hadRecentInput||(a.cumulativeLayoutShiftScore+=e.value)})})}},772807(e,t,r){r.d(t,{A:()=>n});let n=(e,t,r)=>{if(!window.PerformanceObserver)return null;try{let n=new window.PerformanceObserver(t);return n.observe(e),window.addEventListener("beforeunload",()=>{n.disconnect()}),r&&window.addEventListener("popstate",()=>{r()}),n}catch(e){return null}}},982279(e,t,r){r.d(t,{Fm:()=>o,Kx:()=>s,zD:()=>l});var n=r(1807),a=r(385982),i=r(551309);let o=()=>(0,i.A)("resource"),s=(e,t=!0)=>{let r,i=0,o=0,s=(r=e.filter(e=>t?"image"===(0,a.$)(e)&&(e.responseEnd||(i+=1),e.transferSize||(o+=1),!!e.responseEnd&&!!e.transferSize):!!e.responseEnd&&!!e.transferSize).map(e=>{let t=8*(e.transferSize||0),r=(e.responseEnd-e.responseStart)/1e3;return r<=0?0:t/r/1e3})).length?r.reduce((e,t)=>e+t,0)/r.length:null;return t&&(i>0&&(0,n.DM)("images.downloadSpeed.noResponseEnd",{tags:{count:i}},!1),o>0&&(0,n.DM)("images.downloadSpeed.transferSize",{tags:{count:o}},!1)),s},l=e=>{if(!e)return"unknown";let t=Math.floor(e/1e3);return t<1?"0-1":t<5?"1-5":t<10?"5-10":t<20?"10-20":t<40?"20-40":t<80?"40-80":"80_or_above"}},551309(e,t,r){r.d(t,{A:()=>n});function n(e){return window?.performance?.getEntriesByType&&window.performance.getEntriesByType(e)||[]}},161235(e,t,r){let n;r.d(t,{A:()=>a});let a=(n=window.performance)&&n.clearMarks&&n.clearMeasures&&n.clearResourceTimings&&n.getEntries&&n.getEntriesByName&&n.getEntriesByType&&n.mark&&n.measure&&n.now&&n.setResourceTimingBufferSize?n:null},186707(e,t,r){r.d(t,{A:()=>i});var n=r(752643),a=r(441496);function i(e,t){(0,n.A)()&&((0,a.cY)("Mark",`pwt__${e}`),performance.mark(`pwt__${e}`,{startTime:t||performance.now()}))}},504452(e,t,r){r.d(t,{A:()=>i});var n=r(752643),a=r(441496);function i(e,t,r){(0,n.A)()&&((0,a.cY)("Measure:",`pwt__${e}: ${t} -> ${r}`),performance.measure(`pwt__${e}`,{start:t||0,end:r||performance.now()}))}},752643(e,t,r){r.d(t,{A:()=>o});var n=r(441496);let a=null;function i(e){(0,n.pI)({eventName:`perf.not_supported.${e}`})}function o(){if(null!==a)return a;try{if(!window.performance||!performance)return i("window_performance"),a=!1,!1;if(!window.PerformanceObserver||!PerformanceObserver)return i("window_PerformanceObserver"),a=!1,!1;if(!PerformanceObserver.supportedEntryTypes)return i("window_PerformanceObserver_supportedEntryTypes"),a=!1,!1;if(!PerformanceObserver.supportedEntryTypes.includes("mark"))return i("window_PerformanceObserver_supportedEntryTypes_mark"),a=!1,!1;a=["mark","measure","now","setResourceTimingBufferSize"].reduce((e,t)=>(window.performance[t]&&performance[t]||(i(`window_performance_${t}`),e=!1),e),!0)}catch(e){(0,n.J6)({errorName:e})}return a}},441496(e,t,r){r.d(t,{AJ:()=>_,Be:()=>u,HF:()=>f,J6:()=>m,Lc:()=>g,Nr:()=>v,S2:()=>y,SR:()=>w,cY:()=>l,ed:()=>h,pI:()=>c});var n=r(101582),a=r(17775),i=r(2354),o=r(639650),s=r(81920);let l=(0,a.lo)("v4 logPerfStats"),p=e=>"number"==typeof e?String(e):String(e??"unknown").replace(/[^a-zA-Z0-9\-_/]/g,"_"),d=({logType:e,eventName:t,value:r,tags:a,sampleRate:o})=>{let d=r||1,u=o||1,{deviceType:c,isBot:_,isSocialBot:m,browserName:f,browserVersion:g,isModernBundleCapable:h}=(0,i.tQ)(),v=`perf.${m&&"socialBot"||_&&"bot"||"nonbot"}.${c}.${t}`,w=Number(g?.split(".")[0]||"0"),y={...Object.fromEntries(Object.entries(a||{}).map(([e,t])=>[p(e),p(t)])),browserName:p(f),browserVersion:w,isModernBundleCapable:h,loggerVersion:"4.0.0"},T=!1;(n.Lj||"Chrome"===f&&w<130)&&(T=!0),l(`${v}: ${d}`),!T&&("gauge"===e?(0,s.uI)(v,d,{sampleRate:n.D?1:u,tags:y}):"timing"===e?d<1e5&&(0,s.N9)(v,d,{sampleRate:n.D?1:u,tags:y}):"count"===e&&(0,s.U9)(v,d,{sampleRate:n.D?1:u,tags:y}))},u=({eventName:e,value:t,tags:r,sampleRate:n,annotateExperiments:a})=>{d({logType:"gauge",eventName:e,value:t,tags:r,sampleRate:n}),a&&[...new Set(a)].forEach(a=>{let{getExperimentGroup:o}=(0,i.tQ)(),s=o(a);if(s){let i=`.experiment.${a}.${s}`;d({logType:"gauge",eventName:e.concat(i),value:t,tags:r,sampleRate:n})}})},c=({eventName:e,value:t,tags:r,sampleRate:n,annotateExperiments:a})=>{d({logType:"count",eventName:e,value:t,tags:r,sampleRate:n}),a&&[...new Set(a)].forEach(a=>{let{getExperimentGroup:o}=(0,i.tQ)(),s=o(a);if(s){let i=`.experiment.${a}.${s}`;d({logType:"count",eventName:e.concat(i),value:t,tags:r,sampleRate:n})}})},_=({eventName:e,value:t,tags:r,sampleRate:n})=>{d({logType:"timing",eventName:e,value:t,tags:r,sampleRate:n})},m=({errorName:e,pwtName:t,errorDetailsTag:r,version:n})=>{let a=n?`.v${n}`:"",i=`TIMING_ERROR${a}`,s=String(e).trim().replace(/\W/g,"_"),p=r?{errorDetails:r}:{};c({eventName:`${i}.${s}`,tags:{handler:(0,o.q)(),...p}}),l(`Error: ${s}`),t&&c({eventName:`${i}.${t}.${s}`,tags:p})},f=({abortReason:e,pwtName:t,annotateExperiments:r,version:n})=>{let a=n?`.v${n}`:"",i=`TIMING_ABORT${a}`;c({eventName:`${i}.${e}`,tags:{handler:(0,o.q)()},annotateExperiments:r}),t&&c({eventName:`${i}.${t}.${e}`,annotateExperiments:r})},g=({pwtName:e,annotateExperiments:t,version:r})=>{let n=r?`.v${r}`:"",a=`TIMING_START${n}`;c({eventName:a,tags:{handler:(0,o.q)()},annotateExperiments:t}),e&&c({eventName:`${a}.${e}`,annotateExperiments:t})},h=({pwtName:e,annotateExperiments:t,version:r})=>{let n=r?`.v${r}`:"",a=`TIMING_COMPLETE${n}`;c({eventName:a,tags:{handler:(0,o.q)()},annotateExperiments:t}),e&&c({eventName:`${a}.${e}`,annotateExperiments:t})},v=(e="missing_constraint_name",t)=>{let r="CONSTRAINT_COMPLETE";c({eventName:`${r}.${e}`,tags:{handler:(0,o.q)()}}),t&&c({eventName:`${r}.${t}.${e}`})},w=(e,t)=>{let r="CONSTRAINT_ABORT";c({eventName:`${r}.${e}`,tags:{handler:(0,o.q)()}}),t&&c({eventName:`${r}.${t}.${e}`})},y=(e,t)=>{let r="CONSTRAINT_START";c({eventName:`${r}.${e}`,tags:{handler:(0,o.q)()}}),t&&c({eventName:`${r}.${t}.${e}`})}},93139(e,t,r){r.d(t,{Wg:()=>a,ht:()=>i,vz:()=>o});let n={};function a(){return n}function i(e,t){n[e]=t}function o(){n={}}},449344(e,t,r){let n,a,i,o;r.d(t,{$G:()=>J,$I:()=>x,Cy:()=>D,EZ:()=>$,Fg:()=>E,HX:()=>N,Ie:()=>L,OW:()=>O,Oh:()=>Y,PX:()=>P,Qh:()=>b,R$:()=>G,R9:()=>F,Wj:()=>q,X1:()=>j,XA:()=>A,XX:()=>X,YH:()=>U,Yp:()=>k,e0:()=>T,hq:()=>z,lj:()=>H,mw:()=>y,nz:()=>W,qu:()=>R,sq:()=>Q,uS:()=>S,uW:()=>B,v5:()=>M,vp:()=>I,vs:()=>V,yg:()=>C});var s=r(88894);let l={},p=[],d=[],u={},c={},_=[],m=0,f=0,g={},h={},v=!1,w=["webpack_react_profiler","web_early_hydration","ap_dweb_res_user_simplified_grid_overflow_menu_entrypoint","web_optimize_font_loading","delta_compressed_mjs","web_sw_include_polyfills","web_pwt_grid_profiler_v2","web_soft_navigation_origin_trial"];function y(){return n}function T(){return w}function S(){return d}function E(){return a}function $(){return c}function b(){return u}function A(){return _}function M(){return i}function R(){return m}function O(){return v}function k(e){v=e}function B(){return p}function P(e){d.splice(e,1)}function I(e){p.push(e)}function N(){return l}function C(e){m=e}function W(e){let t=Object.entries(u).filter(([t])=>e.has(t)).map(([,e])=>e).filter(e=>void 0!==e);m=t.length>0?Math.max(...t):0}function x(e,t){u[e]=t}function D(e){n=e}function L(e){f=e}function z(e){a=e}function j(e){i=e}function F(e){_=e}function q(){return n?f:0}function G(){return n?n.name:"unknown"}function H(){return n?f:null}function V(){return h}function U(){return g}function J(e,t){g[e]=t}function X(e){d.push(e)}function Y(e,t){c={...c,[e]:t}}function Q(){(o??=window.location?.search?.includes("pwt_performance_testing=true"))||window.performance?.clearResourceTimings?.(),l={},p=[],d=[],u={},c={},_=[],n=null,m=0,f=0,i="",g={},h={},(0,s.Kz)()}},2354(e,t,r){r.d(t,{OK:()=>p,fv:()=>l,tQ:()=>d});var n=r(294916),a=r(787453),i=r(987759),o=r(399952);let s={appVersion:"unknown",browserName:"",browserVersion:"",country:"",deviceType:"desktop",fullPath:"",getExperimentGroup:()=>null,hasActiveServiceWorker:!1,isAppShell:!1,isAuthenticated:!1,isBot:!1,isModernBundleCapable:!1,isSocialBot:!1,locale:"",osName:"",getServerData:()=>null,stageName:"",startType:"",unauthId:"",precacheDataPromise:void 0};function l({requestContext:e}){s={appVersion:(0,o.A)(),browserName:e.userAgent.browserName,browserVersion:e.userAgent.browserVersion,country:e.country,deviceType:(0,n.A)(e),fullPath:e.fullPath,getExperimentGroup:t=>e.experimentsClient.checkExperiment(t,{dangerouslySkipActivation:!0}).group||null,hasActiveServiceWorker:(0,i.A)(),isAppShell:!1,isAuthenticated:e.isAuthenticated,isBot:e.isPerfMetricsBot,isModernBundleCapable:(0,a.A)({browserName:e.userAgent.browserName||"",browserType:e.userAgent.browserType||0,browserVersion:e.userAgent.browserVersion||"",userAgentString:e.userAgent.raw,isBotRequest:e.isBot,isInternalIP:e.isInternalIP}),isSocialBot:e.isSocialBot,locale:e.locale,osName:e.userAgent.osName||"",getServerData:()=>window&&window.PWS_TRACE_LOGGER?window.PWS_TRACE_LOGGER:null,stageName:e.stage,startType:"",unauthId:e.unauthId,precacheDataPromise:void 0}}function p(e){s={...s,...e}}function d(){return s}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/3854-381e70126e928aaa.mjs.map