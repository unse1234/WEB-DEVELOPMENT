(self.modernJsonp=self.modernJsonp||[]).push([["97466"],{998365(e,t,o){o.d(t,{A:()=>a});function a(e){return e?"/pin-creation-tool/":"/idea-pin-builder/"}},382188(e,t,o){o.d(t,{A:()=>B});var a=o(61163),s=o(859471),l=o(106386),i=o(19821);let n="board",r="user",c="conversation";var d=o(538329),_=o(542975),p=o(499877),u=o(562615);function h({shouldBlock:e,updateShouldBlock:t,user:o}){(0,s.useEffect)(()=>{(0,a.A)("BlockUserSwitch","/app/common/react/components/undiscovery/ReportModal/BlockUserSwitch.tsx")},[]);let l=(0,d.A)(),{fullName:n,username:r}=o,c=n?`${n} (${r})`:r;return(0,u.jsxs)(i.az,{paddingY:3,children:[(0,u.jsx)(i.KJ,{size:"100",children:(0,_.vQ)(l.bt("Block {{ name }}", "Block {{ name }}", "reportModal.detailPage.userBlockSwitch.heading", undefined, true),{name:c})}),(0,u.jsxs)(i.az,{direction:"row",display:"flex",paddingY:2,children:[(0,u.jsx)(i.az,{marginEnd:2,children:(0,u.jsx)(i.Sc,{checked:e,id:"blockUser",onChange:t})}),(0,u.jsx)(i.az,{children:(0,u.jsx)(i.KJ,{size:"300",children:(0,u.jsx)(p.A,{})})})]})]})}var m=o(601185),A=o(501309);let b={listStyleType:"disc",marginLeft:"18px",fontSize:"16px"};function f({objectToReport:e,isBlocked:t,setIsBlocked:o,selectedReason:l,shouldBlockUser:n,renderVideoReasonDetailPage:r,updateShouldBlockUser:c}){(0,s.useEffect)(()=>{(0,a.A)("ReasonDetailPage","/app/common/react/components/undiscovery/ReportModal/ReasonDetailPage.tsx")},[]);let{detail_page_removal_examples:_,detail_page_removal_example_header:p,detail_page_non_removal_examples:f,detail_page_non_removal_example_header:x,detail_page_additional_text:g}=l,{userToBlock:z}=e,{checkExperiment:P}=(0,m.A)(),y=(0,d.A)(),w=P("web_blocking_upsell").anyEnabled;return(0,u.jsxs)(i.az,{paddingX:8,children:[w&&(0,u.jsx)(i.KJ,{size:"300",children:y.bt("We usually review all submitted reports within 48 hours. We won’t notify this account that you submitted a report.", "We usually review all submitted reports within 48 hours. We won’t notify this account that you submitted a report.", "reportPinReasonDetail.effectNotification", undefined, true)}),(0,u.jsxs)(i.az,{paddingY:3,children:[(0,u.jsx)(i.KJ,{size:"100",children:p}),_.length>0&&(0,u.jsx)(i.az,{paddingY:2,children:(0,u.jsx)("ul",{children:_.map((e,t)=>(0,u.jsx)("li",{style:b,children:(0,u.jsx)(i.KJ,{size:"300",children:e})},`removals-${t}`))})})]}),f.length>0&&(0,u.jsxs)(i.az,{paddingY:3,children:[(0,u.jsx)(i.KJ,{size:"100",children:x}),(0,u.jsx)(i.az,{paddingY:2,children:(0,u.jsx)("ul",{children:f.map((e,t)=>(0,u.jsx)("li",{style:b,children:(0,u.jsx)(i.KJ,{size:"300",children:e})},`removals-${t}`))})})]}),g&&(0,u.jsx)(i.az,{paddingY:3,children:(0,u.jsx)(i.KJ,{size:"300",children:g})}),r&&r(),w&&z?(0,u.jsx)(A.A,{isBlocked:t,setIsBlocked:o,userToBlock:z}):(0,u.jsx)(i.az,{children:"conversation"===e.type&&c&&e.userToBlock&&(0,u.jsx)(h,{shouldBlock:!!n,updateShouldBlock:c,user:{username:e.userToBlock.username,fullName:e.userToBlock.fullName}})})]})}var x=o(586733);function g({isSelectionStep:e,isBlocked:t,hasTimestampErrors:o,selectedReason:l,handleSubmitReport:n,onDismiss:r,step:c,shouldBlockUser:_,objectToReport:p,setStep:h}){(0,s.useEffect)(()=>{(0,a.A)("ReportFooter","/app/common/react/components/undiscovery/ReportModal/ReportFooter.tsx")},[]);let A=(0,d.A)(),{logContextEvent:b}=(0,x.o)(),{checkExperiment:f}=(0,m.A)(),g=({component:e,element:t,event:o})=>{p&&b({event_type:o,component:e,element:t,object_id_str:p.id,view_parameter:p.viewParameter||void 0,view_type:p.viewType||void 0})},z=e=>()=>{!0!==e&&g({event:101,component:13179,...l?{element:l.element_type}:{}}),h(e)},P=e&&!l?.key||!e&&o,y=!(!1===c&&l&&"secondary_reasons"in l&&l?.secondary_reasons&&l.secondary_reasons.length>0),w=e?A.bt("Next", "Next", "ReportModal.nextButton", undefined, true):f("web_blocking_upsell").anyEnabled&&t?A.bt("Block and report", "Block and report", "ReportModal.blockAndReportButton", undefined, true):A.bt("Report", "Report", "ReportModal.submitButton", undefined, true),j=e?z(!1):()=>{l&&n({reasonKey:l.key,...{selectedReason:l},...{shouldBlockUser:_}})};l?.open_web_url&&(j=()=>{"pin"===p.type&&g({event:59,element:l.element_type}),l.open_web_url&&window.open(l.open_web_url,"_blank"),r()});let v=e?A.bt("Cancel", "Cancel", "ReportModal.cancelButton", undefined, true):A.bt("Back", "Back", "ReportModal.backButton", undefined, true),B=e?r:z(!0);return(0,u.jsxs)(i.az,{direction:"row",display:"flex",justifyContent:"end",marginEnd:-1,marginStart:-1,children:[(0,u.jsx)(i.az,{paddingX:1,children:(0,u.jsx)(i.az,{"data-test-id":"report-pin-back-button",children:(0,u.jsx)(i.$n,{onClick:B,size:"lg",text:v})})}),y&&(0,u.jsx)(i.az,{paddingX:1,children:(0,u.jsx)(i.az,{"data-test-id":"report-pin-submit-button",children:(0,u.jsx)(i.$n,{color:"primary",disabled:P??!1,onClick:j,size:"lg",text:w})})})]})}var z=o(670330);function P({handleSelectedReason:e,reason:t,reportingReasons:o}){(0,s.useEffect)(()=>{(0,a.A)("SelectReportingReason","/app/common/react/components/undiscovery/ReportModal/SelectReportingReason.tsx")},[]);let l=(0,d.A)(),n=o.filter(e=>void 0!==e.key&&null!==e.key);return(0,u.jsx)(i.az,{paddingX:4,paddingY:2,children:(0,u.jsx)(i.z6,{id:"select-reporting-reason",legend:l.bt("Select reporting reason", "Select reporting reason", "select_reporting_reason.legend", undefined, true),legendDisplay:"hidden",children:n.map(o=>(0,u.jsx)(i.az,{direction:"row",display:"flex",paddingX:4,children:(0,u.jsx)(i.az,{"data-test-id":`report-pin-reason-${o.key}`,children:(0,u.jsx)(i.z6.RadioButton,{checked:o.key===t,helperText:o.secondary_text||"",id:o.key,label:o.primary_text||"",name:"reportPinOptions",onChange:()=>e(o),value:o.key})})},`Option-${o.key}`))})})}var y=o(743372),w=o(79906),j=o(83203),v=o(974694);function B({onDismiss:e,handleSubmitReport:t,hasTimestampErrors:o,objectToReport:_,renderVideoReasonDetailPage:p,reportingReasons:h,showSuccessReportMessage:m}){(0,s.useEffect)(()=>{(0,a.A)("ReportModal","/app/common/react/components/undiscovery/ReportModal/ReportModal.tsx")},[]);let A=(0,d.A)(),[b,x]=(0,s.useState)(null),[B,k]=(0,s.useState)(!1),C=(0,l.wA)(),R=(0,y.A)(),[S,T]=(0,s.useState)(!1),[M,E]=(0,s.useState)(!0),I=(0,j.A)(),{userToBlock:L}=_,D=e=>{x(e)},U=()=>{if(!0!==M&&b?.detail_page_header_text)return b.detail_page_header_text;switch(_.type){case"pin":return A.bt("Report Pin", "Report Pin", "pinReporting.heading", undefined, true);case r:return A.bt("Report account", "Report account", "accountReporting.heading", undefined, true);case c:return A.bt("Report conversation", "Report conversation", "conversationReporting.heading", undefined, true);case n:return A.bt("Report board", "Report board", "boardReporting.heading", undefined, true);default:return""}};return h?(0,u.jsx)(w.Ay,{accessibilityModalLabel:U(),footer:h&&(0,u.jsx)(g,{handleSubmitReport:e=>{S&&L&&(C((0,v.om)({id:L.id,logContextEvent:R})),R({event_type:17447,view_parameter:(()=>{switch(_.type){case"pin":return 71;case c:return 3981;case n:return 3846;case r:return 86;default:return null}})(),element:18096})),t(e)},hasTimestampErrors:o,isBlocked:S,isSelectionStep:!0===M,objectToReport:_,onDismiss:e,selectedReason:b,setStep:E,shouldBlockUser:B,step:M}),heading:U(),onDismiss:e,children:(0,u.jsxs)(i.az,{"data-test-id":"report-modal",children:[!0===M&&(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)(P,{handleSelectedReason:D,reason:b?.key,reportingReasons:h}),m&&(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)(i.az,{borderColor:"decorative",borderWidth:"sm",marginBottom:4,marginEnd:8,marginStart:8,marginTop:4}),(0,u.jsx)(i.az,{marginEnd:4,marginStart:4,children:(0,u.jsx)(i.QE,{message:A.bt("Blocked. To manage your block list, see social permissions in Settings.", "Blocked. To manage your block list, see social permissions in settings.", "pinReporting.successBlockMessage", undefined, true),type:"success"})})]})]}),!0!==M&&b&&"secondary_reasons"in b&&b?.secondary_reasons&&b.secondary_reasons.length>0?(0,u.jsx)(z.A,{onChange:D,secondaryReasons:b.secondary_reasons}):!0!==M&&b&&(0,u.jsx)(f,{isBlocked:S,objectToReport:_,renderVideoReasonDetailPage:p,selectedReason:b,setIsBlocked:T,shouldBlockUser:B,updateShouldBlockUser:()=>{_.userToBlock&&(B||I(),k(!B))}})]})}):(0,u.jsx)(i.y$,{accessibilityLabel:A.bt("Loading Pin report modal", "Loading pin report modal", "pinReporting.spinner", undefined, true),show:!0})}},670330(e,t,o){o.d(t,{A:()=>r});var a=o(61163),s=o(859471),l=o(19821),i=o(538329),n=o(562615);function r({onChange:e,secondaryReasons:t}){(0,s.useEffect)(()=>{(0,a.A)("SecondaryReasons","/app/common/react/components/undiscovery/ReportModal/SecondaryReasons.tsx")},[]);let o=(0,i.A)();return(0,n.jsx)(l.az,{children:t.map(t=>(0,n.jsx)(l.Rp,{onTap:()=>t.open_web_url?window.open(t.open_web_url,"_blank"):e(t),children:(0,n.jsxs)(l.az,{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",paddingY:3,children:[(0,n.jsx)(l.az,{paddingX:8,children:(0,n.jsx)(l.KJ,{children:t.primary_text})}),(0,n.jsx)(l.az,{"data-test-id":"secondary-reason-container",paddingX:8,children:t.open_web_url?(0,n.jsx)(l.In,{accessibilityLabel:o.bt("Visit for more information", "Visit for more information", "pinReporting.secondaryReason.outsideLink.icon", undefined, true),color:"default",dataTestId:"secondary-reason-outside-link-icon",icon:"arrow-up-right"}):(0,n.jsx)(l.In,{accessibilityLabel:o.bt("Select this reason", "Select this reason", "pinReporting.secondaryReason.modalPageLink.icon", undefined, true),color:"default",dataTestId:"secondary-reason-icon",icon:"chevron-right"})})]})},t.key))})}},574704(e,t,o){o.d(t,{A:()=>n});var a=o(567176),s=o(538329),l=o(706466),i=o(562615);function n(){let e=(0,s.A)(),{showToast:t}=(0,l.CG)();return{showErrorToast:()=>{t(({hideToast:t})=>(0,i.jsx)(a.A,{onHide:t,text:e.bt("Something went wrong.", "Something went wrong.", "fetchReportingReasons.Toast.Unsuccessful", undefined, true)}))},showSuccessToast:()=>{t(({hideToast:t})=>(0,i.jsx)(a.A,{onHide:t,text:e.bt("Thanks. For updates, see your Reports and violations centre.", "Thanks. For updates, see your reports and violations center.", "userReporting.handleSubmitReport.toast", undefined, true)}))}}}},227835(e,t,o){o.d(t,{A:()=>s});var a=o(753771);function s(e){return e===a.A.BoardPrivacy.SECRET}},912186(e,t,o){o.d(t,{A:()=>s});var a=o(111723);let s=function(e,...t){let o=e[0];for(let s=0;s<t.length;s+=1)o+=(0,a.A)(t[s])+e[s+1];return o}},501309(e,t,o){o.d(t,{A:()=>d});var a=o(61163),s=o(859471),l=o(19821),i=o(538329),n=o(542975),r=o(499877),c=o(562615);function d({isBlocked:e,userToBlock:t,setIsBlocked:o}){(0,s.useEffect)(()=>{(0,a.A)("BlockUserForm","/app/www/BlockedAccounts/BlockUserForm.tsx")},[]);let d=(0,i.A)();return t?t.blockedByMe?(0,c.jsx)(l.az,{marginTop:4,children:(0,c.jsx)(l.KJ,{color:"subtle",size:"100",children:(0,n.vQ)(d.bt("You’ve already blocked {{ fullName }}. Manage your block list in Settings > Social permissions and activity at any time.", "You’ve already blocked {{ fullName }}. Manage your block list in Settings > Social permissions and activity at any time.", "reportPinReasonDetail.blockedUser.information", undefined, true),{fullName:t.fullName})})}):(0,c.jsx)(l.az,{children:(0,c.jsx)(l.so,{alignItems:"center",gap:4,height:"100%",justifyContent:"center",width:"100%",children:(0,c.jsx)(l.Sc,{checked:e,helperText:(0,c.jsx)(r.A,{}),id:"block-user-checkbox",label:(0,n.vQ)(d.bt("Block {{ fullName }}?", "Block {{ fullName }}?", "reportPinReasonDetail.blockUser.checkLabel", undefined, true),{fullName:t?.fullName}),onChange:({checked:e})=>o(e)})})}):null}},499877(e,t,o){o.d(t,{A:()=>u});var a=o(61163),s=o(859471),l=o(19821),i=o(586733),n=o(538329),r=o(542975),c=o(607685),d=o(971289),_=o(562615);let p=c.cHt+"?source=block_dialogue";function u(){(0,s.useEffect)(()=>{(0,a.A)("BlockingUserWarning","/app/www/BlockedAccounts/BlockingUserWarning.tsx")},[]);let e=(0,n.A)(),t=(0,d.qJ)(),{logContextEvent:o}=(0,i.o)(),c=()=>{o({event_type:t?101:102,component:13})};return(0,r.$w)({text:e.bt("You won’t be able to see, follow or contact each other, or save each other’s Pins. People aren’t notified when you block them. <strong id=\"1\">Learn more</strong>", "You won’t be able to see, follow or contact each other, or save each other’s Pins. People aren’t notified when you block them. <strong id=\"1\">Learn more</strong>", "blockingUsers.description", undefined, true),jsxReplacements:{1:({innerHtmlStrings:e})=>(0,_.jsx)(l.N_,{display:"inlineBlock",href:p,onClick:c,target:"blank",children:e})}})}},703334(e,t,o){o.d(t,{A:()=>d});var a=o(61163),s=o(859471),l=o(19821),i=o(79906),n=o(538329),r=o(259490),c=o(562615);function d({viewParameter:e,sensitivity:t,dismiss:o,objectType:d}){(0,s.useEffect)(()=>{(0,a.A)("SensitiveReportModal","/app/www/ContentSensitivity/SensitiveReportModal.tsx")},[]);let _=(0,n.A)();return(0,c.jsxs)(i.Ay,{accessibilityModalLabel:_.bt("Sensitive report", "Sensitive Report", "sensitiveNotice.sensitiveReportModal.sensitiveReport", undefined, true),onDismiss:o,children:[(0,c.jsx)(l.so,{justifyContent:"end",children:(0,c.jsx)(l.az,{marginTop:4,paddingX:4,children:(0,c.jsx)(l.K0,{accessibilityLabel:_.bt("Close", "Close", "sensitiveNotice.sensitiveReportModal.closeButton", undefined, true),icon:"close",iconColor:"dark",onClick:o,size:"lg"})})}),t?.notices?.map(o=>(0,c.jsx)(r.A,{notice:o,objectType:d,sensitivity:t,viewParameter:e,viewType:16},o.id)),(0,c.jsx)(l.az,{paddingX:4,children:(0,c.jsx)(l.cG,{})}),(0,c.jsx)(l.az,{padding:4,children:(0,c.jsx)(l.QE,{message:_.bt("Thanks. For updates, see your Reports and violations centre.", "Thanks. For updates, see your reports and violations center.", "sensitiveNotice.sensitiveReportModal.successMessage", undefined, true),type:"success"})})]})}},475860(e,t,o){o.d(t,{A:()=>j});var a=o(61163),s=o(859471),l=o(106386),i=o(979638),n=o(19821),r=o(743372),c=o(296221),d=o(79906),_=o(538329),p=o(601185),u=o(971289),h=o(734696),m=o(897983),A=o(562615);function b({isOpen:e,onDismiss:t}){(0,s.useEffect)(()=>{(0,a.A)("DisabledPinCreationModal","/app/www/CreateMenu/DisabledPinCreationModal.tsx")},[]);let o=(0,_.A)();return(0,A.jsx)(d.Ay,{accessibilityModalLabel:o.bt("Disabled Pin publishing error message modal", "Disabled Pin Publishing Error Message Modal", "disabledPinCreationModal.modal.accessibilityLabel", undefined, true),isOpen:e,mobileAccessibilityCloseIconLabel:o.bt("Close disabled publishing message modal", "Close disabled publishing message modal", "disabledPinCreationModal.modal.closeIconLabel", undefined, true),onDismiss:t,type:"DisabledPublishingModal",children:(0,A.jsxs)(n.az,{alignItems:"center",direction:"column",display:"flex",paddingX:6,paddingY:4,children:[(0,A.jsx)(n._Y,{children:o.bt("Oops...", "Oops...", "disabledPinCreationModal.modal.heading", undefined, true)}),(0,A.jsx)(n.az,{paddingY:3,children:(0,A.jsx)(n.KJ,{children:o.bt("Our server is experiencing a mild case of the hiccups at the moment. Please try refreshing and publishing again later.", "Our server is experiencing a mild case of the hiccups at the moment. Please try refreshing and publishing again later.", "disabledPinCreationModal.modal.text", undefined, true)})}),(0,A.jsx)(n.az,{paddingY:3,children:(0,A.jsx)(n.$n,{color:"primary",onClick:()=>t(),size:"lg",text:o.bt("Dismiss", "Dismiss", "disabledPinCreationModal.button.dismiss", undefined, true)})})]})})}function f(e){(0,s.useEffect)(()=>{(0,a.A)("CreateMenuLinkButton","/app/www/CreateMenuLinkButton.tsx")},[]);let t=(0,_.A)(),{viewType:o,boardId:l,handleTouch:i}=e,r=t.bt("Board", "Board", "createMenuLinkButton.Create.Board.Label", undefined, true),c=t.bt("Section", "Section", "createMenuLinkButton.Create.Section.Label", undefined, true);return 5===o&&l?(0,A.jsx)(n.$A,{href:`/board/${l}/create_section/`,onTap:i,rounding:200,children:(0,A.jsx)(n.az,{"data-test-id":"addSectionButton",paddingY:2,children:(0,A.jsx)(n._Y,{size:"400",children:c})})}):(0,A.jsx)(n.$A,{href:"/board/create/",onTap:i,children:(0,A.jsx)(n.az,{"data-test-id":"createMenuCreateBoardButton",paddingY:2,children:(0,A.jsx)(n._Y,{size:"400",children:r})})})}var x=o(252162);function g({disabledPinCreation:e,handleDisablePublish:t,handleTouch:o}){(0,s.useEffect)(()=>{(0,a.A)("CreatePinButton","/app/www/CreatePinButton.tsx")},[]);let l=(0,_.A)(),r=(0,i.Zp)(),c=l.bt("Photo", "Photo", "createPinButton.Photo.Upload.Label", undefined, true);return(0,A.jsx)(n.Rp,{onTap:()=>{e?t():o()},tapStyle:"none",children:(0,A.jsxs)(n.az,{paddingY:2,position:"relative",children:[(0,A.jsx)(n._Y,{size:"400",children:c}),e?null:(0,A.jsx)("input",{accept:"image/*",id:"upload-pin",onChange:e=>{let t=new FileReader;t.readAsDataURL(e.target.files[0]),t.onload=()=>{let e=t.result;r(`/pin/create/${x.zK}/`,{state:{imageBase64:String(e),description:"",imageUrl:"",method:x.zK}})}},style:{opacity:0,position:"absolute",top:"0px",height:"100%",width:"100%"},type:"file"})]})})}var z=o(550552),P=o(226150),y=o(868805);function w({bgColor:e,boardId:t,buttonPadding:o,disabledPinCreation:l,elementType:i,navigate:r,i18n:_,iconButtonColor:p="subtle",iconButtonSize:u="xl",isDesktop:x,isInputOpen:P,logContextEvent:y,requireAuthForLimitedLogin:w,submittedLink:j,updatePinBuilderInput:v,viewType:B}){let k,C,R,S;(0,s.useEffect)(()=>{(0,a.A)("CreateMenu","/app/www/CreateMenu/CreateMenu.tsx")},[]);let[T,M]=(0,s.useState)(""),[E,I]=(0,s.useState)(!1),[L,D]=(0,s.useState)(!1),[U,F]=(0,s.useState)(!1),[O,K]=(0,s.useState)(null);(0,s.useEffect)(()=>{(P||j)&&(I(!!P),D(!!P),j&&M(j))},[P,j]);let N=(0,s.useRef)(null),Y=(0,s.useRef)(null),J=()=>{y({view_type:B,view_parameter:3106,element:i,event_type:102,aux_data:{source:m.A.PROFILE}})},$=()=>{I(!1),D(!1),v({isInputOpen:!1,submittedLink:""})},W=()=>{I(!1),F(!0)},H=(e,t)=>{e.preventDefault();let{errors:o}=(0,h.k)({message:_.bt("Oops! Please enter a valid URL.", "Oops! Please enter a valid URL.", "URL validation error message on Pin builder form", undefined, true)})(T),[a]=o;a?K(a):(D(!1),v({submittedLink:T}),t("/pin-builder/",{state:{createPinFromLinkUrl:T}}),$())},X=_.bt("Add a Pin or board", "Add a Pin or board", "heading in profile create modal", undefined, true);164===B?X=_.bt("Add to section", "Add to section", "heading in section create modal", undefined, true):5===B&&(X=_.bt("Add a Pin or section", "Add a Pin or section", "heading in profile create modal", undefined, true)||_.bt("Add to board", "Add to board", "heading in board create modal", undefined, true));let Q=4===B?_.bt("Add to profile", "Add to profile", "editPin.AddToProfile.Modal.Header", undefined, true):X,V=(5===B||164===B)&&Y.current;return(0,A.jsxs)(s.Fragment,{children:[(0,A.jsx)(n.so,{alignItems:"center",justifyContent:"start",children:(0,A.jsx)(n.az,{"data-test-id":"createMenuCreateButton",children:(0,A.jsx)(n.K0,{ref:Y,accessibilityLabel:_.bt("Create a Pin or board", "Create a Pin or board", "icon that opens model prompting user to create a new pin or board", undefined, true),bgColor:e,icon:"plus",iconColor:p,onClick:()=>{J(),w({fn:()=>I(!0),modalHeader:(0,z.R2)(_)})()},padding:o,size:u})})}),E&&(0,A.jsx)(d.Ay,{accessibilityModalLabel:"",heading:Q,isOpen:E,mobileAccessibilityCloseIconLabel:_.bt("close board and pin create modal", "close board and pin create modal", "close modal that prompts user to create a new pin or board", undefined, true),onDismiss:$,type:"create_menu",children:(0,A.jsx)(n.az,{padding:3,children:(0,A.jsxs)(n.so,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[(0,A.jsxs)(n.az,{paddingX:2,children:[(0,A.jsx)(n.az,{marginBottom:2,children:(0,A.jsx)(n.KJ,{children:_.bt("Create", "Create", "editPin.Create.Section.Text", undefined, true)})}),(k=_.bt("Website", "Website", "editPin.CreatePinFromUrl.Label", undefined, true),(0,A.jsx)(n.so,{alignItems:"center",justifyContent:"start",children:L?(0,A.jsx)("form",{onSubmit:e=>H(e,r),style:{width:"100%"},children:(0,A.jsxs)(n.so,{alignItems:"start",justifyContent:"between",children:[(0,A.jsx)(n.az,{ref:N,width:"100%",children:(0,A.jsx)(n.az,{marginBottom:2,marginEnd:2,smMarginBottom:0,smMarginEnd:2,children:(0,A.jsx)(n.A_,{errorMessage:O,id:"create-pin-from-link",onChange:({value:e})=>{M(e)},onFocus:()=>K(null),placeholder:(C=window&&window.innerWidth||0,R=_.bt("Enter a link to create a Pin, https://...", "Enter a link to create a Pin, https://...", "placeholder in text field where a user inputs a URL to create a Pin", undefined, true),S=_.bt("Enter a link, https://...", "Enter a link, https://...", "placeholder in text field where a user inputs a URL to create a Pin - short version, 30 char limit", undefined, true),C<380?S:R),size:"lg",value:T})})}),(0,A.jsx)(n.K0,{accessibilityLabel:_.bt("Create Pin from entered link", "Create Pin from entered link", "navigation button to confirm user will create a Pin from a link they entered", undefined, true),icon:"chevron-right",iconColor:"default",onClick:({event:e})=>H(e,r),size:"lg"})]})}):(0,A.jsx)(n.Rp,{onTap:()=>{l?W():(D(!0),v({isInputOpen:!0}))},tapStyle:"none",children:(0,A.jsx)(n.az,{"data-test-id":"websiteButton",position:"relative",children:(0,A.jsx)(n._Y,{size:"400",children:k})})})})),(0,A.jsx)(g,{disabledPinCreation:l,handleDisablePublish:W,handleTouch:J})]}),164!==B&&(0,A.jsxs)(n.az,{marginTop:6,paddingX:2,children:[(0,A.jsx)(n.KJ,{children:_.bt("Add", "Add", "editPin.Section.Add.Text", undefined, true)}),(0,A.jsx)(f,{boardId:t,handleTouch:()=>{J(),$()},viewType:B})]}),(0,A.jsx)(n.az,{display:"flex",justifyContent:"center",marginBottom:2,marginTop:7,children:(0,A.jsx)(n.$n,{onClick:()=>$(),size:"lg",text:_.bt("Close", "Close", "editPin.Modal.Close.Button", undefined, true)})})]})})}),U&&(0,A.jsx)(b,{isOpen:!0,onDismiss:()=>{F(!1)}}),V&&(0,A.jsx)(c.X$,{anchors:{[x?3006:4006]:Y.current},idealDirection:"up",onAnchorTouch:"complete",placementId:x?18:1000251,scrollToDismiss:!0})]})}function j(e){(0,s.useEffect)(()=>{(0,a.A)("CreateMenu","/app/www/CreateMenu/CreateMenu.tsx")},[]);let t=(0,_.A)(),o=(0,u.qJ)(),{checkExperiment:n}=(0,p.A)(),c=["disable_all","disable_web_pins"].includes(n("disable_pin_creation").group),d=(0,l.wA)(),h=(0,i.Zp)(),{pinBuilder:m}=(0,l.d4)(e=>e.session),b=(0,r.A)(),f=m&&m.isInputOpen,x=m&&m.submittedLink,g=(0,P.A)();return(0,A.jsx)(w,{...e,disabledPinCreation:c,i18n:t,isDesktop:o,isInputOpen:f,logContextEvent:b,navigate:h,requireAuthForLimitedLogin:g,submittedLink:x,updatePinBuilderInput:e=>d((0,y.W)(e))})}},970042(e,t,o){o.d(t,{A:()=>i});var a=o(859471),s=o(743372),l=o(752159);function i(e){let{auxData:t,clientTrackingParams:o,children:i,component:n,element:r,objectIdStr:c,viewData:d,viewParameter:_,viewType:p}=e,u=(0,s.A)(),h=JSON.stringify(t),m=JSON.stringify(d);return(0,a.useEffect)(()=>{(({viewType:e,viewParameter:t,viewData:o,auxData:a,objectIdStr:s,component:i,clientTrackingParams:n,element:r},c)=>{let d,_=Object.keys(d={event_type:13,view_type:e,view_parameter:t,view_data:o,aux_data:a,object_id_str:s,component:i,clientTrackingParams:n,element:r}).reduce((e,t)=>(void 0===d[t]&&delete e[t],e),{...d});-1===Object.keys(_).indexOf("view_type")&&(0,l.PM)("mweb.logging.null_view_type"),c(_)})(e,u)},[u,h,o,n,r,c,m,_,p]),a.Children.only(i)}},223310(e,t,o){o.d(t,{A:()=>n});var a=o(61163),s=o(859471),l=o(19821),i=o(562615);function n(e){(0,s.useEffect)(()=>{(0,a.A)("ActionBarButton","/app/www/board/Header/ActionBar/ActionBarButton.tsx")},[]);let{accessibilityLabel:t,accessibilityControls:o,accessibilityExpanded:n,bgColor:r,icon:c,iconColor:d,onClick:_,selected:p,size:u,tooltip:h}=e;return(0,i.jsx)(l.K0,{accessibilityControls:o,accessibilityExpanded:n,accessibilityLabel:t,bgColor:r??"transparent",icon:c,iconColor:d??"default",onClick:_,selected:p,size:u??"lg",tooltip:h?{text:h}:void 0})}},305147(e,t,o){o.d(t,{A:()=>r});var a=o(61163),s=o(859471),l=o(19821),i=o(223310),n=o(562615);function r({bgColor:e,children:t,dropdownLabel:o,label:r,icon:c,iconColor:d,id:_,size:p,tooltip:u,initiallyOpen:h=!1}){(0,s.useEffect)(()=>{(0,a.A)("ActionBarMenuButton","/app/www/board/Header/ActionBar/ActionBarMenuButton.tsx")},[]);let m=(0,s.useRef)(null),[A,b]=(0,s.useState)(h),f=()=>b(!1),x="actionBarMenuButton";return(0,n.jsxs)(s.Fragment,{children:[(0,n.jsx)(l.az,{ref:m,"data-test-id":_,children:(0,n.jsx)(i.A,{accessibilityControls:x,accessibilityExpanded:A,accessibilityLabel:r,bgColor:e,icon:c,iconColor:d,onClick:()=>b(!A),selected:A,size:p,tooltip:u})}),A&&(0,n.jsx)(l.ms,{accessibilityLabel:o,anchor:m.current,disableMobileUI:!0,id:x,idealDirection:"down",onDismiss:f,zIndex:new l.rk(1e3),children:t({handleClose:f})})]})}},252162(e,t,o){o.d(t,{BY:()=>s,HT:()=>c,UV:()=>_,Z2:()=>l,cA:()=>d,dD:()=>n,zK:()=>a});let a="uploaded",s="pinbuilder",l="scraped";function i(e){return!!e&&"object"==typeof e&&"method"in e}function n(e){return i(e)&&e.method===l}function r(e){return i(e)&&e.method===a}function c(e){return i(e)&&"button"===e.method}function d(e){return n(e)||r(e)||c(e)}function _({boardId:e,checkExperiment:t,createPin:o,sectionId:a,state:s}){let l=[];if(n(s)){let{imgData:i}=s;i.forEach(i=>{l.push(o(function({boardId:e,checkExperiment:t,image:o,sectionId:a,state:s}){let{description:l,link:i,method:n}=s;return{boardId:e,checkExperiment:t,description:l,guid:"",imageBase64:"",imageUrl:o,link:i,method:n,sectionId:a}}({boardId:e,checkExperiment:t,image:i,sectionId:a,state:s})))})}else l.push(o(function({boardId:e,checkExperiment:t,sectionId:o,state:a}){if(r(a)){let{description:s,imageBase64:l,imageUrl:i,method:n}=a;return{boardId:e,checkExperiment:t,description:s,guid:"",imageBase64:l,imageUrl:i,link:"",method:n,sectionId:o}}{let{description:s,guid:l,imageUrl:i,link:n,method:r}=a;return{boardId:e,checkExperiment:t,description:s,guid:l,imageUrl:i,link:n,method:r,sectionId:o}}}({boardId:e,checkExperiment:t,sectionId:a,state:s})));return l}},258301(e,t,o){o.d(t,{D5:()=>n,Hc:()=>c,ht:()=>r});var a=o(859471),s=o(562615);let l=(0,a.createContext)(),i=(0,a.createContext)();function n({children:e}){let[t,o]=(0,a.useState)(!1);return(0,s.jsx)(l,{value:t,children:(0,s.jsx)(i,{value:o,children:e})})}function r(){let e=(0,a.use)(l);if(void 0===e)throw Error("useCountState must be used within a ShowBoardlessPinsContextProvider");return e}function c(){let e=(0,a.use)(i);if(void 0===e)throw Error("useCountUpdater must be used within a ShowBoardlessPinsContextProvider");return e}},18086(e,t,o){o.d(t,{IU:()=>l,JE:()=>i,QT:()=>n,eE:()=>s,oJ:()=>r});var a=o(19821);let s=new a.rk(1),l=new a.K5([s]),i=new a.K5([l]),n=new a.K5([i]),r=new a.K5([i])},868805(e,t,o){o.d(t,{F:()=>a,W:()=>s});let a=e=>({type:"PIN_BUILDER_LOADED_IMAGES",payload:e}),s=e=>({type:"UPDATE_PIN_BUILDER_INPUT",payload:e})},734247(e,t,o){o.d(t,{A:()=>z});var a=o(859471),s=o(19821),l=o(586733),i=o(538329),n=o(61163),r=o(581530),c=o(562615);function d({anchor:e,hideAddSectionTooltip:t}){(0,a.useEffect)(()=>{(0,n.A)("AddSectionTooltip","/app/www/save/board/BoardInfoBar/AddSectionTooltip.tsx")},[]);let o=(0,i.A)();return(0,c.jsx)(s.Wd,{children:(0,c.jsx)(s.az,{position:"absolute",top:!0,zIndex:r.sn,children:(0,c.jsx)(s.fT,{anchor:e,idealDirection:"down",message:o.bt("Tap + to add a section at any time", "Tap + to add a section any time", "boardActionsButton.addIconButton.addSectionFlyout", undefined, true),onDismiss:t})})})}var _=o(649811),p=o(693154),u=o(601185),h=o(18086);function m({anchor:e,idealDirection:t,onAddOrEditDate:o,onAddSection:l,onClose:r,onCreateBoard:d,onCreateCollage:m,onCreatePin:A,onCreateStoryPin:b,surface:f,isWithinFixedContainer:x,id:g}){(0,a.useEffect)(()=>{(0,n.A)("BoardActionsDropdown","/app/www/save/board/BoardInfoBar/BoardActionsButton/BoardActionsDropdown.tsx")},[]);let z=(0,i.A)(),P=(0,p.A)(),y=(0,_.A)(!0),{checkExperiment:w}=(0,u.A)(),j=["profileBoards","profilePins"].includes(f),v=j&&w("web_curation_board_create_entry_points").anyEnabled,B=j&&P?.isAuth&&(P?.isPartner||w("web_curation_collages_create_button").anyEnabled),k=(0,a.useMemo)(()=>({pin:z.bt("Pin", "Pin", "BoardActionsButton.LegoFlyout.Pin", undefined, true),rename:z.bt("Idea Pin", "Idea Pin", "BoardActionsButton.LegoFlyout.IdeaPin", undefined, true),board:z.bt("Board", "Board", "profileHeader.actionBar.board", undefined, true),collage:z.bt("Collage", "Collage", "profileHeader.actionBar.collage", undefined, true),section:z.bt("Section", "Section", "BoardActionsButton.LegoFlyout.Section", undefined, true),date:z.bt("Date", "Date", "BoardActionsButton.LegoFlyout.Date", undefined, true),new:z.bt("New", "New", "BoardActionsButton.LegoFlyout.New", undefined, true)}),[z]),C=[!y&&(0,c.jsx)(s.ms.Item,{dataTestId:"Create Pin",onSelect:()=>{A(),r()},option:{label:k.pin,value:k.pin}},"actions-create-0"),b&&(0,c.jsx)(s.ms.Item,{dataTestId:"Create Story Pin",onSelect:()=>{b(),r()},option:{label:y?k.pin:k.rename,value:y?k.pin:k.rename}},"actions-create-1"),j&&d&&(0,c.jsx)(s.ms.Item,{dataTestId:"Create board",onSelect:()=>{d(),r()},option:{label:k.board,value:k.board}},"actions-create-2"),B&&m&&(0,c.jsx)(s.ms.Item,{dataTestId:"Create Collage",onSelect:()=>{m(),r()},option:{label:k.collage,value:k.collage}},"actions-create-3")].filter(Boolean);return(0,c.jsxs)(s.ms,{anchor:e,id:g||"board_actions",idealDirection:t||"down",isWithinFixedContainer:x,onDismiss:r,zIndex:h.QT,children:[v?C:(0,c.jsx)(s.ms.Section,{label:z.bt("Create", "Create", "BoardActionsButton.LegoFlyout.Create", undefined, true),children:C}),"board"===f&&(0,c.jsx)(s.ms.Section,{label:z.bt("Add", "Add", "BoardActionsButton.LegoFlyout.Add", undefined, true),children:[l&&(0,c.jsx)(s.ms.Item,{dataTestId:"addSection",onSelect:()=>{l(),r()},option:{label:k.section,value:k.section}},"actions-add-1"),!!o&&(0,c.jsx)(s.ms.Item,{onSelect:()=>{o(),r()},option:{label:k.date,value:k.date}},"actions-add-2")].filter(Boolean)})]})}var A=o(296221),b=o(258301);function f({anchor:e}){(0,a.useEffect)(()=>{(0,n.A)("CreateBoardTooltip","/app/www/save/board/BoardInfoBar/CreateBoardTooltip.tsx")},[]);let t=(0,b.Hc)();return(0,c.jsx)(s.Wd,{children:(0,c.jsx)(s.az,{position:"absolute",top:!0,zIndex:r.sn,children:(0,c.jsx)(A.En,{anchor:e,experienceIds:[503447],flyoutSize:"md",idealDirection:"down",onClickComplete:()=>{t(!0)},placementId:19,positionRelativeToAnchor:!1,showCaret:!0,textAlign:"center",textWeight:"normal"})})})}function x({anchor:e}){return(0,a.useEffect)(()=>{(0,n.A)("PlanningActionsExperience","/app/www/save/board/BoardInfoBar/PlanningActionsExperience.tsx")},[]),(0,c.jsx)(s.Wd,{children:(0,c.jsx)(s.az,{position:"absolute",top:!0,zIndex:r.sn,children:(0,c.jsx)(A.En,{anchor:e,experienceIds:[502096],idealDirection:"down",placementId:18,positionRelativeToAnchor:!1,showCaret:!0})})})}var g=o(918146);function z({children:e,idealDirection:t,onAddOrEditDate:o,onAddSection:n,onCreateBoard:r,onCreateCollage:_,onCreatePin:p,onCreateStoryPin:u,onOpen:h=()=>{},surface:A,isWithinFixedContainer:b}){let z,P=(0,i.A)(),{showCreateSectionTooltip:y,setShowCreateSectionTooltip:w}=(0,g.R)()??{},{logContextEvent:j}=(0,l.o)(),v=()=>w?.(!1),B=(0,a.useRef)(null),[k,C]=(0,a.useState)(!1),R=()=>C(!1),S=()=>{k?R():(h(),y&&v(),C(!0),j({component:13056,element:1208,event_type:101,view_parameter:3106,view_type:4}))},T={board:P.bt("Board Actions", "Board Actions", "button that allows user view actions on a board such as add section, create pin, create pincode, and create widget", undefined, true),profileBoards:P.bt("Profile actions", "Profile Actions", "profileHeader.actionBar.createButton", undefined, true),profilePins:P.bt("Profile actions", "Profile Actions", "profileHeader.actionBar.createButton", undefined, true),section:P.bt("Create Pin", "Create Pin", "Button to begin pin creation flow", undefined, true)},M="board_actions",E=e&&e({active:k,openFlyout:S,accessibilityControls:M,accessibilityLabel:T[A],accessibilityExpanded:k})||(0,c.jsx)(s.K0,{accessibilityControls:M,accessibilityLabel:T[A],icon:"plus",iconColor:"subtle",onClick:"section"===A?p:S,size:"lg"});return!k&&"board"===A&&(y?z="addSectionTooltip":o&&(z="planningActionsExperience")),k||"profileBoards"!==A||(z="createBoardTooltip"),(0,c.jsxs)(s.az,{"data-test-id":"boardActionsButton",children:[(0,c.jsx)(s.az,{ref:B,children:E}),k&&(0,c.jsx)(m,{anchor:B.current,id:M,idealDirection:t,isWithinFixedContainer:!!b,onAddOrEditDate:o,onAddSection:n,onClose:R,onCreateBoard:r,onCreateCollage:_,onCreatePin:p,onCreateStoryPin:u,surface:A}),"addSectionTooltip"===z&&(0,c.jsx)(d,{anchor:B.current,hideAddSectionTooltip:v}),"planningActionsExperience"===z&&(0,c.jsx)(x,{anchor:B.current}),"createBoardTooltip"===z&&(0,c.jsx)(f,{anchor:B.current})]})}},918146(e,t,o){o.d(t,{Q:()=>r,R:()=>n});var a=o(859471),s=o(987628),l=o(562615);let{Provider:i,getMaybe:n}=(0,s.A)("CreateSectionTooltip");function r({children:e}){let[t,o]=(0,a.useState)(!1),s=(0,a.useMemo)(()=>({showCreateSectionTooltip:t,setShowCreateSectionTooltip:o}),[t]);return(0,l.jsx)(i,{value:s,children:e})}},524833(e,t,o){o.d(t,{A:()=>a});function a({boardDensity:e,component:t,viewType:o,viewParameter:a},s){let l=function({boardDensity:e,viewType:t}){switch(t){case 164:return"regular"===e?10618:10619;case 5:case 4:return"regular"===e?10607:10608;default:return 10607}}({boardDensity:e,viewType:o}),i=a??4===o?3106:3069;s({event_type:101,component:t,element:l,...o?{view_type:o,view_parameter:i}:Object.freeze({})})}},530597(e,t,o){o.d(t,{A:()=>s});var a=o(427471);function s({density:e,surface:t}){a.A.create("UserMetadataResource","board"===t?{profile_pin_rep_view_type:e}:{board_pin_rep_view_type:e}).callUpdate()}},581530(e,t,o){o.d(t,{IT:()=>i,N:()=>s,bF:()=>r,r$:()=>l,sn:()=>n});var a=o(19821);let s=1,l=1,i=2,n=new a.rk(5e3),r=15}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/97466.en_GB-90cd527105fbfc49.mjs.map