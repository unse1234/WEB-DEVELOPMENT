(self.modernJsonp=self.modernJsonp||[]).push([["38884"],{201593(e,t,i){i.d(t,{D2:()=>x,be:()=>b,ee:()=>h,fO:()=>f,xq:()=>m,zC:()=>g});var s=i(859471),r=i(601185),n=i(844255),o=i(998556),a=i(981147),l=i(752159),c=i(971289);let d="dark",u="light",p="auto",h="rgba(17, 17, 17, 1)",m="rgba(17, 17, 17, 0)",b="rgb(43, 43, 43)",g="#767676",f="rgba(0,0,0, 0.8)",v=()=>"u">typeof window&&null!=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,_=(e,t)=>`${t?"dweb":"mweb"}.dark_mode.${e}`;function x(){let{theme:e,isAuthenticated:t}=(0,n._8)(),i=(0,c.qJ)(),h=(0,c.M)(),m=(0,c.wI)(),{checkExperiment:b}=(0,r.A)(),g=t&&(0,a.A)("theme")&&(h||m||i&&b("dweb_dark_mode").anyEnabled),f=g&&e===d,[x,w]=(0,s.useState)(()=>f?d:u),[E,y]=(0,s.useState)(!1),I=g&&(f||x===d||x===p&&E);return(0,s.useEffect)(()=>{let e,t=(e=(0,o.y1)().getItem("theme"))===d||e===u||e===p?e:u;w(t),t===p&&y(v())},[t]),(0,s.useEffect)(()=>{g&&I&&(document.body.style.backgroundColor="var(--sema-color-background-default)")},[g,I]),(0,s.useEffect)(()=>{if(x!==p||"u"<typeof window||null==window.matchMedia)return;let e=window.matchMedia("(prefers-color-scheme: dark)"),t=e=>{y(e.matches)};return e.addEventListener("change",t),()=>e.removeEventListener("change",t)},[x]),{isDarkMode:I,isDarkModeSupported:g,enableMode:e=>{if(e===p){let e=v();y(e),(0,o.y1)().setItem("theme",p),(0,l.PM)(_(e?"enable":"disable",i))}else e===d?((0,o.y1)().setItem("theme",d),(0,l.PM)(_("enable",i))):((0,o.y1)().setItem("theme",u),(0,l.PM)(_("disable",i)));w(e),window.location.reload()},followsSystemSetting:x===p}}},696264(e,t,i){i.d(t,{IO:()=>_,Ip:()=>d,PJ:()=>m,QR:()=>u,WQ:()=>c,if:()=>g,j6:()=>f,lP:()=>w,nA:()=>p,oe:()=>h,uG:()=>v,wj:()=>b});var s=i(586958),r=i(160750),n=i(616911),o=i(81920);class a{constructor({name:e,placedExperienceId:t,message:i}){this.name=e,this.placedExperienceId=t,this.message=i}log(){n.$1.warn(`[ExperienceSessions] - Warning: ${this.name} for experience ${this.placedExperienceId} - ${this.message}`,{placedExperienceId:this.placedExperienceId})}}class l extends Error{constructor({name:e,placedExperienceId:t,customMessage:i}){super(i),this.name=e,this.placedExperienceId=t,Object.setPrototypeOf(this,l.prototype)}}class c extends l{constructor({placedExperienceId:e,customMessage:t}){let i=`Error occurred while creating an IntersectionObserver for experience with id ${e}.`;super({customMessage:t??i,name:"IntersectionObserver",placedExperienceId:e})}}class d extends l{constructor({placedExperienceId:e,customMessage:t}){let i=`Attempted to create a timestamp without an observer for experience with id ${e}.`;super({customMessage:t??i,name:"TimeStampNoObserver",placedExperienceId:e})}}class u extends l{constructor({placedExperienceId:e,customMessage:t,currentState:i,newState:s}){let n=`Invalid time stamp state transition: ${(0,r.H)(i,s)}.
Dropping time stamp.`;super({customMessage:t??n,name:"InvalidStateTransition",placedExperienceId:e}),(0,o.GV)("experience_sessions_invalid_state_transition",{sampleRate:1,tags:{placedExperienceId:e,transition:(0,r.H)(i,s)}})}}class p extends l{constructor({placedExperienceId:e,customMessage:t}){let i=`Attempted to remove an experience with id ${e} from an empty session map.`;super({customMessage:t??i,name:"RemoveOnEmptySessionMap",placedExperienceId:e})}}class h extends l{constructor({placedExperienceId:e,customMessage:t}){let i=`Attempted to remove a non-existent experience with id ${e}.`;super({customMessage:t??i,name:"RemoveOnMissingExperience",placedExperienceId:e})}}class m extends l{constructor(e,t,i,s){let r=[{value:e,name:"Placed Experience ID"},{value:t,name:"Experience ID"},{value:i,name:"Placement ID"}].filter(e=>!e.value).map(e=>e.name);super({customMessage:r.length>0?`${r.join(" and ")} ${r.length>1?"are":"is"} required for this operation.`:s??"",name:"InvalidIdError",placedExperienceId:e||""})}}class b extends l{constructor({placedExperienceId:e,customMessage:t}){let i=`No start state found in the timeline for experience with id ${e}.`;super({customMessage:t??i,name:"NoStart",placedExperienceId:e})}}class g extends l{constructor({placedExperienceId:e,customMessage:t}){let i=`Total duration calculated is negative for experience with id ${e}.`;super({customMessage:t??i,name:"NegativeTotal",placedExperienceId:e})}}class f extends l{constructor({placedExperienceId:e,customMessage:t}){let i=`Timeline ended without an end state for experience with id ${e}.`;super({customMessage:t??i,name:"NoEnd",placedExperienceId:e})}}class v extends l{constructor({placedExperienceId:e,customMessage:t}){let i=`Total duration calculated is not a valid number for experience with id ${e}.`;super({customMessage:t??i,name:"InvalidTotal",placedExperienceId:e})}}class _ extends a{constructor({placedExperienceId:e,customMessage:t}){let i=`Attempted to resume without a pause timestamp for experience with id ${e}. Was the session started before app focus?`;super({message:t??i,name:"TimeStampNoPause",placedExperienceId:e})}}let x=[p,h,m,b,g,f,v];function w(e,t,i,r,o){return(...a)=>{try{return e(...a)}catch(e){if(e instanceof Error){let i=(x.some(t=>e instanceof t)?e.placedExperienceId:r)||"0:unknown";n.$1.error(`[Experience Session] - ${t} - ${e.name}:${e.message}`);let[o,a]=i.split(":");(0,s.p)(t,e.name,a||"0",Number(o))}else{let i=String(e);n.$1.error(`[Experience Session] - ${t} - Error: ${i}`),(0,s.V)(e,t)}return o&&o(),i}}}},586958(e,t,i){i.d(t,{V:()=>n,p:()=>r});var s=i(81920);let r=async(e,t,i,r)=>{(0,s.GV)("experience_framework.view_duration.error",{sampleRate:1,tags:{func:e,type:t,experience_id:i,placement_id:r}})},n=async(e,t)=>{let i=e instanceof Error?e.message:String(e);(0,s.GV)("experience_framework.view_duration.unknown_error",{sampleRate:1,tags:{function:t,error:i}})}},492072(e,t,i){i.d(t,{A:()=>o});var s=i(696264),r=i(616911),n=i(81920);let o=e=>{let{placedExperienceId:t,experienceId:i,placementId:o,endReason:a,timeline:l}=e;(0,s.lP)(()=>{let e=function(e,t){let i,r=t.findIndex(e=>"start"===e.state);if(-1===r)throw new s.wj({placedExperienceId:e});let n=e=>{if(void 0===i)return i=e.inView,!1;let t=i===e.inView;return i=e.inView,t},o=!0,a=0;for(let e of t.slice(r)){let t=e.inView?-e.time:e.time;if("end"===e.state){n(e)||(a+=t),o=!1;break}"resumed"===e.state&&(o=!0),o&&(n(e)||(a+=t),"paused"===e.state&&(o=!1))}if(o)throw new s.j6({placedExperienceId:e});if(a<0)throw new s.if({placedExperienceId:e});if("number"!=typeof a||Number.isNaN(a))throw new s.uG({placedExperienceId:e});return a}(t,l);r.$1.log(`[Experience Sessions] âœ¨ Total duration for experience ${t} is ${e}ms - Sending to statsboard with end reason: ${a}`),(0,n.N9)("experience_framework.view_duration",e,{sampleRate:.2,tags:{placement_id:o,experience_id:i,end_reason:a}})},"calculateTotalDuration",void 0,t,()=>{r.$1.error(`[Experience Sessions] âŒ Error calculating total duration for experience ${t} due to previous error`)})()}},160750(e,t,i){i.d(t,{H:()=>s});let s=(e,t)=>`${e}->${t}`},671996(e,t,i){i.d(t,{Hi:()=>o,al:()=>n,pv:()=>r});let s="experience_framework.frontend",r=s+"experience.not_rendered",n=s+".placement.remount",o=s+".placement.used_without_mount"},250325(e,t,i){let s;i.d(t,{$O:()=>m,Dz:()=>_,EZ:()=>b,Hy:()=>w,My:()=>x,Y4:()=>h,_4:()=>E,hG:()=>R,sE:()=>I,vI:()=>g,xL:()=>f,xn:()=>y});var r=i(859471),n=i(427471),o=i(743372),a=i(856748),l=i(616911),c=i(298146),d=i(640654),u=i(81920);let p=(e,t,i={},s=1)=>(0,u.GV)(`${e}.${t}`,{sampleRate:s,tags:i}),h=(e,t)=>n.A.create("UserExperiencePlatformResource",t?{extra_context:e,targeting:t}:{extra_context:e}).callGet(),m=(e,t)=>i=>n.A.create("UserExperiencePlatformResource",t?{extra_context:e,targeting:t}:{extra_context:e}).callGet().then(e=>e.resource_response?i((0,a.vv)(e.resource_response.data)):void 0),b=e=>t=>n.A.create("UserExperiencePlatformResource",{extra_context:e,multiExperiencePlatform:!0}).callGet().then(e=>e.resource_response?t((0,a.iN)(e.resource_response.data)):void 0),g=(e,t)=>(i,s)=>{let{experiences:r}=s(),n=r[e];return n&&n.triggerable_placed_exps&&n.triggerable_placed_exps.length&&n.triggerable_placed_exps.forEach(i=>{let[,s]=i.split(":"),r=t,o=n?.metadata?.[s];o&&(r={...t,..."object"==typeof o?o:{}}),(0,c.A)({url:`/v3/experiences/${i.replace(":","%3A")}/trigger/`,method:"PUT",data:r?{extra_context:JSON.stringify(r,null,1)}:{}}).then(()=>{p("experienceservice","experimentTriggerCall.1",{placement_id:e,experience_id:s})})}),Promise.resolve()},f=(e,t,i,r,o)=>(c,h)=>{let m=(0,d.y)()?.experimentsClient;if(p("experience_framework.fetch_experiences_for_placements","called",{placement_ids:e.join(","),has_extra_context:!!i},.01),t)return Promise.resolve();if(r&&(s=r),1===e.length){let t=e[0],s=h().experiences[t];if(JSON.stringify(s?.extraContext||null)===JSON.stringify(i)||(0,l.lC)(s)&&!(i&&Object.keys(i).length>0))return Promise.resolve()}return n.A.create("UserExperienceResource",{placement_ids:e,extra_context:i||null,targeting:r}).callGet().then(t=>{if(!t.resource_response)return;let s=t.resource_response.data||{};if(o){let{experiences:t}=h();l.$1.log("[MVC] Post Checks - Checking existing experiences in store"),e.forEach(e=>{let i=t[e];if(i&&0!==i.experience_id){var r;r=s[e],(0,u.GV)("experience_framework.fetch.post_check.failures",{sampleRate:.01,tags:{placement_id:e,experience_in_store:i.experience_id,experience_from_server:r?.experience_id}}),s[e]=i}})}m?.checkExperiment("experience_framework_web_custom_fetch_trigger_experiments").anyEnabled&&e.forEach(e=>{c(g(e,i))}),c((0,a.YT)(s))})},v=(e,t,i,r)=>(o,l,c,d=!1,u,p)=>(h,b)=>{let{experiences:g,experiencesMulti:f}=b(),v=null,_=!0;if(d||(v=(_=!!g[o]&&g[o].experience_id===l)?g[o]:Array.isArray(f[o])&&f[o]?.find(e=>e.experience_id===l)),v&&v.experience_id===l||d&&o&&l){let d=n.A.create(e,{placed_experience_id:`${o}%3A${l}`,extra_context:u??{},targeting:p}),b=_?a.Uh:a.$d;switch(t){case"dismissed":return d.callDelete().then(()=>{h(b(o,l,t)),h(m(void 0,s)),i&&r&&i({event_type:r,object_id_str:l.toString()})});case"completed":return d.callUpdate().then(()=>{!c&&(h(b(o,l,t)),h(m(void 0,s)),i&&r&&i({event_type:r,object_id_str:l.toString()}))});case"viewed":return h(b(o,l,t)),d.callUpdate().then(()=>{1000162===o&&h(m()),i&&r&&i({event_type:r,object_id_str:l.toString()})});case"completedWithoutHomefeed":return d.callUpdate().then(()=>{c||h(b(o,l,t)),i&&r&&i({event_type:r,object_id_str:l.toString()})})}}return Promise.resolve()},_=()=>{let e=(0,o.A)();return(0,r.useCallback)(v("UserExperienceViewedResource","viewed",e,4503),[e])},x=()=>{let e=(0,o.A)();return(0,r.useCallback)((t,i,s,r=!1,n,o)=>(s,n)=>{let{experiences:o,experiencesMulti:c}=n(),d=null,p=!0;if(r||(d=(p=!!o[t]&&o[t].experience_id===i)?o[t]:Array.isArray(c[t])&&c[t]?.find(e=>e.experience_id===i)),d&&d.experience_id===i||r&&t&&i){let r=p?a.Uh:a.$d;l.$1.log(`[MVC] View-End - Removing experience ${t}:${i} from store.`),(0,u.GV)("experience_framework.view_end",{tags:{placement_id:t,experience_id:i}}),s(r(t,i,"view-end")),e&&e({event_type:4503,object_id_str:i.toString()})}return Promise.resolve()},[e])},w=()=>{let e=(0,o.A)();return(0,r.useCallback)(v("UserExperienceCompletedResource","completed",e,6567),[e])},E=()=>{let e=(0,o.A)();return(0,r.useCallback)(v("UserExperienceResource","dismissed",e,6568),[e])},y=()=>{let e=(0,o.A)();return(0,r.useCallback)(v("UserExperienceCompletedResource","completedWithoutHomefeed",e,6567),[e])},I=e=>(t,i)=>{t(g(e));let{experiences:s}=i();return s[e]},R=(e,t,i,r)=>n=>{i&&(s=i),n(g(e,t)),t&&Object.keys(t).length>0&&n(f([e],!1,t,i,r))}},932369(e,t,i){i.d(t,{vI:()=>s.vI,Pl:()=>o,hG:()=>s.hG,xn:()=>s.xn,My:()=>s.My,EZ:()=>s.EZ,Dz:()=>s.Dz,Hy:()=>s.Hy,fE:()=>l,Y4:()=>s.Y4,xL:()=>s.xL,_4:()=>s._4,sE:()=>s.sE,sj:()=>a});var s=i(250325),r=i(427471);let n=(e,t,i,n)=>(o,a)=>l=>{if(o&&o.id){let c=r.A.create(e,{placed_experience_id:o.id,extra_context:{}});switch(t){case"dismissed":c.callDelete().then(()=>{l((0,s.$O)()),i&&n&&i({event_type:n,object_id_str:o.id.toString()})});break;case"completed":c.callUpdate().then(()=>{a||l((0,s.$O)()),i&&n&&i({event_type:n,object_id_str:o.id.toString()})});break;case"viewed":c.callUpdate().then(()=>{i&&n&&i({event_type:n,object_id_str:o.id.toString()})})}}},o=e=>n("UserExperienceCompletedResource","completed",e,6567),a=n("UserExperienceResource","dismissed"),l=e=>n("UserExperienceViewedResource","viewed",e,4503);i(586958),i(492072)},625844(e,t,i){i.d(t,{Dq:()=>r,KP:()=>o,RQ:()=>a,XB:()=>n,yU:()=>s});let s="REFRESH_ALL_EXPERIENCES_MULTI",r="UPDATE_EXPERIENCE_MULTI",n="FETCH_EXPERIENCES",o="REFRESH_ALL_EXPERIENCES",a="UPDATE_EXPERIENCE"},856748(e,t,i){i.d(t,{$d:()=>n,Uh:()=>o,YT:()=>l,iN:()=>r,vv:()=>a});var s=i(625844);let r=e=>({type:s.yU,payload:{experiencesMulti:e}}),n=(e,t,i)=>({type:s.Dq,payload:{placementId:e,experienceId:t,status:i}}),o=(e,t,i)=>({type:s.RQ,payload:{placementId:e,experienceId:t,status:i}}),a=e=>({type:s.KP,payload:{experiences:e}}),l=e=>({type:s.XB,payload:{experiences:e}})},616911(e,t,i){i.d(t,{lC:()=>b,Du:()=>O,V6:()=>m,dz:()=>y,al:()=>v,NW:()=>f,JY:()=>I,Pf:()=>g,$1:()=>R,C3:()=>_});var s=i(859471),r=i(19821),n=i(671996),o=i(115795);let a=[11,1000168,40001],l={1:{id:1,route:"/",onRoute:o.rz,placements:[11,1000541,1000503,40001]},13:{id:13,route:"/business/hub/",onRoute:o.Zm,placements:[1000168]}};var c=i(307079),d=i(386379),u=i(81920),p=i(562615);let h={display_data:{},experience_id:1,id:"noop",placement_id:0,type:0};function m(e,t){let i=!!(e&&"object"==typeof e&&Object.keys(e).length>0&&Object.keys(h).every(t=>t in e))&&1!==e.experience_id&&0!==e.type;if(t){if(!i)return!1;if("experience_id"in t)return e.experience_id===t.experience_id;if("type"in t)return e.type===t.type;if("status"in t)return"status"in e&&e.status===t.status;throw Error("Invalid options provided to isExperience. Options must be one of: { experience_id: number }, { type: number }, or { status: ExperienceStatus }")}return i}function b(e){return!!e&&0!==e.type}let g=(e,t,i,s,r,n=!0)=>{let o="existingExperience";return s?b(s)?i&&(o="placementInSurface",!i.placements.includes(e))?{shouldRefresh:!0,refreshReasoning:"placementNotInSurface"}:r?(o="inSSRPlacement",a.includes(e)?{shouldRefresh:!1,refreshReasoning:o}:{shouldRefresh:!0,refreshReasoning:"notAnSSRPlacement"}):!n||(o="placementMounted",t.mountedPlacements[e]||t.registeredAfterActionPlacements[e])?{shouldRefresh:!1,refreshReasoning:o}:{shouldRefresh:!0,refreshReasoning:"placementNotMounted"}:{shouldRefresh:!0,refreshReasoning:"experienceNotRenderable"}:{shouldRefresh:!0,refreshReasoning:"noExistingExperience"}},f=(e,t,i)=>{let s=e[i];return t[i]&&b(s)?s:null};function v(e){return e.display_data?.anchor}function _(e){return Object.values(l).find(t=>t.onRoute?t.onRoute(e):t.route===e.pathname)}let x=/<(\w+)\s*([^>]*)>([^<]*)<\/\1>/gim,w=/(?:href)=["']?([^"'>\s\\]*)["']?/im,E=/(?:target)=["']?([^"'>\s\\]*)["']?/im,y=(e,t)=>{let i=function(e){let t=[],i=0;for(let s of Array.from(e.matchAll(x))){if(s.index>i){let r=e.slice(i,s.index);r&&t.push({type:"text",content:r})}let[r,n,o,a]=s;switch(n){case"a":t.push({type:"link",content:a||"",attrs:o||""});break;case"b":t.push({type:"bold",content:a||""});break;default:t.push({type:"text",content:r})}i=s.index+r.length}if(i<e.length){let s=e.slice(i);s&&t.push({type:"text",content:s})}return t}(e);return(0,p.jsx)(r.KJ,{inline:!0,size:t,children:i.map(({type:e,content:i,attrs:n},o)=>{switch(e){case"text":return(i?.split(`
`)||[]).map((e,n)=>(0,p.jsxs)(s.Fragment,{children:[n>0&&(0,p.jsx)("br",{}),(0,p.jsx)(r.KJ,{inline:!0,size:t,children:e})]},`${i}-${n}`));case"bold":return(0,p.jsx)(r.KJ,{inline:!0,size:t,weight:"bold",children:i},`${i}-${o}`);case"link":let a=n?.match(w),l=a&&a.length>1?a[1]:void 0,c=n?.match(E),u=c&&c.length>1?c[1]:void 0;if(!l)return(0,p.jsx)(r.KJ,{inline:!0,size:t,children:i},`${i}-${o}`);let h=!1;return h=(0,d.A)({url:l}),(0,p.jsx)(r.N_,{display:"inline",externalLinkIcon:h?"default":"none",href:l,rel:h?"nofollow":"none",target:"_blank"===u?"blank":void 0,children:i},`${l}-${o}`);default:return null}})})},I=()=>"u">typeof window&&performance&&performance.now?Math.floor(performance.now()):Math.floor(Date.now()),R=(0,c.A)()&&(0,c.A)().debug_experience_session?console:{log:(...e)=>{},error:(...e)=>{},warn:(...e)=>{}};function O(e,t,i,s=1){(0,u.GV)(n.pv,{sampleRate:1,tags:{experience_id:e,placement_id:t,reason:i,platform:s}})}},718882(e,t,i){function s(e,t,i){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?s:s+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i.d(t,{YA:()=>u,Ay:()=>h,EQ:()=>p});let r=window.location.search.includes("debug_impressions=1")||document.cookie&&document.cookie.indexOf("debug_impressions=1")>-1,n={paused:"Pause",resumed:"Resume",stopped:"Flush",enter:"Enter viewport",exit:"Exit viewport"},o={},a={background:"#FF8A8A",transform:"scale(.98)"},l={init:e=>({transform:`scale(${o[e]?.8:.99})`,transition:"transform .2s ease-in-out",background:"#8E8E8E"}),[n.enter]:{background:"#A0DCC8",transform:"scale(.99)"},[n.exit]:a,[n.stopped]:a,[n.paused]:a,[n.resumed]:{background:"#0FA573",transform:"scale(.99)"}};class c{constructor(e){s(this,"lastIntersectionChange",null),s(this,"setMutationObserver",e=>(this.mutationObserver=e,this)),s(this,"startMutationObserver",e=>{this.mutationObserver&&this.mutationObserver.observe(this.node,e)}),s(this,"stopMutationObserver",()=>{this.mutationObserver&&this.mutationObserver.disconnect()}),s(this,"handleIntersectionVisibilityChange",(e,t)=>{this.lastIntersectionChange=e,[{type:1,isVisible:e=>{let t=e.rootBounds?.bottom??window.innerHeight;return e.isIntersecting&&e.boundingClientRect.top>=143&&e.boundingClientRect.top<t},isHidden:e=>{let t=e.rootBounds?.bottom??window.innerHeight;return!e.isIntersecting||e.boundingClientRect.top<143||e.boundingClientRect.top>=t}},{type:50,isVisible:e=>e.intersectionRatio>=.5,isHidden:e=>e.intersectionRatio<.5},{type:80,isVisible:e=>e.intersectionRatio>=.8,isHidden:e=>e.intersectionRatio<.8},{type:2,isVisible:e=>{let t=e.rootBounds?.bottom??window.innerHeight;return e.isIntersecting&&e.boundingClientRect.bottom<=t&&e.boundingClientRect.bottom>=143},isHidden:e=>{let t=e.rootBounds?.bottom??window.innerHeight;return!e.isIntersecting||e.boundingClientRect.bottom<143||e.boundingClientRect.bottom>t}}].forEach(({type:i,isVisible:s,isHidden:r})=>{s(e)?this.lastLoggedVisibleEvent[i]||(this.addVisibleEvent(i,t),this.lastLoggedVisibleEvent[i]=!0):r(e)&&this.lastLoggedVisibleEvent[i]&&(this.addHiddenEvent(i,t),this.lastLoggedVisibleEvent[i]=!1)})}),s(this,"handleIntersectionChange",e=>{let t=e.intersectionRatio>0||e.isIntersecting,i=Date.now();this.handleIntersectionVisibilityChange(e,i),t&&!this.inViewport?(this.startTime=i,this.pinCellWidth=this.node.offsetWidth,this.pinCellHeight=this.node.offsetHeight,this._debug(n.enter,{startTime:i,node:this.node}),this.enterCallbacks.forEach(e=>e())):!t&&this.inViewport&&(this._debug(n.exit,!0),this.exitCallbacks.forEach(e=>e(this.toJSON()))),this.inViewport=t}),this.enterCallbacks=[],this.exitCallbacks=[],this.inViewport=!1,this.node=e,this.startTime=0,this.debugId="",this.pinCellWidth=0,this.pinCellHeight=0,this.visibleEvents=new Map,this.hiddenEvents=new Map,this.lastLoggedVisibleEvent={1:!1,50:!1,80:!1,2:!1}}addVisibleEvent(e,t){let i=this.visibleEvents.get(e)||[];i.push(1e6*t),this.visibleEvents.set(e,i)}addHiddenEvent(e,t){let i=this.hiddenEvents.get(e)||[];i.push(1e6*t),this.hiddenEvents.set(e,i)}hasVisibleEvent(e){return this.visibleEvents.has(e)}hasHiddenEvent(e){return this.hiddenEvents.has(e)}onEnterViewport(e){return this.enterCallbacks.push(e),this}onExitViewport(e){return this.exitCallbacks.push(e),this}setDebugId(e){return this.debugId=e,r&&Object.assign(this.node.style,l.init(e)),this}pause(){return this.inViewport&&(this.addHiddenEvent(102,Date.now()),this._debug(n.paused,!0),this.exitCallbacks.forEach(e=>e(this.toJSON()))),this}resume(){if(this.inViewport){let e=Date.now();this._debug(n.resumed,{startTime:e}),this.startTime=e,this.addVisibleEvent(102,e),Object.keys(this.lastLoggedVisibleEvent).forEach(e=>{this.lastLoggedVisibleEvent[e]=!1}),this.lastIntersectionChange&&this.handleIntersectionVisibilityChange(this.lastIntersectionChange,e)}return this}stop(e){return this.inViewport&&(this._debug(n.stopped,!0),this.exitCallbacks.forEach(t=>t(this.toJSON(e)))),this}toJSON(e=""){return{startTime:1e6*this.startTime,endTime:1e6*Date.now(),forcedExit:e,pinCellWidth:this.pinCellWidth,pinCellHeight:this.pinCellHeight,visibleEvents:this.visibleEvents,hiddenEvents:this.hiddenEvents}}toDebugJSON(){return{pinID:this.debugId,startTime:this.startTime,endTime:Date.now(),duration:`${(Date.now()-this.startTime)/1e3} seconds`,pinCellWidth:this.pinCellWidth,pinCellHeight:this.pinCellHeight}}_debug(e,t){if(r)switch(window.console.log(`ðŸ“Œ ${e} -- ${this.debugId}`),!0===t&&window.console.log(this.toDebugJSON()),"object"==typeof t&&window.console.log(t),l[e]&&Object.assign(this.node.style,l[e]),e){case n.flushed:case n.paused:case n.exit:o[this.debugId]=!0}}}function d(e,t,i){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?s:s+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let u=!0,p=!1;class h{constructor(){d(this,"_delegateChange",e=>{e.forEach(e=>{let t=this.activeImpressions.get(e.target);t&&t.handleIntersectionChange(e)})}),d(this,"_handleMutations",(e,t)=>{let i=this.mutationObservers.get(t);i&&i.offsetHeight<1&&i&&this.stop(i,"removed")}),this.activeImpressions=new Map,this.mutationObservers=new Map,this.bottomHeight=0,this.bottomObstructions=new Set,this.pausePriority=p,this.observer=new window.IntersectionObserver(this._delegateChange),window.Cypress&&!window.activeImpressions&&(window.activeImpressions=new Map),this.paused=!1,this.topHeight=0,this.topObstructions=new Set,this.inExperiment=!1}setExperimentStatus(e){this.inExperiment!==e&&(this.inExperiment=e)}stop(e,t=""){let i=this.activeImpressions.get(e);i&&(i.stop(t),i.mutationObserver&&this.mutationObservers.delete(i.mutationObserver),i.stopMutationObserver(),this.activeImpressions.delete(e),window.activeImpressions?.delete(e),this.observer?.unobserve(e))}start(e){let t=this.activeImpressions.get(e);if(!t){t=new c(e),this.activeImpressions.set(e,t),window.activeImpressions?.set(e,t),this.observer?.observe(e);let i=(e,t)=>this._handleMutations(e,t);t.setMutationObserver(new window.MutationObserver(i)),t.mutationObserver&&this.mutationObservers.set(t.mutationObserver,e),t.startMutationObserver({subtree:!0,attributes:!0,attributeFilter:["style"]})}return t}pause(e=u){this.paused||(Array.from(this.activeImpressions.values()).forEach(e=>e.pause()),this.paused=!0,this.pausePriority===p&&(this.pausePriority=e))}resume(e=u){(e!==p||this.pausePriority!==u)&&this.paused&&(Array.from(this.activeImpressions.values()).forEach(e=>e.resume()),this.paused=!1,this.pausePriority=p)}addObstruction(e,t){"top"===e?this.topObstructions.add(t):"bottom"===e&&this.bottomObstructions.add(t),this._calculateRootMargins()}removeObstruction(e,t){"top"===e?this.topObstructions.delete(t):"bottom"===e&&this.bottomObstructions.delete(t),this._calculateRootMargins()}updateObstructions(){this._calculateRootMargins()}_calculateRootMargins(){let e=Array.from(this.topObstructions).reduce((e,t)=>{let{bottom:i}=t.getBoundingClientRect();return i>e?i:e},0),t=window.innerHeight-Array.from(this.bottomObstructions).reduce((e,t)=>{let{top:i}=t.getBoundingClientRect();return i<e?i:e},window.innerHeight);if(e!==this.topHeight||t!==this.bottomHeight){let i={rootMargin:`${-e}px 0px ${-t}px`,threshold:[0,.5,.8,1]};this.observer?.disconnect(),this.observer=new window.IntersectionObserver(this._delegateChange,i),Array.from(this.activeImpressions.values()).forEach(e=>this.observer?.observe(e.node)),this.topHeight=e,this.bottomHeight=t}}}},123576(e,t,i){i.d(t,{A:()=>s});let s=new(i(718882)).Ay},218358(e,t,i){i.d(t,{r:()=>s});let s={REGISTRATION:"registration",SETTINGS:"settings",GOOGLE_PEOPLE_API:"google_people_api",HOLISTIC_PROFILE_PROMPT:"holistic_profile_prompt",IN_APP_BIRTHDAY_PROMPT:"in_app_birthday_prompt",FIX_EMAIL_PROMPT:"fix_email_prompt",NUX:"nux",BUSINESS_HUB:"business_hub",UNKNOWN:"unknown"}},386379(e,t,i){i.d(t,{A:()=>r});var s=i(201447);let r=({url:e})=>!!(e&&e.match(/^https{0,1}:\/\//)&&!(0,s.A)(e))}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/38884-93f96970710b8d73.mjs.map