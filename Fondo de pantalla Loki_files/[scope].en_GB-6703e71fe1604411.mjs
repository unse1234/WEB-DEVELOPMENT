(self.modernJsonp=self.modernJsonp||[]).push([["10825"],{315075(e,t,n){n.d(t,{A:()=>a});var i,r=new Uint8Array(16);function a(){if(!i&&!(i="u">typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"u">typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(r)}},542637(e,t,n){n.d(t,{A:()=>l});let i=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var r=[],a=0;a<256;++a)r.push((a+256).toString(16).substr(1));let l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(r[e[t+0]]+r[e[t+1]]+r[e[t+2]]+r[e[t+3]]+"-"+r[e[t+4]]+r[e[t+5]]+"-"+r[e[t+6]]+r[e[t+7]]+"-"+r[e[t+8]]+r[e[t+9]]+"-"+r[e[t+10]]+r[e[t+11]]+r[e[t+12]]+r[e[t+13]]+r[e[t+14]]+r[e[t+15]]).toLowerCase();if(!("string"==typeof n&&i.test(n)))throw TypeError("Stringified UUID is invalid");return n}},763041(e,t,n){n.d(t,{A:()=>d});var i,r,a=n(315075),l=n(542637),o=0,s=0;let d=function(e,t,n){var d=t&&n||0,c=t||Array(16),u=(e=e||{}).node||i,p=void 0!==e.clockseq?e.clockseq:r;if(null==u||null==p){var h=e.random||(e.rng||a.A)();null==u&&(u=i=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==p&&(p=r=(h[6]<<8|h[7])&16383)}var m=void 0!==e.msecs?e.msecs:Date.now(),g=void 0!==e.nsecs?e.nsecs:s+1,_=m-o+(g-s)/1e4;if(_<0&&void 0===e.clockseq&&(p=p+1&16383),(_<0||m>o)&&void 0===e.nsecs&&(g=0),g>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");o=m,s=g,r=p;var f=((0xfffffff&(m+=122192928e5))*1e4+g)%0x100000000;c[d++]=f>>>24&255,c[d++]=f>>>16&255,c[d++]=f>>>8&255,c[d++]=255&f;var y=m/0x100000000*1e4&0xfffffff;c[d++]=y>>>8&255,c[d++]=255&y,c[d++]=y>>>24&15|16,c[d++]=y>>>16&255,c[d++]=p>>>8|128,c[d++]=255&p;for(var x=0;x<6;++x)c[d+x]=u[x];return t||(0,l.A)(c)}},679902(e,t,n){n.d(t,{A:()=>a});var i=n(315075),r=n(542637);let a=function(e,t,n){var a=(e=e||{}).random||(e.rng||i.A)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){n=n||0;for(var l=0;l<16;++l)t[n+l]=a[l];return t}return(0,r.A)(a)}},863730(e){e.exports=function(){}},475978(e,t,n){n.r(t),n.d(t,{default:()=>r});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BubbleStory_story",selections:[{alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"referringSource",storageKey:null},{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],type:"ExploreArticle",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"identifierIconName",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"BubblesGridRep_story"}],type:"Story",abstractKey:null};i.hash="c6be2bfa9e282b6036307fb17958ce3d";let r=i},526929(e,t,n){n.r(t),n.d(t,{default:()=>r});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BubblesGridRep_story",selections:[{alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{args:null,kind:"FragmentSpread",name:"ExploreBubble_exploreArticle"}],type:"ExploreArticle",abstractKey:null}],storageKey:null}],type:"Story",abstractKey:null};i.hash="1820448f293b4452fdd957a1b02dd23b";let r=i},977110(e,t,n){n.r(t),n.d(t,{default:()=>r});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CSSCarouselModule_parentPin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"ItemRep_parentPin"}],type:"Pin",abstractKey:null};i.hash="d1542775568248acbce5a79453f4dffb";let r=i},599016(e,t,n){var i,r;n.r(t),n.d(t,{default:()=>l});let a={argumentDefinitions:[{defaultValue:!0,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"CSSCarouselModule_story",selections:[{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"location",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contentIds",storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentVisibleItemCount",kind:"LinkedField",name:"contentVisibleItemCount",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"mobile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"web",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"itemWidthHeightRatio",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:"images_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[r],storageKey:'images(spec:"236x")'},{args:[{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"ItemRep_pin"}],type:"Pin",abstractKey:null}],storageKey:null},{alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:[i],storageKey:null},{args:null,kind:"FragmentSpread",name:"ItemRep_story"},{args:null,kind:"FragmentSpread",name:"useCarouselModuleLogic_story"},{args:null,kind:"FragmentSpread",name:"HeaderModule_story"}],type:"Story",abstractKey:null};a.hash="dee347ef77ae345e076b08494d4b664f";let l=a},662844(e,t,n){var i;n.r(t),n.d(t,{default:()=>a});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ExploreBubble_exploreArticle",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"curator",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColors",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"identifierIconType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyCategory",storageKey:null},{alias:"articleTitle",args:null,concreteType:"ArticleTitleGraphQL",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],storageKey:null},{alias:"coverImage236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:i,storageKey:'coverImages(spec:"236x")'},{alias:"coverImage474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:i,storageKey:'coverImages(spec:"474x")'}],type:"ExploreArticle",abstractKey:null};r.hash="ee837caaba80f67c3ccb2223d20c7649";let a=r},731360(e,t,n){var i;n.r(t),n.d(t,{default:()=>a});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FollowButton_pin",selections:[{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:i,storageKey:null}],type:"Pin",abstractKey:null};r.hash="cabaa35ed7d59dee006897bf3ef32e3d";let a=r},845217(e,t,n){n.r(t),n.d(t,{default:()=>r});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"OneBarModule_oneBarModules",selections:[{alias:"entityId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"moduleType",storageKey:null},{alias:null,args:null,concreteType:"OneBarModuleDisplay",kind:"LinkedField",name:"display",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"altText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"backgroundColorHex",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icon",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageUrls",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isSelected",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"selectedBackgroundColorHex",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"OneBarModuleAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"feedUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"filterKeys",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}],type:"OneBarModule",abstractKey:null};i.hash="fd593a87dd2d5748ec9df656820367a3";let r=i},806086(e,t,n){n.r(t),n.d(t,{default:()=>r});let i={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"PinnerAuthority_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:"images_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'}],type:"Pin",abstractKey:null};i.hash="0724ecc2ad23f6d726ce726d4e1e3033";let r=i},617507(e,t,n){n.r(t),n.d(t,{default:()=>r});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SearchContainer_searchUsersConnection",selections:[{alias:null,args:null,concreteType:"Sensitivity",kind:"LinkedField",name:"sensitivity",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"hasSensitivityNotices_sensitivity"},{args:null,kind:"FragmentSpread",name:"SearchSensitiveContentNotice_sensitivity"}],storageKey:null},{alias:null,args:null,concreteType:"OneBarModule",kind:"LinkedField",name:"oneBarModules",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"SearchOneBar_oneBarModules"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"SearchNagWithCheckGQL_searchUsersConnection"},{args:null,kind:"FragmentSpread",name:"SearchDebugInfo_searchUsersConnection"}],type:"V3SearchUsersWithStoriesDataConnection",abstractKey:null};i.hash="3eee1316a81c5d4b4c612e0114f1363e";let r=i},477447(e,t,n){n.r(t),n.d(t,{default:()=>r});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SearchDebugInfo_searchUsersConnection",selections:[{alias:null,args:null,kind:"ScalarField",name:"debugData",storageKey:null}],type:"V3SearchUsersWithStoriesDataConnection",abstractKey:null};i.hash="aeb48360ee5d513adb09a327107f8558";let r=i},389790(e,t,n){n.r(t),n.d(t,{default:()=>r});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SearchNagWithCheckGQL_searchUsersConnection",selections:[{alias:null,args:null,concreteType:"SearchNag",kind:"LinkedField",name:"searchNag",plural:!1,selections:[{alias:null,args:null,concreteType:"Nag",kind:"LinkedField",name:"nag",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"messages",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Sensitivity",kind:"LinkedField",name:"sensitivity",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"hasSensitivityNotices_sensitivity"},{alias:null,args:null,kind:"ScalarField",name:"advisory",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"severity",storageKey:null}],storageKey:null}],type:"V3SearchUsersWithStoriesDataConnection",abstractKey:null};i.hash="0aca8197fe3c30942928ba66223698c1";let r=i},985357(e,t,n){n.r(t),n.d(t,{default:()=>r});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SearchOneBar_oneBarModules",selections:[{args:null,kind:"FragmentSpread",name:"OneBar_oneBarModules"}],type:"OneBarModule",abstractKey:null};i.hash="0c363322e78a499d41d5da6d7e543fd1";let r=i},415628(e,t,n){var i,r;n.r(t),n.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SearchResultUsersList",selections:[{alias:null,args:i=[{kind:"Literal",name:"spec",value:"222x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"contextualPinImageUrls",plural:!0,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null}],storageKey:'contextualPinImageUrls(spec:"222x")'},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:i,concreteType:"ImageDetails",kind:"LinkedField",name:"recentPinImages",plural:!0,selections:r,storageKey:'recentPinImages(spec:"222x")'},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null}],type:"User",abstractKey:null};a.hash="272f5f416fc158e84266d5f3c13e9c69";let l=a},749324(e,t,n){n.r(t),n.d(t,{default:()=>r});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SearchSensitiveContentNotice_sensitivity",selections:[{args:null,kind:"FragmentSpread",name:"hasSensitivityNotices_sensitivity"},{args:null,kind:"FragmentSpread",name:"SensitiveNotice_sensitivity"}],type:"Sensitivity",abstractKey:null};i.hash="94c417483d1d9a206652ef6d783a3331";let r=i},150859(e,t,n){var i,r,a;n.r(t),n.d(t,{default:()=>o});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SensitiveNotice_sensitivity",selections:[{alias:null,args:null,kind:"ScalarField",name:"advisory",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"severity",storageKey:null},{alias:null,args:null,concreteType:"AdvisoryNotice",kind:"LinkedField",name:"notices",plural:!0,selections:[{alias:"noticeId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"content_image_url",args:null,kind:"ScalarField",name:"contentImageUrl",storageKey:null},{alias:"suggested_resource",args:null,kind:"ScalarField",name:"suggestedResource",storageKey:null},{alias:"image_type",args:null,kind:"ScalarField",name:"imageType",storageKey:null},a={alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:r=[i={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryAction",kind:"LinkedField",name:"actions",plural:!0,selections:[{alias:"actionId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"AdvisoryButton",kind:"LinkedField",name:"button",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},i,{alias:"contact_type",args:null,kind:"ScalarField",name:"contactType",storageKey:null}],storageKey:null},a,{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"title",plural:!1,selections:r,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}],type:"Sensitivity",abstractKey:null};l.hash="6e21ec048bb4ac7d621865a42cf02a6c";let o=l},352762(e,t,n){n.r(t),n.d(t,{default:()=>r});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicImageWithText_topic",selections:[{alias:"background_color",args:null,kind:"ScalarField",name:"backgroundColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:"follower_count",args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],storageKey:'images(spec:"236x")'}],type:"Interest",abstractKey:null};i.hash="b5b71fb4390c1d3835e468a25f687669";let r=i},196635(e,t,n){n.r(t),n.d(t,{default:()=>r});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicRepFragment_topic",selections:[{alias:"is_followed",args:null,kind:"ScalarField",name:"isFollowed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"TopicImageWithText_topic"}],type:"Interest",abstractKey:null};i.hash="e5a0b7dce2aa2313e4cf2c9871cbedf7";let r=i},667303(e,t,n){var i;n.r(t),n.d(t,{default:()=>a});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnifiedFiltersContextProvider_oneBarModules",selections:[i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"moduleType",storageKey:null},{alias:null,args:null,concreteType:"OneBarModuleAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,concreteType:"FilterOption",kind:"LinkedField",name:"filters",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isSelected",storageKey:null},i,{alias:null,args:null,concreteType:"OneBarModuleDisplay",kind:"LinkedField",name:"display",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayText",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"OneBarModuleAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"feedUrl",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"OneBarModule",abstractKey:null};r.hash="8f78e256e0576ff75e10faecd9f6a8cf";let a=r},446114(e,t,n){var i,r,a,l,o,s,d,c,u,p,h,m,g,_;n.r(t),n.d(t,{default:()=>y});let f={fragment:{argumentDefinitions:i=[{defaultValue:50,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:null,kind:"LocalArgument",name:"debD"},{defaultValue:null,kind:"LocalArgument",name:"query"},{defaultValue:null,kind:"LocalArgument",name:"rs"}],kind:"Fragment",metadata:null,name:"UserSearchPaginationQuery",selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"}],kind:"FragmentSpread",name:"UserSearchPagination_query"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"UserSearchPaginationQuery",selections:[{alias:null,args:[{kind:"Variable",name:"debD",variableName:"debD"},{kind:"Variable",name:"query",variableName:"query"},{kind:"Variable",name:"rs",variableName:"rs"}],concreteType:null,kind:"LinkedField",name:"v3SearchUsersWithStoriesQuery",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"data",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:a=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"}],concreteType:"V3SearchUsersWithStoriesDataConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"V3SearchUsersWithStoriesDataEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:l=[{kind:"Literal",name:"spec",value:"222x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"contextualPinImageUrls",plural:!0,selections:o=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null}],storageKey:'contextualPinImageUrls(spec:"222x")'},s={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:l,concreteType:"ImageDetails",kind:"LinkedField",name:"recentPinImages",plural:!0,selections:o,storageKey:'recentPinImages(spec:"222x")'},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null}],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Node",abstractKey:"__isNode"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"OneBarModule",kind:"LinkedField",name:"oneBarModules",plural:!0,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"moduleType",storageKey:null},{alias:null,args:null,concreteType:"OneBarModuleAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,concreteType:"FilterOption",kind:"LinkedField",name:"filters",plural:!0,selections:[c={alias:null,args:null,kind:"ScalarField",name:"isSelected",storageKey:null},d,{alias:null,args:null,concreteType:"OneBarModuleDisplay",kind:"LinkedField",name:"display",plural:!1,selections:[u={alias:null,args:null,kind:"ScalarField",name:"displayText",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"OneBarModuleAction",kind:"LinkedField",name:"action",plural:!1,selections:[p={alias:null,args:null,kind:"ScalarField",name:"feedUrl",storageKey:null}],storageKey:null}],storageKey:null},p,{alias:null,args:null,kind:"ScalarField",name:"filterKeys",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:"entityId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"OneBarModuleDisplay",kind:"LinkedField",name:"display",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"altText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"backgroundColorHex",storageKey:null},u,{alias:null,args:null,kind:"ScalarField",name:"icon",storageKey:null},s,{alias:null,args:null,kind:"ScalarField",name:"imageUrls",storageKey:null},c,{alias:null,args:null,kind:"ScalarField",name:"selectedBackgroundColorHex",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Sensitivity",kind:"LinkedField",name:"sensitivity",plural:!1,selections:[{alias:null,args:null,concreteType:"AdvisoryNotice",kind:"LinkedField",name:"notices",plural:!0,selections:[h,{alias:"noticeId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"content_image_url",args:null,kind:"ScalarField",name:"contentImageUrl",storageKey:null},{alias:"suggested_resource",args:null,kind:"ScalarField",name:"suggestedResource",storageKey:null},{alias:"image_type",args:null,kind:"ScalarField",name:"imageType",storageKey:null},_={alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:g=[m={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryAction",kind:"LinkedField",name:"actions",plural:!0,selections:[{alias:"actionId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"AdvisoryButton",kind:"LinkedField",name:"button",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},m,{alias:"contact_type",args:null,kind:"ScalarField",name:"contactType",storageKey:null}],storageKey:null},_,{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"title",plural:!1,selections:g,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"advisory",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"severity",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"SearchNag",kind:"LinkedField",name:"searchNag",plural:!1,selections:[{alias:null,args:null,concreteType:"Nag",kind:"LinkedField",name:"nag",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"messages",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"debugData",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"clientTrackingParams",storageKey:null}],storageKey:null},{alias:null,args:a,filters:null,handle:"connection",key:"UserSearchPagination_data_connection",kind:"LinkedHandle",name:"connection"}],type:"V3SearchUsersWithStoriesDataConnectionContainer",abstractKey:null}],storageKey:null}],type:"V3SearchUsersWithStories",abstractKey:null}],storageKey:null}]},params:{id:"1df7314781064f55aa66e187b749680138eefaf09a25de1df64b1e8a885d345d",metadata:{},name:"UserSearchPaginationQuery",operationKind:"query",text:null}};f.hash="60ee3a73c4bde32a0e1ec7b6d624b98b";let y=f},850153(e,t,n){var i,r;n.r(t),n.d(t,{default:()=>l});let a=(r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{argumentDefinitions:[{defaultValue:50,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{kind:"RootArgument",name:"debD"},{kind:"RootArgument",name:"query"},{kind:"RootArgument",name:"rs"}],kind:"Fragment",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:i=["v3SearchUsersWithStoriesQuery","data","connection"]}],refetch:{connection:{forward:{count:"count",cursor:"cursor"},backward:null,path:i},fragmentPathInResult:[],operation:n(446114)}},name:"UserSearchPagination_query",selections:[{alias:null,args:[{kind:"Variable",name:"debD",variableName:"debD"},{kind:"Variable",name:"query",variableName:"query"},{kind:"Variable",name:"rs",variableName:"rs"}],concreteType:null,kind:"LinkedField",name:"v3SearchUsersWithStoriesQuery",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"data",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:"connection",args:null,concreteType:"V3SearchUsersWithStoriesDataConnection",kind:"LinkedField",name:"__UserSearchPagination_data_connection_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"V3SearchUsersWithStoriesDataEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"SearchResultUsersList"},r],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"OneBarModule",kind:"LinkedField",name:"oneBarModules",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"UnifiedFiltersContextProvider_oneBarModules"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"SearchContainer_searchUsersConnection"},{alias:null,args:null,kind:"ScalarField",name:"clientTrackingParams",storageKey:null}],storageKey:null}],type:"V3SearchUsersWithStoriesDataConnectionContainer",abstractKey:null}],storageKey:null}],type:"V3SearchUsersWithStories",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null});a.hash="60ee3a73c4bde32a0e1ec7b6d624b98b";let l=a},611450(e,t,n){var i,r,a,l,o,s,d,c,u,p,h,m,g,_,f,y;n.r(t),n.d(t,{default:()=>v});let x={fragment:{argumentDefinitions:[i={defaultValue:null,kind:"LocalArgument",name:"debD"},r={defaultValue:null,kind:"LocalArgument",name:"query"},a={defaultValue:null,kind:"LocalArgument",name:"rs"}],kind:"Fragment",metadata:null,name:"UserSearchQuery",selections:[{args:null,kind:"FragmentSpread",name:"UserSearchPagination_query"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[r,i,a],kind:"Operation",name:"UserSearchQuery",selections:[{alias:null,args:[{kind:"Variable",name:"debD",variableName:"debD"},{kind:"Variable",name:"query",variableName:"query"},{kind:"Variable",name:"rs",variableName:"rs"}],concreteType:null,kind:"LinkedField",name:"v3SearchUsersWithStoriesQuery",plural:!1,selections:[l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"data",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{alias:null,args:o=[{kind:"Literal",name:"first",value:50}],concreteType:"V3SearchUsersWithStoriesDataConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"V3SearchUsersWithStoriesDataEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{alias:null,args:s=[{kind:"Literal",name:"spec",value:"222x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"contextualPinImageUrls",plural:!0,selections:d=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null}],storageKey:'contextualPinImageUrls(spec:"222x")'},c={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:s,concreteType:"ImageDetails",kind:"LinkedField",name:"recentPinImages",plural:!0,selections:d,storageKey:'recentPinImages(spec:"222x")'},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null}],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[u={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Node",abstractKey:"__isNode"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"OneBarModule",kind:"LinkedField",name:"oneBarModules",plural:!0,selections:[u,{alias:null,args:null,kind:"ScalarField",name:"moduleType",storageKey:null},{alias:null,args:null,concreteType:"OneBarModuleAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,concreteType:"FilterOption",kind:"LinkedField",name:"filters",plural:!0,selections:[p={alias:null,args:null,kind:"ScalarField",name:"isSelected",storageKey:null},u,{alias:null,args:null,concreteType:"OneBarModuleDisplay",kind:"LinkedField",name:"display",plural:!1,selections:[h={alias:null,args:null,kind:"ScalarField",name:"displayText",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"OneBarModuleAction",kind:"LinkedField",name:"action",plural:!1,selections:[m={alias:null,args:null,kind:"ScalarField",name:"feedUrl",storageKey:null}],storageKey:null}],storageKey:null},m,{alias:null,args:null,kind:"ScalarField",name:"filterKeys",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:"entityId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"OneBarModuleDisplay",kind:"LinkedField",name:"display",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"altText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"backgroundColorHex",storageKey:null},h,{alias:null,args:null,kind:"ScalarField",name:"icon",storageKey:null},c,{alias:null,args:null,kind:"ScalarField",name:"imageUrls",storageKey:null},p,{alias:null,args:null,kind:"ScalarField",name:"selectedBackgroundColorHex",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Sensitivity",kind:"LinkedField",name:"sensitivity",plural:!1,selections:[{alias:null,args:null,concreteType:"AdvisoryNotice",kind:"LinkedField",name:"notices",plural:!0,selections:[g,{alias:"noticeId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"content_image_url",args:null,kind:"ScalarField",name:"contentImageUrl",storageKey:null},{alias:"suggested_resource",args:null,kind:"ScalarField",name:"suggestedResource",storageKey:null},{alias:"image_type",args:null,kind:"ScalarField",name:"imageType",storageKey:null},y={alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:f=[_={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryAction",kind:"LinkedField",name:"actions",plural:!0,selections:[{alias:"actionId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"AdvisoryButton",kind:"LinkedField",name:"button",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},_,{alias:"contact_type",args:null,kind:"ScalarField",name:"contactType",storageKey:null}],storageKey:null},y,{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"title",plural:!1,selections:f,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"advisory",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"severity",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"SearchNag",kind:"LinkedField",name:"searchNag",plural:!1,selections:[{alias:null,args:null,concreteType:"Nag",kind:"LinkedField",name:"nag",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"messages",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"debugData",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"clientTrackingParams",storageKey:null}],storageKey:"connection(first:50)"},{alias:null,args:o,filters:null,handle:"connection",key:"UserSearchPagination_data_connection",kind:"LinkedHandle",name:"connection"}],type:"V3SearchUsersWithStoriesDataConnectionContainer",abstractKey:null}],storageKey:null}],type:"V3SearchUsersWithStories",abstractKey:null}],storageKey:null}]},params:{id:"64074cd6262727bf076ad0bf3772bc65ce9831ee9b140634e8868610c20ca286",metadata:{},name:"UserSearchQuery",operationKind:"query",text:null}};x.hash="5cb3cc7b8d6ec418ea68dbcfd70533a4";let v=x},201563(e,t,n){n.r(t),n.d(t,{default:()=>r});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"hasSensitivityNotices_sensitivity",selections:[{alias:null,args:null,concreteType:"AdvisoryNotice",kind:"LinkedField",name:"notices",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"advisory",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"severity",storageKey:null}],type:"Sensitivity",abstractKey:null};i.hash="547e5abdb645851996d6a1b1a4027c56";let r=i},317465(e,t,n){n.r(t),n.d(t,{default:()=>r});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useHyperlinkExperiment_pin",selections:[{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"descriptionLinks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="bdd5959de70eab688d40f2293a76638c";let r=i},432321(e,t,n){n.d(t,{A:()=>r});var i=n(640654);function r(){return(0,i.y)()}},483940(e,t,n){function i(e="",t=""){let n=t||window.location.search,r=RegExp("[\\?&]"+(e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"))+"=([^&#]*)").exec(n);return null===r?"":decodeURIComponent(r[1].replace(/\+/g," "))}n.d(t,{A:()=>i})},681358(e,t,n){n.r(t),n.d(t,{default:()=>g});var i=n(61163),r=n(859471),a=n(19821),l=n(729617),o=n(586733),s=n(538329),d=n(726329),c=n(924276),u=n(562615);let p=({direction:e,onClick:t})=>{let n=(0,s.A)(),i="right"===e?n.bt("Click to scroll right", "Click to scroll right", "featuredBoards.featuredBoardsModule.iconScrollRight.label", undefined, true):n.bt("Click to scroll left", "Click to scroll left", "featuredBoards.featuredBoardsModule.iconScrollLeft.label", undefined, true);return(0,u.jsx)(a.az,{alignItems:"center",display:"flex",height:157,left:"left"===e,marginEnd:5*("right"===e),marginStart:5*("left"===e),position:"absolute",right:"right"===e,top:!0,children:(0,u.jsx)(a.az,{elevation:"shadowFloating",height:"var(--sema-space-800)",rounding:400,children:(0,u.jsx)(a.K0,{accessibilityLabel:i,bgColor:"default",icon:"right"===e?"chevron-right":"chevron-left",onClick:t,size:"sm"})})})};function h(e){return e?.map(({type:e,id:t})=>`${e??""}:${t??""}`).join("|")}function m({board:e,boardIndex:t,slotIndex:n,story:i,viewParameter:l,viewType:s}){let{logContextEvent:p}=(0,o.o)(),{id:m,pin_count:g}=e,_=(0,d.bi)({clientTrackingParams:i.tracking_params,componentType:15086,contextLogData:{board_id:m,board_pin_count:g??0,board_index:t,content_ids:h(i?.objects),story_id:i.id,story_type:i.story_type},impressionType:"Board",loggingId:i.id,slotIndex:n,viewParameter:l,viewType:s}),f=(0,r.useCallback)(()=>{p({aux_data:{board_id:m,board_index:t,board_pin_count:g??0,content_ids:h(i?.objects),story_id:i.id,story_type:i.story_type},component:15086,event_type:102,view_type:s,view_parameter:l})},[m,t,p,g,i,l,s]);return(0,u.jsx)(a.az,{ref:_,children:(0,u.jsx)(a.Rp,{onTap:f,children:(0,u.jsx)(c.default,{boardKey:{type:"Legacy",data:e},display:"static",isCollaboratorsAttributionVisible:!0,isFeaturedBoardsModule:!0,noPaddings:!0,showFollowButton:!1,type:"grid",viewParameter:l,viewType:s},m)})})}function g({renderAsStory:e=!1,slotIndex:t,story:n,viewParameter:s,viewType:c}){(0,r.useEffect)(()=>{(0,i.A)("FeaturedBoardsModule","/app/common/react/components/FeaturedBoards/FeaturedBoardsModule.tsx")},[]);let{logContextEvent:g}=(0,o.o)(),_=(0,r.useRef)(null),{width:f}=(0,l.A)()||{},[y,x]=(0,r.useState)({current:0,end:!1,start:!0}),[v,b]=(0,r.useState)(!e),{action:A,objects:w,subtitle:S,title:j}=n,k=A&&A.text&&A.url,I=(0,d.bi)({clientTrackingParams:n.tracking_params,componentType:15086,contextLogData:{content_ids:h(n?.objects),story_id:n.id,story_index:t,story_reason:"Featured Boards Module",story_title:n.title?.format,story_type:n.story_type,total_object_count:n.objects?.length},impressionType:"Story",loggingId:n.id,slotIndex:t,viewParameter:s,viewType:c}),P=e=>{if(!_.current)return;let{clientWidth:t,scrollLeft:i,scrollWidth:r}=_.current,a=r-t,l=Math.max(0,(i||0)+240*Math.floor(t/240)*e);0===l?_.current.scrollLeft=0:a-l<118?_.current.scrollLeft=a:_.current.scrollLeft=l-l%240,g({aux_data:{content_ids:h(n?.objects),story_id:n.id,story_type:n.story_type},component:15086,event_type:e>0?9315:9316,view_type:c,view_parameter:s})},E=()=>{if(!_.current)return;let e=_.current.scrollLeft||0,t=e+_.current.clientWidth>=_.current.scrollWidth;x({current:e,end:t,start:0===e})};return(0,r.useEffect)(()=>{if(!_.current)return;let{clientWidth:e,scrollWidth:t}=_.current;b(e<t),E()},[e,f]),(0,u.jsxs)(a.az,{ref:I,borderColor:e?void 0:"decorative",borderWidth:e?void 0:"lg",paddingY:5,rounding:400,children:[(0,u.jsx)(a.az,{paddingX:7,children:(0,u.jsxs)(a.so,{alignItems:"center",gap:2,justifyContent:e?"center":"between",children:[(0,u.jsxs)(a.az,{children:[S&&(0,u.jsx)(a.KJ,{align:e?"center":"start",size:"200",children:S.format}),j&&(0,u.jsx)(a.az,{marginTop:+!!S,children:(0,u.jsx)(a.KJ,{align:e?"center":"start",size:"400",weight:"bold",children:j.format})})]}),k&&(0,u.jsx)(a.$n,{color:"secondary",onClick:({event:e})=>{e.stopPropagation(),g({event_type:101,component:15086}),window.location.assign(A.url)},text:A.text})]})}),(0,u.jsxs)(a.az,{marginTop:3,position:"relative",children:[(0,u.jsxs)(a.az,{ref:_,dangerouslySetInlineStyle:{__style:{gap:"4px",scrollBehavior:"smooth"}},display:"flex",justifyContent:e&&!v?"center":"start",onScroll:E,overflow:"hidden",paddingX:4,children:[(0,u.jsx)(a.az,{width:"var(--sema-space-500)"}),w?.map((e,i)=>(0,u.jsx)(m,{board:e,boardIndex:i,slotIndex:t,story:n,viewParameter:s,viewType:c},e.id)),(0,u.jsx)(a.az,{width:"var(--sema-space-500)"})]}),v&&!y.start&&(0,u.jsx)(p,{direction:"left",onClick:()=>P(-1)}),v&&!y.end&&(0,u.jsx)(p,{direction:"right",onClick:()=>P(1)})]})]})}},48344(e,t,n){n.d(t,{A:()=>eM});var i,r=n(61163),a=n(859471),l=n(825193),o=n(19821),s=n(714364),d=n(317908),c=n(538329),u=n(562615);function p({onTap:e,showIndicator:t,icon:n,label:i}){(0,a.useEffect)(()=>{(0,r.A)("FilterButton","/app/common/react/components/OneBar/FilterButton.tsx")},[]);let l=(0,c.A)(),{isFiltersDrawerOpen:p}=(0,s.M)()||{isFiltersDrawerOpen:!1};return(0,u.jsxs)(o.az,{"data-test-id":"one-bar-module-0",position:"relative",children:[(0,u.jsx)(o.PF,{accessibilityLabel:l.bt("Show filters", "Show filters", "onebar.modules.filters.entrypoint", undefined, true),"aria-controls":d.d,"aria-expanded":p,"aria-haspopup":"menu",color:"secondary",dataTestId:"one-bar-pill",iconStart:(0,d.A)(n||0),onClick:e,selected:p,size:"lg",text:i||""}),t&&(0,u.jsx)(o.az,{alignItems:"center",color:"selected",dangerouslySetInlineStyle:{__style:{border:"2px solid white"}},"data-test-id":"one-bar-modified-bubble",display:"flex",height:14,justifyContent:"center",minWidth:14,position:"absolute",right:!0,rounding:"pill",top:!0})]})}var h=n(307079),m=n(979638),g=n(989457),_=n(693154),f=n(662449),y=n(115795),x=n(803489),v=n(586733),b=n(296221),A=n(168079);function w({buttonRef:e,viewParameter:t}){(0,a.useEffect)(()=>{(0,r.A)("BodyRangeExperienceTooltip","/app/www/inclusiveProduct/BodyRangeType/BodyRangeExperienceTooltip.tsx")},[]);let{logContextEvent:n}=(0,v.o)();return(0,A.A)(()=>{n({component:14430,event_type:120,view_parameter:t,view_type:2})}),(0,u.jsx)(b.Je,{eligibleIds:[505658],placementId:29,children:({complete:t,dismiss:n,experience:{display_data:i}})=>(0,u.jsx)(o.Rp,{onTap:()=>{t(),n()},children:(0,u.jsx)(o.az,{zIndex:new o.rk(10),children:(0,u.jsx)(o.fT,{accessibilityLabel:i.text,anchor:e,idealDirection:"down",message:i.text,onDismiss:()=>{t(),n()}})})})})}function S({buttonRef:e,viewParameter:t}){(0,a.useEffect)(()=>{(0,r.A)("ColorSeasonsEducationTooltip","/app/www/inclusiveProduct/OneBar/ColorSeasonsEducationTooltip.tsx")},[]);let{logContextEvent:n}=(0,v.o)();return(0,A.A)(()=>{n({element:18420,event_type:120,view_parameter:t,view_type:2})}),(0,u.jsx)(b.Je,{eligibleIds:[508550],placementId:29,children:({complete:t,dismiss:n,experience:{display_data:i}})=>(0,u.jsx)(o.Rp,{onTap:()=>{t(),n()},children:(0,u.jsx)(o.az,{zIndex:new o.rk(10),children:(0,u.jsx)(o.fT,{accessibilityLabel:i.text,anchor:e,forceDirection:!0,idealDirection:"down",message:i.text,onDismiss:()=>{t(),n()}})})})})}var j=n(260711),k=n(985279);let I="base",P=(e,t=!1)=>e?"string"==typeof e?t?k.SH[e.toLowerCase()]||[e]:k.SH[e.toLowerCase()]||I:e:I;function E({avatars:e,backgroundColor:t="#efefef",dropdownProps:n,href:i,icon:l,image:s,isSelected:c=!1,label:p,moduleType:h,onBeforeNavigate:v,onTap:b,selectedBackgroundColor:A="",stickGuideHref:k,viewParameter:I}){let E;(0,a.useEffect)(()=>{(0,r.A)("OneBarPill","/app/common/react/components/OneBar/OneBarPill.tsx")},[]);let T=(0,m.Zp)(),C=(0,m.zy)(),{previous:z}=(0,f.qD)(),{search:F}=C,R=(0,a.useRef)(null),O=(0,j.A)(),L=(0,_.A)(),{isAuth:M}=L,B=!M||"US"===L.country,D=P(t),N=P(A,c),K=22===h,U=z[z.length-1],$=(U?(U.location?.pathname||"")+(U.location?.search||""):"").includes("color-seasons"),H=(0,d.A)(l||0),V=7===l;if(H)E={icon:(0,u.jsx)(o.In,{accessibilityLabel:H,icon:H,size:V?12:void 0})};else if(s){let e=(0,u.jsx)(o._V,{alt:"",naturalHeight:1,naturalWidth:1,role:"presentation",src:s});E=K?{insetImage:e}:{image:e}}else e&&e.length>0&&(E={avatarGroup:(0,u.jsx)(g.Z7,{collaborators:e.map(e=>({name:p||"",src:e}))})});let W=7===l;return(0,u.jsxs)(o.az,{ref:R,children:[(0,u.jsx)(o.az,{"data-test-id":`one-bar-module-${h??""}`,position:"relative",children:(0,u.jsx)(o.jI,{accessibilityControls:n?.dropdownId,accessibilityExpanded:n?.isDropdownOpen,accessibilityHaspopup:!!n,color:c?N:D,dataTestId:"one-bar-pill",expandable:W,onClick:i?()=>{if(v?.())return;b?.();let e=B&&k?k:i;if(O?.(e),20===h||21===h||3===h){let t=e,{surfaceType:n}=(0,x.A)(F);if(n){let i=`surfaceType=${n}`;t=e.replace(/(surfaceType=)[^&]*/,i),c&&3===h&&(0,y.Oy)(C)&&t.includes(i)&&(t=t.substring(0,t.indexOf(i)+i.length))}T(t??"",{replace:!0})}else T(e??"")}:b,selected:!!c,selectedIconDisplay:(0,y.Oy)(C)||W?"hidden":void 0,text:p||"",thumbnail:E})}),R.current&&11===h&&(0,u.jsx)(w,{buttonRef:R.current,viewParameter:I}),R.current&&K&&$&&(0,u.jsx)(S,{buttonRef:R.current,viewParameter:I})]})}var T=n(201593);function C(){(0,a.useEffect)(()=>{(0,r.A)("OneBarPlaceholderPill","/app/common/react/components/OneBar/OneBarPlaceholderPill.tsx")},[]);let{isDarkMode:e}=(0,T.D2)();return(0,u.jsx)(o.az,{color:e?"tertiary":"secondary","data-test-id":"one-bar-placeholder-pill",height:50,rounding:400,width:120})}var z=n(836664),F=n(971289);function R({children:e,customWidth:t}){return(0,a.useEffect)(()=>{(0,r.A)("OneBarPopupDrawer","/app/common/react/components/OneBar/OneBarPopupDrawer.tsx")},[]),(0,F.qJ)()?(0,u.jsx)(o.az,{padding:6,width:t||312,children:e}):(0,u.jsx)(o.az,{maxHeight:"75vh",overflow:"scrollY",paddingX:4,paddingY:2,children:(0,u.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{lineHeight:"1.2"}},marginBottom:12,children:e})})}var O=n(79906);function L(){return window.innerWidth<=900?"sm":"lg"}function M(){let[e,t]=(0,a.useState)(L);return(0,a.useEffect)(()=>{function e(){t(L())}return t(L()),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),e}let B={bodyType:{direction:"column",justifyContent:"center",marginBottom:void 0,maxHeight:760,minHeight:250,paddingX:4,paddingY:0,width:411},colorPalette:{direction:"column",justifyContent:"center",marginBottom:6,maxHeight:void 0,minHeight:void 0,paddingX:6,paddingY:0,width:412},palettesSeasons:{direction:"column",justifyContent:"center",marginBottom:0,maxHeight:630,minHeight:250,paddingX:6,paddingY:0,width:412},palettesSeasonsReEntry:{direction:"column",justifyContent:"center",marginBottom:0,maxHeight:728,minHeight:250,paddingX:6,paddingY:0,width:412},default:{direction:"row",justifyContent:void 0,marginBottom:void 0,maxHeight:void 0,minHeight:void 0,paddingX:4,paddingY:4,width:367}};var D=n(601185);function N({contents:e,isDropdownOpen:t,moduleType:n,setIsDropdownOpen:i}){let{navigatedFromFindMyColorsQuiz:r}=function(){let{search:e,state:t}=(0,m.zy)(),{rs:n}=(0,x.A)(e);return{navigatedFromFindMyColorsQuiz:"pin_palette_quiz"===n&&t?.from==="fmc-quiz"}}(),l=(0,a.useRef)(!1),{checkExperiment:o}=(0,D.A)(),s=M(),[d,c]=(0,a.useState)(+!r),[u]=(0,a.useState)(r?"opacity 0.5s ease-in-out":void 0),p=(0,a.useMemo)(()=>{if(!e||0===e.length)return;let t=new Set(e.map(e=>e.moduleType).filter(e=>null!=e)),n=t.has(26),i=t.has(28),r=t.has(27);return n&&i&&r?"palettesSeasonsReEntry":n&&i&&!r?"palettesSeasons":"colorPalette"},[e]),h=o("web_fmc_seasons_quiz",{dangerouslySkipActivation:!0}).anyEnabled&&22===n,g=o("web_fmc_seasons_refinement",{dangerouslySkipActivation:!0}).anyEnabled&&22===n;(0,a.useEffect)(()=>{if(!r)return()=>{};let e=setTimeout(()=>c(1),600);return()=>clearTimeout(e)},[r]);let _=(0,a.useMemo)(()=>{switch(n){case 11:return"bodyType";case 22:return p;default:return"default"}},[n,p]),f="bodyType"===_,y="colorPalette"===_,v=["palettesSeasonsReEntry","palettesSeasons","colorPalette"].includes(_??"");return(0,a.useEffect)(()=>{22!==n||t||!r||l.current||(i?.(!0),l.current=!0)},[n,t,r,i]),{navigatedFromFindMyColorsQuiz:r,module:_,isBodyTypeModule:f,isColorPaletteModule:y,popoverOpacity:d,popoverTransition:u,inAnySeasons:h||g,isAnyPalettesModule:v,popoverWidth:"sm"===s?412:784,inclusiveModuleType:p}}var K=n(464224);function U({accessibilityLabel:e,contents:t,ref:n,heading:i,id:l,moduleType:s,onDismiss:d,role:p,type:h,variant:m}){(0,a.useEffect)(()=>{(0,r.A)("OneBarPopupContents","/app/common/react/components/OneBar/OneBarPopupContents.tsx")},[]);let g=(0,c.A)(),[_,f]=(0,a.useState)(null),[y,x]=(0,a.useState)(0),{popoverOpacity:v,popoverTransition:b,inAnySeasons:A,popoverWidth:w}=N({moduleType:s});(0,a.useEffect)(()=>{let e=_?.children[0].children[0].offsetLeft;void 0!==e&&e!==y&&0===y&&x(-1*e)},[_,y]);let S=(0,u.jsx)(o.AM,{accessibilityLabel:e,anchor:n?.current,forceDirection:!0,id:l,idealDirection:"down",onDismiss:d,role:p||"menu",size:"flexible",children:A?(0,u.jsx)(o.az,{"data-test-id":"seasons-quiz-popover-content",maxWidth:w,width:w,children:t}):(0,u.jsx)(a.Fragment,{children:t})});switch(h){case"modal":return(0,u.jsx)(o.Wd,{children:(0,u.jsx)(o.az,{marginTop:6,width:"100%",children:(0,u.jsx)(O.Ay,{accessibilityModalLabel:g.bt("Add to your query", "Add to your query", "SearchStructuredGuide.accessibilityLabel", undefined, true),allowClickAndDrag:!0,heading:i,mobileAccessibilityCloseIconLabel:g.bt("close modal", "close modal", "SearchStructuredGuide.heading", undefined, true),onDismiss:d,children:t})})});case"popover":if(m===K.bP.CLOSEUP)return(0,u.jsx)(o.Wd,{children:S});return(0,u.jsx)(o.az,{ref:e=>{f(e)},dangerouslySetInlineStyle:m!==K.bP.CLOSEUP?{__style:{top:-48,left:y,opacity:v,transition:b}}:void 0,position:"relative",children:S});default:return null}}function $({accessibilityLabel:e,contents:t,heading:n,id:i,isOpen:l,moduleType:s,onDismiss:d,oneBarPill:c,role:p,type:h,variant:m}){(0,a.useEffect)(()=>{(0,r.A)("OneBarPopupModule","/app/common/react/components/OneBar/OneBarPopupModule.tsx")},[]);let g=(0,a.useRef)(null);return(0,u.jsxs)(o.az,{ref:g,position:"relative",children:[c,l&&(0,u.jsx)(U,{ref:g,accessibilityLabel:e,contents:t,heading:n,id:i,moduleType:s,onDismiss:d,role:p,type:h,variant:m})]})}var H=n(794559),V=n(306964),W=n(798902),q=n(392026),G=n(874929),Y=n(406218),J=n(348681),Q=n(106301),X=n(53279);function Z({backgroundColor:e,filter:t,icon:n,imageUrls:i,label:l,moduleId:s,onTap:d,query:p}){(0,a.useEffect)(()=>{(0,r.A)("ProductBrandFilter","/app/common/react/components/OneBar/ProductBrandFilter.tsx")},[]);let{checkExperiment:h}=(0,D.A)(),m=(0,c.A)(),{logContextEvent:g}=(0,v.o)(),f=(0,W.A)(),y=(0,V.A)(),x=(0,X.A)({query:p}),b=(0,_.A)(),{isAuth:A}=b,w=A?b.country:"",S=(0,q.A)(),{brands:j,viewType:k,viewParameter:I}=(0,Q.u)(),P=S?t.appliedFilterOptions?.map(e=>e?.id).filter(Boolean)||[]:j?.split(",")||[],T=P.length>0,C=(0,F.qJ)(),[z,O]=(0,a.useState)(!1),L=`popover-${l||""}`,{dispatch:M}=(0,G.bn)()||{},{productFilterType:B}=t||{},N=t.filterOptions,K=new Set(P),[U,Z]=(0,a.useState)(K);if(!N)return null;let ee={filter_type:B,module_id:s,...x},et={id:t.id||"",lastChangedLocation:0,selectedOptionIds:U,type:"multi"};function en(e){y(0),f([{key:"brands",value:e},..."US"===w||h("hundred_percent_product_load_i8n",{dangerouslySkipActivation:!0}).anyEnabled?[{key:"commerce_only",value:"true"}]:[]])}function ei(){O(!1),g({aux_data:ee,component:14048,element:14424,event_type:123,view_parameter:I,view_type:k})}let er=i.filter(Boolean);return(0,u.jsx)(J.A,{log:{aux_data:ee,component:14047,element:14424,view_parameter:I,view_type:k},children:(0,u.jsx)(o.az,{position:"relative",children:(0,u.jsx)($,{contents:(0,u.jsx)(R,{children:(0,u.jsx)(J.A,{log:{aux_data:ee,component:15018,element:14424,view_parameter:I,view_type:k},children:(0,u.jsxs)(o.az,{"data-test-id":"product-brand-filter-content",children:[(0,u.jsx)(H.A,{accessibilityLabel:m.bt("Filter Pins by brand", "Filter Pins by brands", "ProductBrandFilter.oneBar.brandsCheckboxList", undefined, true),fadeBottomEdge:!0,filterOptions:N.map(e=>({image_url:e?.imageUrl||"",checked:U.has(e?.id||""),label:e?.label||"",string_value:e?.stringValue||""})),filterType:B||3,handleFilterChange:e=>{let t=N[e]?.id||"",n=new Set(U),i=!n.has(t),r=Array.from(U).map(e=>N.find(t=>t?.id===e));g({aux_data:{...ee,is_selecting:i,prev_selected_brands_labels:r.map(e=>e?.label),selected_brand_label:N[e]?.label||""},component:15018,element:14424,event_type:101,view_parameter:I,view_type:k}),i?n.add(t):n.delete(t),Z(n),S||M?.({payload:{...et,selectedOptionIds:n},type:"UPDATE_FILTER"})},maxContentHeight:242,paddingX:3,uiType:"check-boxes",viewParameter:I,viewType:k}),(0,u.jsx)(o.az,{marginTop:6,children:(0,u.jsxs)(o.so,{gap:2,justifyContent:"center",children:[(0,u.jsx)(o.$n,{color:"secondary",dataTestId:"product-brand-filter-content-reset-button",disabled:0===U.size,onClick:()=>{let e=N.filter(e=>U.has(e?.id||""));g({aux_data:{...ee,selected_brands_values:e.map(e=>e?.stringValue),selected_brands_labels:e.map(e=>e?.label)},component:15018,element:13520,event_type:101,view_parameter:I,view_type:k}),Z(new Set),S||M?.({payload:(0,Y.vd)(et),type:"UPDATE_FILTER"}),en(""),O(!1)},size:"lg",text:m.bt("Reset", "Reset", "ProductBrandFilter.oneBar.Reset", undefined, true),type:"submit"}),(0,u.jsx)(o.$n,{color:"primary",dataTestId:"product-brand-filter-content-apply-button",disabled:(()=>{if(U.size!==K.size)return!1;for(let e of U)if(!K.has(e))return!1;return!0})(),onClick:()=>{let e=N.filter(e=>U.has(e?.id||""));g({aux_data:{...ee,selected_brands_values:e.map(e=>e?.stringValue),selected_brands_labels:e.map(e=>e?.label)},component:15018,element:13521,event_type:101,view_parameter:I,view_type:k}),en(U&&0!==U.size?Array.from(U||[]).join(","):""),O(!1)},size:"lg",text:m.bt("Apply", "Apply", "ProductBrandFilter.oneBar.Apply", undefined, true),type:"submit"})]})})]})})}),heading:l||"",id:L,isOpen:z,onDismiss:ei,oneBarPill:(0,u.jsx)(o.az,{"data-test-id":"product-brand-filter-one-bar-pill",children:(0,u.jsx)(E,{avatars:er.length>0?er:void 0,backgroundColor:e,dropdownProps:{isDropdownOpen:z,dropdownId:L},icon:n,isSelected:T||z,label:l,moduleType:12,onTap:()=>{g({aux_data:ee,component:14047,element:14424,event_type:101,view_parameter:I,view_type:k}),d(),z&&ei(),O(!z)},viewParameter:I})}),type:C?"popover":"modal"})})})}function ee({backgroundColor:e,filter:t,icon:n,imageUrls:i,label:l,moduleId:s,onTap:d,query:p}){(0,a.useEffect)(()=>{(0,r.A)("ProductColorFilter","/app/common/react/components/OneBar/ProductColorFilter.tsx")},[]);let{checkExperiment:h}=(0,D.A)(),m=(0,c.A)(),{logContextEvent:g}=(0,v.o)(),f=(0,W.A)(),y=(0,V.A)(),x=(0,X.A)({query:p}),b=(0,_.A)(),{isAuth:A}=b,w=A?b.country:"",S=(0,q.A)(),{colors:j,viewType:k,viewParameter:I}=(0,Q.u)(),P=S?t.appliedFilterOptions?.map(e=>e?.id).filter(Boolean)||[]:(j||"").split(","),T=P.length>0,C=(0,F.qJ)(),[z,O]=(0,a.useState)(!1),L=`popover-${l||""}`,{dispatch:M}=(0,G.bn)()||{},{productFilterType:B}=t||{},N=t.filterOptions,K=new Set(P),[U,Z]=(0,a.useState)(K);if(!N)return null;let ee={filter_type:B,module_id:s,...x},et={id:t.id||"",lastChangedLocation:0,selectedOptionIds:U,type:"multi"};function en(e){y(0),f([{key:"colors",value:e},..."US"===w||h("hundred_percent_product_load_i8n",{dangerouslySkipActivation:!0}).anyEnabled?[{key:"commerce_only",value:"true"}]:[]])}function ei(){O(!1),g({aux_data:ee,component:14048,event_type:123,view_parameter:I,view_type:k})}let er=i.filter(Boolean),ea=0===er.length||h("shopping_onebar_color_filter",{dangerouslySkipActivation:!0}).anyEnabled?l:"";return(0,u.jsx)(J.A,{log:{aux_data:ee,component:14047,view_parameter:I,view_type:k},children:(0,u.jsx)(o.az,{position:"relative",children:(0,u.jsx)($,{contents:(0,u.jsx)(R,{children:(0,u.jsxs)(J.A,{log:{aux_data:ee,view_parameter:I,view_type:k},children:[(0,u.jsx)(H.A,{fadeBottomEdge:!0,filterOptions:N.map(e=>({image_url:e?.imageUrl||"",checked:U.has(e?.id||""),label:e?.label||"",string_value:e?.stringValue||""})),filterType:B||6,handleFilterChange:e=>{let t=N[e]?.id||"",n=new Set(U),i=!n.has(t);g({aux_data:{...ee,is_selecting:i},event_type:101,view_parameter:I,view_type:k}),i?n.add(t):n.delete(t),Z(n),S||M?.({payload:{...et,selectedOptionIds:n},type:"UPDATE_FILTER"})},maxContentHeight:242,paddingX:3,uiType:"check-boxes",viewParameter:I,viewType:k}),(0,u.jsx)(o.az,{marginTop:6,children:(0,u.jsxs)(o.so,{gap:2,justifyContent:"center",children:[(0,u.jsx)(o.$n,{color:"secondary",disabled:0===U.size,onClick:()=>{g({aux_data:ee,element:13520,event_type:101,view_parameter:I,view_type:k}),Z(new Set),S||M?.({payload:(0,Y.vd)(et),type:"UPDATE_FILTER"}),en(""),O(!1)},size:"lg",text:m.bt("Reset", "Reset", "ProductColorFilter.oneBar.Reset", undefined, true),type:"submit"}),(0,u.jsx)(o.$n,{color:"primary",disabled:(()=>{if(U.size!==K.size)return!1;for(let e of U)if(!K.has(e))return!1;return!0})(),onClick:()=>{g({aux_data:ee,element:13521,event_type:101,view_parameter:I,view_type:k}),en(U&&0!==U.size?Array.from(U||[]).join(","):""),O(!1)},size:"lg",text:m.bt("Apply", "Apply", "ProductColorFilter.oneBar.Apply", undefined, true),type:"submit"})]})})]})}),heading:l||"",id:L,isOpen:z,onDismiss:ei,oneBarPill:(0,u.jsx)(E,{avatars:er.length>0?er:void 0,backgroundColor:e,dropdownProps:{isDropdownOpen:z,dropdownId:L},icon:n,isSelected:T||z,label:ea,moduleType:12,onTap:()=>{g({aux_data:ee,component:14047,event_type:101,view_parameter:I,view_type:k}),d(),z&&ei(),O(!z)},viewParameter:I}),type:C?"popover":"modal"})})})}function et({backgroundColor:e,filter:t,icon:n,imageUrls:i,label:l,moduleId:s,query:d,onTap:p}){(0,a.useEffect)(()=>{(0,r.A)("ProductMerchantFilter","/app/common/react/components/OneBar/ProductMerchantFilter.tsx")},[]);let{checkExperiment:h}=(0,D.A)(),m=(0,c.A)(),{logContextEvent:g}=(0,v.o)(),f=(0,W.A)(),y=(0,V.A)(),x=(0,X.A)({query:d}),b=(0,_.A)(),{isAuth:A}=b,w=A?b.country:"",S=(0,q.A)(),{domains:j,viewType:k,viewParameter:I}=(0,Q.u)(),P=S?t.appliedFilterOptions?.map(e=>e?.id).filter(Boolean)||[]:j?.split(",")||[],T=P.length>0,C=(0,F.qJ)(),[z,O]=(0,a.useState)(!1),L=`popover-${l||""}`,{dispatch:M}=(0,G.bn)()||{},{productFilterType:B}=t||{},N=t.filterOptions,K=new Set(P),[U,Z]=(0,a.useState)(K);if(!N)return null;let ee={filter_type:B,module_id:s,...x},et={id:t.id||"",lastChangedLocation:0,selectedOptionIds:U,type:"multi"};function en(e){y(0),f([{key:"domains",value:e},..."US"===w||h("hundred_percent_product_load_i8n",{dangerouslySkipActivation:!0}).anyEnabled?[{key:"commerce_only",value:"true"}]:[]])}function ei(){O(!1),g({aux_data:ee,component:14048,element:14357,event_type:123,view_parameter:I,view_type:k})}let er=i.filter(Boolean);return(0,u.jsx)(J.A,{log:{aux_data:ee,component:14047,element:14357,view_parameter:I,view_type:k},children:(0,u.jsx)(o.az,{position:"relative",children:(0,u.jsx)($,{contents:(0,u.jsx)(R,{children:(0,u.jsx)(J.A,{log:{aux_data:ee,component:14984,element:14357,view_parameter:I,view_type:k},children:(0,u.jsxs)(o.az,{"data-test-id":"product-merchant-filter-content",children:[(0,u.jsx)(H.A,{accessibilityLabel:m.bt("Filter Pins by merchant", "Filter Pins by merchants", "ProductMerchantFilter.oneBar.merchantsCheckboxList", undefined, true),fadeBottomEdge:!0,filterOptions:N.map(e=>({image_url:e?.imageUrl||"",checked:U.has(e?.id||""),label:e?.label||"",string_value:e?.stringValue||""})),filterType:B||0,handleFilterChange:e=>{let t=N[e]?.id||"",n=new Set(U),i=!n.has(t),r=Array.from(U).map(e=>N.find(t=>t?.id===e));g({aux_data:{...ee,is_selecting:i,prev_selected_merchants_domains:r.map(e=>e?.stringValue),prev_selected_merchants_labels:r.map(e=>e?.label),selected_merchant_domain:N[e]?.stringValue||"",selected_merchant_label:N[e]?.label||""},component:14984,element:14357,event_type:101,view_parameter:I,view_type:k}),i?n.add(t):n.delete(t),Z(n),S||M?.({payload:{...et,selectedOptionIds:n},type:"UPDATE_FILTER"})},maxContentHeight:242,paddingX:3,uiType:"check-boxes",viewParameter:I,viewType:k}),(0,u.jsx)(o.az,{marginTop:6,children:(0,u.jsxs)(o.so,{gap:2,justifyContent:"center",children:[(0,u.jsx)(o.$n,{color:"secondary",dataTestId:"product-merchant-filter-content-reset-button",disabled:0===U.size,onClick:()=>{let e=N.filter(e=>U.has(e?.id||""));g({aux_data:{...ee,selected_merchants_domains:e.map(e=>e?.stringValue),selected_merchants_labels:e.map(e=>e?.label)},component:14984,element:13520,event_type:101,view_parameter:I,view_type:k}),Z(new Set),S||M?.({payload:(0,Y.vd)(et),type:"UPDATE_FILTER"}),en(""),O(!1)},size:"lg",text:m.bt("Reset", "Reset", "ProductMerchantFilter.oneBar.Reset", undefined, true),type:"submit"}),(0,u.jsx)(o.$n,{color:"primary",dataTestId:"product-merchant-filter-content-apply-button",disabled:(()=>{if(U.size!==K.size)return!1;for(let e of U)if(!K.has(e))return!1;return!0})(),onClick:()=>{let e=N.filter(e=>U.has(e?.id||""));g({aux_data:{...ee,selected_merchants_domains:e.map(e=>e?.stringValue),selected_merchants_labels:e.map(e=>e?.label)},component:14984,element:13521,event_type:101,view_parameter:I,view_type:k}),en(U&&0!==U.size?Array.from(U||[]).join(","):""),O(!1)},size:"lg",text:m.bt("Apply", "Apply", "ProductMerchantFilter.oneBar.Apply", undefined, true),type:"submit"})]})})]})})}),heading:l||"",id:L,isOpen:z,onDismiss:ei,oneBarPill:(0,u.jsx)(o.az,{"data-test-id":"product-merchant-filter-one-bar-pill",children:(0,u.jsx)(E,{avatars:er.length>0?er:void 0,backgroundColor:e,dropdownProps:{isDropdownOpen:z,dropdownId:L},icon:n,isSelected:T||z,label:l,moduleType:12,onTap:()=>{g({aux_data:ee,component:14047,element:14357,event_type:101,view_parameter:I,view_type:k}),p(),z&&ei(),O(!z)},viewParameter:I})}),type:C?"popover":"modal"})})})}function en({backgroundColor:e,filter:t,icon:n,label:i,moduleId:l,query:s,onTap:d}){(0,a.useEffect)(()=>{(0,r.A)("ProductOnSaleFilter","/app/common/react/components/OneBar/ProductOnSaleFilter.tsx")},[]);let{checkExperiment:c}=(0,D.A)(),{logContextEvent:p}=(0,v.o)(),h=(0,W.A)(),m=(0,V.A)(),g=(0,X.A)({query:s}),f=(0,_.A)(),{isAuth:y}=f,x=y?f.country:"",b=(0,q.A)(),{onSale:A,viewType:w,viewParameter:S}=(0,Q.u)(),j=b?!!t.appliedFilterOptions?.length:!!A,{dispatch:k}=(0,G.bn)()||{},{productFilterType:I}=t||{},P=t.filterOptions;if(!P)return null;let T={id:t.id||"",lastChangedLocation:0,selectedOptionId:j&&P[0]?.id||"",type:"single"},C={filter_type:I,module_id:l,price_drop_sale:P[0]?.numericValue,...g};return(0,u.jsx)(J.A,{log:{aux_data:C,component:14047,element:14449,view_parameter:S,view_type:w},children:(0,u.jsx)(o.az,{"data-test-id":"product-sale-filter-one-bar-pill",children:(0,u.jsx)(E,{backgroundColor:e,icon:n,isSelected:j,label:i,moduleType:12,onTap:()=>{d();let e={...C,is_selecting:!j};p({aux_data:e,component:14047,element:14449,event_type:101,view_parameter:S,view_type:w}),p({aux_data:e,event_type:101,view_parameter:S,view_type:w}),p({aux_data:e,element:13521,event_type:101,view_parameter:S,view_type:w}),j?(b||k?.({payload:{...T,selectedOptionId:""},type:"UPDATE_FILTER"}),m(0),h([{key:"on_sale",value:""}])):(b||k?.({payload:{...T,selectedOptionId:P[0]?.id||""},type:"UPDATE_FILTER"}),m(0),h([{key:"on_sale",value:P[0]?.numericValue?.toString()||""},..."US"===x||c("hundred_percent_product_load_i8n",{dangerouslySkipActivation:!0}).anyEnabled?[{key:"commerce_only",value:"true"}]:[]]))},viewParameter:S})})})}var ei=n(625007),er=n(675609),ea=n(224723);function el({backgroundColor:e,filter:t,icon:n,label:i,moduleId:l,onTap:s,query:d}){(0,a.useEffect)(()=>{(0,r.A)("ProductPriceFilter","/app/common/react/components/OneBar/ProductPriceFilter.tsx")},[]);let{checkExperiment:p}=(0,D.A)(),h=(0,c.A)(),{logContextEvent:m}=(0,v.o)(),g=(0,W.A)(),f=(0,er.A)(),y=(0,V.A)(),{dispatch:x}=(0,G.bn)()||{},b=(0,q.A)(),A=(0,X.A)({query:d}),w=(0,_.A)(),{isAuth:S}=w,j=S?w.country:"",{productFilterType:k,label:I}=t,P=t.filterOptions,T=t.appliedFilterOptions,{priceMax:C,priceMin:z,viewType:O,viewParameter:L,scope:M}=(0,Q.u)(),B=b?T?.[0]?.numericValue||null:z&&!Number.isNaN(z)?Number(z):null,N=b?T?.[1]?.numericValue||null:C&&!Number.isNaN(C)?Number(C):null,K=(0,F.qJ)(),[U,H]=(0,a.useState)(!1),Y=`popover-${i||""}`,[Z,ee,et,en]=P||[{unit:"USD",numericValue:0},{unit:"USD",numericValue:50}],{unit:el}=Z||{unit:"USD"},eo=en?.numericValue??Z?.numericValue??0,es=et?.numericValue??ee?.numericValue??eo+50,ed=B??eo,ec=N??es,[eu,ep]=(0,a.useState)(ed),[eh,em]=(0,a.useState)(ec);(0,a.useEffect)(()=>{ep(ed),em(ec)},[ed,ec]);let eg={min:eu,max:eh},e_={id:t.id||"",lastChangedLocation:0,max:eh,min:eu,type:"range"},ef={currency:el||"USD",filter_type:k,module_id:l,price_range_max:eh,price_range_min:eu,...A};function ey(){H(!1),m({aux_data:ef,component:14048,event_type:123,view_parameter:L,view_type:O})}let ex=(e,t)=>{y(0),g([{key:"price_min",value:e},{key:"price_max",value:t},..."US"===j||p("hundred_percent_product_load_i8n",{dangerouslySkipActivation:!0}).anyEnabled?[{key:"commerce_only",value:"true"}]:[]])},ev=f?14324:13468,eb=()=>{m({aux_data:ef,event_type:7472,component:ev,view_type:O,view_parameter:L})};return(0,u.jsx)(J.A,{log:{aux_data:ef,component:14047,element:14291,view_parameter:L,view_type:O},children:(0,u.jsx)(o.az,{position:"relative",children:(0,u.jsx)($,{accessibilityLabel:h.bt("Set price range filter", "Set price range filter", "ProductPriceFilter.oneBar.priceFilter", undefined, true),contents:(0,u.jsx)(R,{children:(0,u.jsxs)(o.az,{"data-test-id":"product-price-filter-content",children:[(0,u.jsx)(J.A,{log:{aux_data:ef,component:14324,view_parameter:L,view_type:O,element:M===ea.cO.SHOP_TOOL?14449:void 0},children:(0,u.jsx)(ei.A,{currencyCode:el||"USD",defaultMaxPrice:es,defaultMinPrice:eo,filterType:k??1,handleMaxPriceChange:e=>{let{min:t}=eg;e<=0&&(e=es),t>e&&(t=Math.max(0,e-50)),em(e),b||x?.({payload:{...e_,max:e},type:"UPDATE_FILTER"}),eb()},handleMinPriceChange:e=>{let{max:t}=eg;e<0&&(e=0),e>t&&(t=e+50),ep(e),b||x?.({payload:{...e_,min:e},type:"UPDATE_FILTER"}),eb()},instructions:I,maxPrice:eg.max,minPrice:eg.min,onRangeChange:()=>{m({aux_data:ef,component:14324,event_type:101,view_parameter:L,view_type:O})},viewParameter:L,viewType:O})}),(0,u.jsx)(o.az,{marginTop:6,children:(0,u.jsxs)(o.so,{gap:2,justifyContent:"center",children:[(0,u.jsx)(o.$n,{color:"secondary",dataTestId:"product-price-filter-content-reset-button",disabled:eu===eo&&eh===es,onClick:function(){m({aux_data:ef,component:14324,element:13520,event_type:101,view_parameter:L,view_type:O}),ep(eo),em(es),b||x?.({payload:{...e_,min:eo,max:es},type:"UPDATE_FILTER"}),ex("",""),H(!1)},size:"lg",text:h.bt("Reset", "Reset", "ProductPriceFilter.oneBar.Reset", undefined, true),type:"submit"}),(0,u.jsx)(o.$n,{color:"primary",dataTestId:"product-price-filter-content-apply-button",disabled:eu===ed&&eh===ec,onClick:()=>{m({aux_data:ef,component:14324,element:13521,event_type:101,view_parameter:L,view_type:O});let e=eu===eo&&eh===es,t=eh===es?et?.numericValue??ee?.numericValue??eh:eh;ex(e?"":String(eu),e?"":String(t)),H(!1)},size:"lg",text:h.bt("Apply", "Apply", "ProductPriceFilter.oneBar.Apply", undefined, true),type:"submit"})]})})]})}),heading:i||"",id:Y,isOpen:U,onDismiss:ey,oneBarPill:(0,u.jsx)(o.az,{"data-test-id":"product-price-filter-one-bar-pill",children:(0,u.jsx)(E,{backgroundColor:e,dropdownProps:{isDropdownOpen:U,dropdownId:Y},icon:n,isSelected:null!==B||null!==N||U,label:i,moduleType:12,onTap:()=>{m({aux_data:ef,component:14047,element:14291,event_type:101,view_parameter:L,view_type:O}),s(),U&&ey(),H(!U)},viewParameter:L})}),role:"dialog",type:K?"popover":"modal"})})})}function eo({backgroundColor:e,filters:t,icon:n,index:i,isSelected:l,label:s,onTap:d}){(0,a.useEffect)(()=>{(0,r.A)("StructuredContentTypeFilter","/app/common/react/components/OneBar/StructuredContentTypeFilter.tsx")},[]);let{logContextEvent:c}=(0,v.o)(),[p,h]=(0,a.useState)(!1),g=`popover-${s}-radio`,_=`popover-${s}`,f=(0,F.qJ)(),y=(0,m.Zp)(),{viewType:x,viewParameter:b}=(0,Q.u)(),A=(0,j.A)();if(!t||0===t.length)return null;function w(){c({event_type:123,component:14048,view_type:x,view_parameter:b,aux_data:{label:s,grid_index:i,onebar_module_type:12}})}return(0,u.jsx)(o.az,{position:"relative",children:(0,u.jsx)($,{contents:(0,u.jsx)(R,{children:(0,u.jsx)(o.z6,{id:_,legend:"content filter radio group",legendDisplay:"hidden",children:(0,u.jsx)(o.so,{dataTestId:"onebar-content-modal",direction:"column",gap:5,children:t.map(({display:e,isSelected:t,disabled:n,action:i},r)=>{let a=`${g}-${r}`,l=`${_}-${r}`,{displayText:s=""}=e||{},{feedUrl:d=""}=i||{};return(0,u.jsxs)(o.so,{alignContent:"center",dataTestId:a,justifyContent:"between",children:[(0,u.jsx)(o.JU,{htmlFor:l,children:(0,u.jsx)(o.KJ,{color:n?"subtle":"default",weight:"bold",children:e?.displayText})}),(0,u.jsx)(o.z6.RadioButton,{checked:!!t,disabled:!!n,id:l,onChange:()=>{A?.(d),y(d)},value:s})]},l)})})})}),heading:s,id:_,isOpen:p,onDismiss:function(){w(),h(!1)},oneBarPill:(0,u.jsx)(E,{backgroundColor:e,dropdownProps:{isDropdownOpen:p,dropdownId:_},icon:n,isSelected:l||p,label:s,moduleType:12,onTap:()=>{d(),p&&w(),h(!p)},viewParameter:b}),type:f?"popover":"modal"})})}var es=n(542975);let ed=({children:e})=>(0,u.jsx)(o.KJ,{size:"200",children:e});function ec({onDismiss:e}){(0,a.useEffect)(()=>{(0,r.A)("BodyRangeTypeEducationModal","/app/www/inclusiveProduct/BodyRangeType/BodyRangeTypeEducationModal.tsx")},[]);let t=(0,c.A)();return(0,u.jsx)(O.Ay,{accessibilityModalLabel:t.bt("Modal explaining how body type range filters work", "Modal explaining how body type range filters work", "BodyTypeEducation.modal.accessibilityLabel", undefined, true),onDismiss:e,size:"lg",children:(0,u.jsxs)(o.so,{alignItems:"stretch",height:521,justifyContent:"start",children:[(0,u.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#FFDFE9"}},direction:"column",display:"flex",justifyContent:"end",minWidth:347,overflow:"hidden",children:(0,u.jsx)(o._V,{alt:t.bt("Body type range image collage", "Body type range image collage", "BodyTypeEducation.modal.image", undefined, true),fit:"cover",naturalHeight:1,naturalWidth:1,src:"https://i.pinimg.com/originals/1a/c0/f1/1ac0f12990dd9dc05d1dde3379295cfe.png"})}),(0,u.jsx)(o.az,{alignItems:"stretch",direction:"column",display:"flex",justifyContent:"start",overflow:"hidden",paddingX:9,children:(0,u.jsxs)(o.so,{direction:"column",gap:{row:0,column:6},children:[(0,u.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{marginTop:56}},children:(0,u.jsx)(o._Y,{size:"600",children:t.bt("About our body type ranges", "About our body type ranges", "bodyRange.education.modal.header", undefined, true)})}),(0,u.jsx)(o.az,{maxHeight:324,maxWidth:477,overflow:"scrollY",children:(0,u.jsxs)(o.so,{direction:"column",gap:{row:0,column:6},children:[(0,u.jsx)(ed,{children:t.bt("Our body type ranges give you control to refine your search results and more easily find fashion ideas featuring people with bodies similar to yours.", "Our body type ranges give you control to refine your search results and more easily find fashion ideas featuring people with bodies similar to yours.", "BodyTypeEducation.description.part1", undefined, true)}),(0,u.jsx)(ed,{children:t.bt("Developed with our body type technology, each range was built by analysing billions of images and grouping similar shapes, sizes and forms.", "Developed with our body type technology, each range was built by analyzing billions of images and grouping similar shapes, sizes and forms.", "BodyTypeEducation.description.part2", undefined, true)}),(0,u.jsx)(ed,{children:t.bt("We created this in partnership with industry experts using input from fashion experts and people like you.", "We created this in partnership with industry experts, using input from fashion experts and people like you.", "BodyTypeEducation.description.part3", undefined, true)}),(0,u.jsx)(ed,{children:t.bt("As we continue to advance our technology, these ranges will also evolve to be more representative of the Pinterest community. One range may best represent the upper half of your body while another is perfect for your lower half. Explore the ranges, play with your searches and find inspiration.", "As we continue to advance our technology, these ranges will also evolve to be more representative of the Pinterest community. One range may best represent the upper half of your body while another is perfect for your lower half. Explore the ranges, play with your searches and find inspiration.", "BodyTypeEducation.description.part4", undefined, true)}),(0,u.jsx)(ed,{children:(0,es.vQ)(t.bt("Issues, questions or concerns? {{ learn }} or {{ contact }}", "Issues, questions or concerns? {{ learn }} or {{ contact }}", "BodyTypeEducation.description.part5", undefined, true),{learn:(0,u.jsx)(o.N_,{accessibilityLabel:t.bt("Find out more about body type ranges", "Learn more about body type ranges", "BodyTypeEducation.learnMore.link", undefined, true),display:"inline",href:"https://help.pinterest.com/article/search-by-body-type-ranges",target:"blank",children:t.bt("Find out more about body type ranges", "Learn more about body type ranges", "BodyTypeEducation.learnMore.text", undefined, true)}),contact:(0,u.jsx)(o.N_,{accessibilityLabel:t.bt("contact us", "contact us", "BodyTypeEducation.contactUs.link", undefined, true),display:"inline",href:"https://pinterest.com/_/_/help/contact?current_page=overview&features_settings=search",target:"blank",children:t.bt("contact us", "contact us", "BodyTypeEducation.contactUs.text", undefined, true)})})})]})})]})}),(0,u.jsx)(o.az,{alignItems:"center",display:"flex",marginEnd:6,marginTop:5,position:"absolute",right:!0,top:!0,zIndex:new o.rk(2),children:(0,u.jsx)(o.K0,{accessibilityLabel:t.bt("Close", "Close", "Close button on modal", undefined, true),bgColor:"default",icon:"close",iconColor:"default",onClick:e,size:"lg"})}),(0,u.jsx)(o.az,{bottom:!0,marginBottom:6,marginEnd:6,position:"absolute",right:!0,children:(0,u.jsx)(o.$n,{color:"primary",onClick:e,size:"lg",text:t.bt("OK", "Got it", "BodyRangeTypeEducationModal.closeButton.text", undefined, true)})})]})})}function eu({title:e,heading:t,moduleType:n,viewType:i}){(0,a.useEffect)(()=>{(0,r.A)("StickyPopoverHeader","/app/common/react/components/OneBar/StickyPopoverHeader.tsx")},[]);let{logContextEvent:l}=(0,v.o)(),s=(0,c.A)(),[d,p]=(0,a.useState)(!1);return(0,u.jsxs)(a.Fragment,{children:[e&&(0,u.jsx)(o.ib,{top:0,children:(0,u.jsx)(o.az,{alignItems:"center",color:"washLight",dangerouslySetInlineStyle:{__style:{paddingTop:24,paddingBottom:22===n?16:8}},display:"flex",height:72,justifyContent:"center",children:(0,u.jsx)(o._Y,{accessibilityLevel:2,size:"300",children:t})})}),11===n&&(0,u.jsxs)(o.az,{marginBottom:4,children:[(0,u.jsx)(o.KJ,{align:"center",size:"300",children:e}),(0,u.jsx)(o.Rp,{onTap:()=>{l({event_type:101,element:245,component:14048,view_type:i}),p(!0)},children:(0,u.jsx)(o.KJ,{align:"center",size:"300",underline:!0,children:s.bt("What is this?", "What is this?", "BodyDiversityHeader.education", undefined, true)})})]}),d&&(0,u.jsx)(ec,{onDismiss:()=>p(!1)})]})}var ep=n(890922);function eh({backgroundColor:e,contents:t,icon:n,image:i,impressionsFramework:l,index:s,isSelected:d,label:c="",moduleType:p,OneBarModule:h,onTap:m,title:g="",variant:_}){(0,a.useEffect)(()=>{(0,r.A)("StructuredSearchGuide","/app/common/react/components/OneBar/StructuredSearchGuide.tsx")},[]);let{logContextEvent:f}=(0,v.o)(),[y,x]=(0,a.useState)(!1),b=`popover-${c}`,A=(0,F.qJ)(),{viewType:w,viewParameter:S}=(0,Q.u)(),{module:j,isBodyTypeModule:k,isAnyPalettesModule:I,isColorPaletteModule:P,inAnySeasons:T}=N({contents:t,moduleType:p,isDropdownOpen:y,setIsDropdownOpen:x}),C=function({module:e,isBodyTypeModule:t}){let n=M(),[i,r]=(0,a.useState)(void 0);(0,a.useEffect)(()=>{let e=()=>{r(window.innerHeight-200)};return window.addEventListener("resize",e),e(),()=>{window.removeEventListener("resize",e)}},[]);let l=B[e],o=["palettesSeasonsReEntry","palettesSeasons"].includes(e),s=o&&"lg"===n?784:l.width,d=o&&"sm"===n?973:l.maxHeight,c="sm"===n?6:l.marginBottom;return{direction:l.direction,height:t||o?i:void 0,marginBottom:c,maxHeight:d,minHeight:l.minHeight,paddingX:l.paddingX,paddingY:l.paddingY,width:s}}({module:j,isBodyTypeModule:k}),z=(0,a.useMemo)(()=>({component:14048,view_type:w,view_parameter:S,aux_data:{label:c,grid_index:s,onebar_module_type:p}}),[14048,s,c,p,S,w]);function R(){f({event_type:123,...z})}function O(){R(),x(!1)}(0,a.useEffect)(()=>{y&&f({event_type:120,...z})},[y,f,z]);let L=t&&(0,u.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{gap:"1px 2px"}},display:"flex",justifyContent:T||"default"===j?void 0:"center",role:"list",wrap:!0,children:t.map((e,t)=>(0,u.jsx)(o.az,{"data-test-id":"one-bar-module-item",role:"listitem",children:(0,u.jsx)(h,{eventType:8721,impressionsFramework:l,index:t,module:e,onDismissPopoverModule:O,oneBarModulesKey:null,overriddenModuleType:I?void 0:7,referringSource:ep.I.STRUCTURED_GUIDE})},`OneBarModule-${e.id||""}`))}),D=L&&(A?(0,u.jsxs)(o.az,{"data-test-id":"onebar-popover-modal",direction:C.direction,display:"flex",height:C.height,marginBottom:C.marginBottom,maxHeight:C.maxHeight,minHeight:C.minHeight,paddingX:C.paddingX,paddingY:C.paddingY,width:C.width,children:[(k||I)&&g&&(0,u.jsx)(eu,{heading:k?c:g,moduleType:p,title:g,viewType:w}),L]}):(0,u.jsx)(o.az,{"data-test-id":"structured-guide-modal",maxHeight:"75vh",overflow:"scrollY",paddingX:4,paddingY:2,children:(0,u.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{lineHeight:"1.2"}},marginBottom:12,children:L})}));return(0,u.jsx)(o.az,{position:"relative",children:(0,u.jsx)($,{contents:D,heading:(P?g:c)??"",id:b,isOpen:y,moduleType:p,onDismiss:O,oneBarPill:(0,u.jsx)(E,{backgroundColor:e,dropdownProps:{isDropdownOpen:y,dropdownId:b},icon:n,image:i,isSelected:d||y,label:c,moduleType:p,onTap:()=>{m(),y&&R(),x(!y)}}),role:"dialog",type:A?"popover":"modal",variant:_})})}var em=n(143539),eg=n(726329),e_=n(844255);let ef="unselected:";function ey(e){return`selected:${e}`}function ex(e){return e.startsWith(ef)}var ev=n(306618),eb=n(11925),eA=n(917348),ew=n(385800),eS=n(295593);let ej={23:{borderColor:"selected",borderContainerHeight:120,borderContainerWidth:120,borderWidth:2,borderRadius:30,imageHeight:116,imageWidth:116,imageRounding:700},25:{borderColor:"selected",borderContainerHeight:120,borderContainerWidth:120,borderWidth:2,borderRadius:30,imageHeight:116,imageWidth:116,imageRounding:700},14:{borderColor:void 0,borderContainerHeight:143,borderContainerWidth:371,borderWidth:4,borderRadius:void 0,imageHeight:135,imageWidth:363,imageRounding:500}};function ek({hovered:e,moduleType:t,isOnSelectedFilter:n,selectedBackgroundColorArray:i}){(0,a.useEffect)(()=>{(0,r.A)("Border","/app/www/inclusiveProduct/OneBar/Border.tsx")},[]);let l=!!t&&ej?.[t];if(!l)return null;let{borderColor:s,borderRadius:d,borderContainerHeight:c,borderContainerWidth:p}=l,h=[23,25].includes(t),m=i&&i.length>0?`linear-gradient(0.25turn, ${i.join(", ")})`:void 0;return(0,u.jsx)(o.az,{color:e?"secondary":n?s:void 0,dangerouslySetInlineStyle:{__style:{backgroundImage:!h&&n?m:void 0,borderRadius:d}},height:c,width:p})}function eI({altText:e="",contextLogData:t,imageUrl:n,label:i="",moduleType:l,onDismissPopoverModule:s,onTap:d,selectedBackgroundColorArray:c,title:p,viewParameter:g}){(0,a.useEffect)(()=>{(0,r.A)("InclusiveFiltersOption","/app/www/inclusiveProduct/OneBar/InclusiveFiltersOption.tsx")},[]);let _=(0,m.Zp)(),{logContextEvent:f}=(0,v.o)(),y=(0,h.A)(),x=y.filters,b=x===p,A=(0,j.A)();if(!n)return null;let w=[23,25].includes(l),S=!!l&&ej?.[l];if(!S)return null;let{borderWidth:k,imageHeight:I,imageWidth:P,imageRounding:E}=S;return(0,u.jsx)(ew.e,{children:({hovered:r,onMouseEnter:a,onMouseLeave:h})=>(0,u.jsxs)(o.Rp,{onMouseEnter:a,onMouseLeave:h,onTap:()=>{let e,n;return e={...t,filter_value:p},p&&x!==p?(y.filters=p,f({aux_data:e,component:14048,event_type:8721,view_parameter:g,view_type:2})):(delete y.filters,f({aux_data:e,component:14048,event_type:8722,view_parameter:g,view_type:2})),d(),n=(0,eb.A)(window.location.pathname,y),void(A?.(n),_(n,{replace:!0}),s?.())},children:[(0,u.jsxs)(o.az,{position:"relative",children:[w?(0,u.jsx)(ek,{hovered:r,isOnSelectedFilter:b,moduleType:l}):(0,u.jsx)(o.n1,{rounding:600,children:(0,u.jsx)(ek,{hovered:r,isOnSelectedFilter:b,moduleType:l,selectedBackgroundColorArray:c})}),(0,u.jsx)(o.az,{color:"washLight",dangerouslySetInlineStyle:{__style:{top:k,left:k}},height:I,maxWidth:P,position:"absolute",rounding:E,top:!0,children:(0,u.jsx)(eS.A,{color:"#fff",outlined:!0,rounding:E,type:"solid",children:(0,u.jsx)(o.n1,{height:I,rounding:E,wash:!0,width:P,children:(0,u.jsx)(o._V,{alt:e,fit:"cover",naturalHeight:1,naturalWidth:1,src:n})})})})]}),!!i&&(0,u.jsx)(o.az,{marginStart:1.5,marginTop:1.5,children:(0,u.jsx)(o.KJ,{size:"100",children:i})})]})})}function eP({contents:e,impressionsFramework:t,moduleType:n,OneBarModule:i}){(0,a.useEffect)(()=>{(0,r.A)("PalettesFilters","/app/www/inclusiveProduct/OneBar/PalettesFilters.tsx")},[]);let l=(0,c.A)(),s="lg"===M(),d=26===n,p=d?l.bt("Colour seasons", "Color seasons", "colorSeasons.heading", undefined, true):l.bt("Classics", "Classics", "colorPalettes.heading", undefined, true);return(0,u.jsxs)(o.az,{"data-test-id":"palettes-filters-container",direction:"column",display:"flex",width:"100%",children:[(0,u.jsx)(o.az,{marginTop:3*!d,padding:2,children:(0,u.jsx)(o.KJ,{weight:"bold",children:p})}),(0,u.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{gap:"1px 2px"}},"data-test-id":"palettes-filters-content",direction:"row",display:"flex",justifyContent:"center",marginBottom:6*!s,wrap:!0,children:e.map((e,n)=>(0,u.jsx)(o.az,{"data-test-id":"palettes-filters-one-bar-module-item",marginTop:4*(n>(s?5:2)),role:"listitem",children:(0,u.jsx)(i,{eventType:8721,impressionsFramework:t,index:n,module:e,oneBarModulesKey:null,referringSource:ep.I.STRUCTURED_GUIDE})},`OneBarModule-${e.id||""}`))})]})}function eE({imageUrls:e,label:t,url:n,viewParameter:i,viewType:l}){(0,a.useEffect)(()=>{(0,r.A)("SeasonsQuizReEntry","/app/www/inclusiveProduct/OneBar/SeasonsQuizReEntry.tsx")},[]);let s=(0,c.A)(),d=(0,m.Zp)(),p=M(),{logContextEvent:h}=(0,v.o)(),g="lg"===p,_=(g?784:412)-48,f=s.bt("Your results", "Your results", "seasonsQuizReEntry.title", undefined, true),y=g?s.bt("View results", "View results", "seasonsQuizReEntry.button", undefined, true):s.bt("View", "View", "seasonsQuizReEntry.small.button", undefined, true);return(0,A.A)(()=>{h({event_type:120,component:14048,element:18406,view_type:l,view_parameter:i})}),(0,u.jsxs)(o.az,{dangerouslySetInlineStyle:{__style:{flexBasis:"100%"}},"data-test-id":"seasons-quiz-re-entry",height:72,marginTop:6,position:"relative",rounding:400,width:_,children:[(0,u.jsx)(o._V,{alt:t,naturalHeight:72,naturalWidth:_,src:e[+!!g]}),(0,u.jsxs)(o.az,{dangerouslySetInlineStyle:{__style:{top:"50%",transform:"translateY(-50%)"}},direction:"row",display:"flex",justifyContent:"between",left:!0,paddingX:4,position:"absolute",right:!0,children:[(0,u.jsxs)(o.so,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[(0,u.jsx)(o.KJ,{size:"200",children:f}),(0,u.jsx)(o._Y,{size:"500",children:t})]}),(0,u.jsx)(o.$n,{color:"light",onClick:()=>{h({event_type:101,component:14048,element:18406,view_type:l,view_parameter:i}),d(n)},size:"lg",text:y,type:"button"})]})]})}var eT=n(963390);function eC(e){let t=e.find(e=>e.isSelected);return t?.id}function ez(e){let t=e.find(e=>e.isSelected);return t?.action?.feedUrl||""}function eF({filterOptions:e=[],hasProductFiltersApplied:t=!1,icon:n,label:i,onTap:l,showProductFilters:s=!1}){(0,a.useEffect)(()=>{(0,r.A)("FilterContent","/app/www/search/FilterContent.tsx")},[]);let d=(0,c.A)(),h=(0,m.Zp)(),{scope:g}=(0,Q.u)(),_=(0,ea._n)(g),[f,y]=(0,a.useState)(!1),[x,v]=(0,a.useState)(ez(e)),[b,A]=(0,a.useState)(eC(e)),[w,S]=(0,a.useState)(0);(0,a.useEffect)(()=>{f&&(A(eC(e)),v(ez(e)),S(e.findIndex(e=>e.isSelected)))},[f,e]);let j=!(e[0]&&e[0].isSelected),k=e.map(e=>({checked:e.id===b,label:e.display?.displayText||"",string_value:e.action?.feedUrl})),I=e.findIndex(e=>e.isSelected),P=(0,u.jsx)(p,{icon:n||0,label:i,onTap:()=>{l(),s||y(!f)},showIndicator:t||j}),E=(0,u.jsxs)(a.Fragment,{children:[P,f&&(0,u.jsx)(o.Wd,{children:(0,u.jsx)(o.az,{"data-test-id":"content-type-filter",marginBottom:6,marginTop:6,width:"100%",children:(0,u.jsx)(O.Ay,{accessibilityModalLabel:d.bt("Filter by content type", "Filter by content type", "contentTypeFilts.modalWindow.filterModal", undefined, true),footer:(0,u.jsx)(o.az,{"data-test-id":"content-type-filter-button",marginBottom:7,children:(0,u.jsx)(o.so,{alignItems:"center",justifyContent:"center",children:(0,u.jsx)(o.$n,{accessibilityLabel:d.bt("Click to view results", "Click to view results", "contentTypeFilters.filterbutton.viewFilterResults", undefined, true),color:"primary",disabled:I===w,onClick:function(){y(!1),h(x)},size:"lg",text:d.bt("Apply", "Apply", "contentTypeFilters.filterbutton.viewResultsButton", undefined, true)})})}),heading:d.bt("Filters", "Filters", "contentTypeFilters.filterbutton.heading", undefined, true),mobileAccessibilityCloseIconLabel:d.bt("Close", "Close", "contentTypeFilts.modalWindow.modalCloseIcon", undefined, true),onDismiss:()=>y(!1),children:(0,u.jsx)(o.az,{maxHeight:"75vh",overflow:"scrollY",paddingX:4,paddingY:2,children:(0,u.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{lineHeight:"1.2"}},"data-test-id":"single-filter-option",marginBottom:12,children:(0,u.jsx)(eT.A,{filterOptions:k,handleFilterChange:t=>{v(k[t].string_value||""),A(e[t].id),S(t)},viewParameter:_,viewType:2})})})})})})]});return s?P:E}let eR=(void 0!==i||(i=n(845217)).hash&&"fd593a87dd2d5748ec9df656820367a3"!==i.hash&&console.error("The definition of 'OneBarModule_oneBarModules' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function eO({enteredQuery:e,guideModuleId:t,index:n,isSelected:i,label:r,moduleType:a,referringSource:l,requestParams:o,scope:s,searchQuery:d,selectedOneBarModules:c,url:u}){let p=(0,eA.A)();if(u)return u;switch(a){case 14:case 3:case 15:case 9:var m,g,_;let f;if(p||!d||!r)return"";return function(e){let t=(0,h.A)();if(![...W.Y,"filters"].some(e=>e in t))return e;let[,n]=e.split("?"),i=(0,h.A)(n);return[...W.Y,"filter_location","filters"].forEach(e=>{e in t&&!(e in i)&&(i[e]=t[e])}),(0,eb.A)(e,i)}(t?(m=l||ep.I.VANILLA_GUIDE,g=!!i,f=c?.split(",")||[],(0,ev.A)({query:d,rs:m,scope:s,guideAdded:g?void 0:{term:r,index:n},requestParams:o,selectedOneBarModules:g?f.filter(e=>e!==ey(t)&&!ex(e)).concat(`${ef}${t}`).join(","):f.filter(e=>!ex(e)).concat(ey(t)).join(","),enteredQuery:g?"":e})):(_=l||ep.I.VANILLA_GUIDE,(0,ev.A)({query:d,rs:_,scope:s,guideAdded:{term:r,index:n},requestParams:o})));default:return""}}let eL=(e,t,n)=>{let{length:i=0}=n||{};return void 0===n||0===i?"":e&&!t&&i>1&&n[1]?n[1]:i>2?n:n[0]||""};function eM({eventType:e=101,hasProductFiltersApplied:t,hrefOverride:n,impressionsFramework:i,index:s,module:d,oneBarModulesKey:c,onDismissPopoverModule:m,onFilterButtonClick:g,overriddenModuleType:f,referringSource:y,setLatestSelectedGuideX:x,showMWebProductFilters:b=!1,variant:A,viewParameter:w,viewType:S}){let j,k,I;(0,a.useEffect)(()=>{(0,r.A)("OneBarModule","/app/common/react/components/OneBar/OneBarModule.tsx")},[]);let P=(0,_.A)(),{isAuth:R}=P,O=R?P.country:"",{checkExperiment:L}=(0,D.A)(),{isAuthenticated:M}=(0,e_._8)(),B=(0,em.C)(),N=M?"":L("unauth_dweb_refinement_lever").group,K="enabled_login"===N||"enabled_signup"===N,{logContextEvent:U}=(0,v.o)(),{query:$,scope:H,selectedOneBarModules:V,viewParameter:W,viewType:q}=(0,Q.u)(),G=(0,X.A)({query:$}),Y=S??q,J=w??W,ei=(0,l.useFragment)(eR,c),{cachedProductFilterOneBarModules:er}=(0,z.x)(),{display:es,action:ed,moduleType:ec,trackingParams:eu,auxData:ep}=ei||d,ef=ei?.entityId?ei.entityId:d.id,ev=ep?.moduleId||void 0,eb=f||ec,{altText:eA,backgroundColorHex:ew,displayText:eS,icon:ej,imageMediumUrl:ek,imageUrls:eT,isSelected:eC,selectedBackgroundColorHex:ez}=es||{},{contents:eB,feedUrl:eD="",filter:eN,filters:eK,filterKeys:eU,requestParams:e$,searchQuery:eH="",title:eV}=ed||{},eW={journey_depth:e$?.journeyDepth,source_module_id:e$?.sourceModuleId},eq=L("web_search_sticky_guides_iterated_entered_query").anyEnabled,[eG,eY]=(0,a.useState)(eC),eJ=(0,a.useRef)(null);(0,a.useEffect)(()=>{let e=(V??"").split(",").filter(e=>!ex(e));eY(e.includes(ey(ev))||eC);let t=e.length;if(0===t)x?.(0);else if(eJ.current&&e[t-1]===ey(ev)){let{x:e,width:t}=eJ.current.getBoundingClientRect();x?.(e+.5*t)}},[V,ev,x,eC]);let eQ=eT?.[0]??void 0,eX=("US"===O||L("hundred_percent_product_load_i8n",{dangerouslySkipActivation:!0}).anyEnabled)&&H===ea.cO.PINS_BUYABLE&&"number"==typeof ec&&new Set([3,7,15]).has(ec)?ea.cO.PINS:H,eZ=eO({index:s,isSelected:eG,label:eS,moduleType:ec,referringSource:y,requestParams:eW,scope:eX,searchQuery:eH,selectedOneBarModules:V,url:eD}),e0=eO({enteredQuery:eq?eH:void 0,guideModuleId:ev,index:s,isSelected:eG,label:eS,moduleType:ec,referringSource:y,requestParams:eW,scope:eX,searchQuery:$,selectedOneBarModules:V,url:eD}),{isDarkMode:e1}=(0,T.D2)(),e2=(0,F.qJ)(),e6=eL(e1,e2,ew),e4=eL(e1,e2,ez),e5=function(e){let{request_params:t}=(0,h.A)()||{};if(!t)return!1;let n=JSON.parse(t)[122]||"";return!!e&&e===n}(eS)??!!eC,e3={grid_index:s,label:eS,onebar_module_type:eb,has_variant_image_thumbnail:!!ek,module_id:ev,selected:e5,...G},e8=[7].includes(ec)?14048:14047,e9=(0,eg.bi)({componentType:e8,contextLogData:e3,clientTrackingParams:eu,impressionsFramework:i,impressionType:"OneBar",loggingId:ef,slotIndex:s,viewParameter:J,viewType:Y});function e7(){U({aux_data:e3,component:e8,event_type:e,view_parameter:J,view_type:Y}),U({event_type:14887,component:e8,aux_data:e3,clientTrackingParams:eu,view_parameter:J,view_type:Y})}function te(){return!!B&&!!e2&&!!K&&(B.showDesktopSignupModal({signupFlow:{type:"enabled_login"===N?"login":"signup"},attributionLabel:"click_refinement_onebar_module",container:"closeup",reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",isWashBlocking:!0,isModalNonDismissible:!0}),!0)}if(-1===ec)return(0,u.jsx)(C,{});switch(ec){case 0:j=e2?(0,u.jsx)(p,{icon:ej||0,label:eS,onTap:()=>{e7(),g?.()},showIndicator:t}):(0,u.jsx)(eF,{filterOptions:eK,hasProductFiltersApplied:t,icon:ej||0,label:eS,onTap:()=>{e7(),g?.()},showProductFilters:b});break;case 7:j=(0,u.jsx)(eh,{backgroundColor:e6,contents:eB,icon:ej||0,impressionsFramework:i,index:s,isSelected:eC,label:eS||"",moduleType:ec,OneBarModule:eM,onTap:e7},`SearchStructuredGuide-${ef||""}`);break;case 11:case 22:j=(0,u.jsx)(eh,{backgroundColor:e6,contents:eB,icon:ej||0,image:eQ??"",impressionsFramework:i,index:s,isSelected:(k=11===ec?"body_type_range":22===ec?["fmc_palette_season_id","fmc_palette_category_id"]:"",I=(0,h.A)().filters||"",Array.isArray(k)?k.some(e=>I.includes(e)):!!k&&I.includes(k)),label:function({contents:e,label:t}){let{filters:n}=(0,h.A)();if(!n||!Array.isArray(e))return t??"";for(let i of e)if(i.action?.contents&&Array.isArray(i.action.contents)){let e=i.action.contents.find(e=>e.action?.filterKeys?.includes(n));if(e)return e.display?.displayText??t??""}else if(i.action?.filterKeys?.includes(n))return i.display?.displayText??t??"";return t??""}({contents:eB,label:eS}),moduleType:ec,OneBarModule:eM,onTap:e7,title:eV,variant:A},`SearchStructuredGuide-${ef||""}`);break;case 23:case 25:case 14:j=(0,u.jsx)(eI,{altText:eA,contextLogData:e3,imageUrl:eQ,label:eS,moduleType:ec,onDismissPopoverModule:m,onTap:e7,selectedBackgroundColorArray:ez??[],title:eU?.[0]??"",viewParameter:J},`InclusiveFilterOption-${ef||""}`);break;case 26:case 28:j=(0,u.jsx)(eP,{contents:eB,impressionsFramework:i,moduleType:ec,OneBarModule:eM},`PalettesFilters-${ef||""}`);break;case 27:j=(0,u.jsx)(eE,{imageUrls:eT,label:eS,url:eD});break;case 12:j=(0,u.jsx)(eo,{backgroundColor:e6,filters:eK,icon:ej||0,index:s,isSelected:!!eC,label:eS||"",onTap:e7},`SearchStructuredGuide-${ef||""}`);break;case 17:{let{productFilterType:e}=eN||{};if(1===e&&R){let e=er.find(e=>e.action?.filter?.productFilterType===1);e?.action?.filter&&(j=(0,u.jsx)(el,{backgroundColor:e6,filter:e.action.filter,icon:ej||0,label:eS||"",moduleId:e.auxData?.moduleId||"",onTap:e7,query:e.auxData?.query||""}))}else if(0===e&&R){let e=er.find(e=>e.action?.filter?.productFilterType===0);e?.action?.filter&&(j=(0,u.jsx)(et,{backgroundColor:e6,filter:e.action.filter,icon:ej||0,imageUrls:eT||[],label:eS||"",moduleId:e.auxData?.moduleId||"",onTap:e7,query:e.auxData?.query||""}))}else if(3===e&&R){let e=er.find(e=>e.action?.filter?.productFilterType===3);e?.action?.filter&&(j=(0,u.jsx)(Z,{backgroundColor:e6,filter:e.action.filter,icon:ej||0,imageUrls:eT||[],label:eS||"",moduleId:e.auxData?.moduleId||"",onTap:e7,query:e.auxData?.query||""}))}else if(6===e&&R){let e=er.find(e=>e.action?.filter?.productFilterType===6);e?.action?.filter&&(j=(0,u.jsx)(ee,{backgroundColor:e6,filter:e.action.filter,icon:ej||0,imageUrls:eT||[],label:eS||"",moduleId:e.auxData?.moduleId||"",onTap:e7,query:e.auxData?.query||""}))}else if(new Set([7,8,9]).has(e)&&R){let e=er.find(e=>e.action?.filter?.productFilterType===7);e?.action?.filter&&(j=(0,u.jsx)(en,{backgroundColor:e6,filter:e.action.filter,icon:ej||0,label:eS||"",moduleId:e.auxData?.moduleId||"",onTap:e7,query:e.auxData?.query||""}))}break}case 13:j=(0,u.jsx)(E,{backgroundColor:e6,href:eZ||"",icon:ej||0,isSelected:!!eC,label:eS,moduleType:ec,onBeforeNavigate:te,onTap:e7},`OneBarModule-${ef||""}`);break;case 20:j=(0,u.jsx)(E,{backgroundColor:e6,href:e5?n??eZ:eZ||"",icon:ej||0,image:ek,isSelected:e5,label:eS,moduleType:ec,onBeforeNavigate:te,onTap:e7},`OneBarModule-${ef||""}`);break;case 21:j=(0,u.jsx)(E,{backgroundColor:e6,href:eZ||"",icon:ej||0,image:ek,isSelected:eC,label:eS,moduleType:ec,onBeforeNavigate:te,onTap:e7},`OneBarModule-${ef||""}`);break;default:j=(0,u.jsx)(E,{backgroundColor:e6,href:eZ||"",icon:ej||0,image:ek,isSelected:!!eG,label:eS,moduleType:ec,onBeforeNavigate:te,onTap:()=>{eG?U({event_type:15821,component:e8,aux_data:e3,clientTrackingParams:eu,view_parameter:J,view_type:Y}):e7()},selectedBackgroundColor:e4,stickGuideHref:e0},`OneBarModule-${ef||""}`)}let tt=(0,u.jsx)(o.az,{ref:eJ,children:j});return i?(0,u.jsx)(o.az,{ref:e9,children:tt}):tt}},836664(e,t,n){n.d(t,{Q:()=>A,x:()=>b});var i=n(859471),r=n(393807),a=n(702949),l=n(224723),o=n(106301),s=n(392026),d=n(149562),c=n(156508),u=n(427403),p=n(319491),h=n(987628),m=n(33658),g=n(62963),_=n(307424),f=n(562615);let y=(e,t,n)=>{let i=t?.find(({action:e})=>e?.filter?.product_filter_type===n);if(!i)return;let r=(0,g.A)(_.A,!0)(i),a=e.findIndex(({action:e})=>e?.filter?.productFilterType===n);e[a]?e[a]=r:e.push(r)},x=(e,t,n,i)=>{let r=i.find(({action:t})=>"number"==typeof t?.filter?.productFilterType&&e.has(t.filter.productFilterType));if(r?.action?.filter){let e=r.action.filter.filterOptions;r.action.filter.appliedFilterOptions="string"==typeof t?e?.filter(e=>e?.[n]&&t.split(",").includes(String(e[n]))).map(e=>({...e,selected:!0})):[]}},{Provider:v,get:b}=(0,h.A)("OneBarProductFilters");function A({children:e}){let[t,n]=(0,i.useState)([]),[h,g]=(0,i.useState)(null),_=function(){let{scope:e}=(0,o.u)();return[l.cO.BOARDS,l.cO.PINS_BUYABLE,l.cO.PINS_VIDEO,l.cO.USERS].includes(e)}(),b=(0,u.A)(),A=(0,d.A)(),w=(0,r.A)(),S=(0,a.A)(),j=(0,c.A)(),k=(0,i.useCallback)(({oneBarModules:e,baseCacheKey:i})=>{let r=e?.filter(({module_type:e})=>17===e||0===e);if(!r||r?.length===0||!i)return;let a=i!==h,l=a?[]:t;(a||!_)&&y(l,r,4),(a||!b)&&y(l,r,1),(a||!A)&&y(l,r,0),(a||!w)&&y(l,r,3),(a||!S)&&y(l,r,6),(a||!j)&&[7,8,9].forEach(e=>{y(l,r,e)}),(0,m.Ay)(l,t)||(n(l),g(i))},[t,w,S,_,A,j,b,h]),I=(0,s.A)(),{priceMax:P,priceMin:E,scope:T,brands:C,onSale:z,colors:F,domains:R}=(0,o.u)();(0,i.useEffect)(()=>{if(!I||0===t.length)return;let e=(0,p.A)(t);if(T!==l.cO.PINS){let t=(0,l.Ef)(T),n=e.find(({moduleType:e})=>0===e);n?.action?.filter&&(n.action.filter.appliedFilterOptions=[...n.action.filter.filterOptions||[]].filter(Boolean).map(e=>{let{searchType:n}=e;return{searchType:n,selected:n===t}}))}if("string"==typeof P||"string"==typeof E){let t=e.find(({action:e})=>e?.filter?.productFilterType===1);t?.action?.filter&&(t.action.filter.appliedFilterOptions=[t.action.filter.filterOptions?.[0]?{...t.action.filter.filterOptions[0],numericValue:Number(E)}:null,t.action.filter.filterOptions?.[1]?{...t.action.filter.filterOptions[1],numericValue:Number(P)}:null].filter(Boolean))}x(new Set([3]),C,"stringValue",e),x(new Set([6]),F,"stringValue",e),x(new Set([0]),R,"stringValue",e),x(new Set([7,8,9]),z,"numericValue",e),(0,m.Ay)(e,t)||n(e)},[t,I,P,E,T,C,F,R,z]);let O=(0,i.useMemo)(()=>({cachedProductFilterOneBarModules:t,cacheOneBarModules:k}),[t,k]);return(0,f.jsx)(v,{value:O,children:e})}},317908(e,t,n){n.d(t,{A:()=>r,d:()=>i});let i="search_filters_drawer",r=e=>{switch(e){case 1:return"shopping-bag";case 3:return"filter-horizontal";case 6:return"person";case 8:return"pin-angled";default:return}}},127413(e,t,n){n.d(t,{A:()=>a});var i=n(570068);let r=`pulsing {
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
}`,a={css:(0,i.m5)([r]),animation:"pulsing 2s infinite"}},794559(e,t,n){n.d(t,{A:()=>y});var i=n(61163),r=n(859471),a=n(19821),l=n(675609),o=n(586733),s=n(348681),d=n(989457),c=n(693154),u=n(538329),p=n(542975),h=n(998377),m=n(198729),g=n(562615);function _({accessibilityLabel:e,component:t,cropSource:n,fadeBottomEdge:i,filterOptions:l,filterType:s,handleFilterChange:p,maxContentHeight:_,paddingX:f,showVerifiedMerchants:y,uiType:x,viewParameter:v,viewType:b}){let A=(0,u.A)(),{logContextEvent:w}=(0,o.o)(),S=(0,c.A)(),j=S.isAuth?S.avatar_color_index:void 0,k=e=>{let i=l[e];w({aux_data:{commerce_data:JSON.stringify({filter_value:i.string_value??i.numeric_value??i.search_type,select:!i.checked,source:(0,m.A)({cropSource:n,viewType:b})}),filter_type:s},component:t,event_type:101,view_parameter:v,view_type:b}),p(e)},[I,P]=(0,r.useState)(!1),E=(0,r.useRef)(null),T=(0,r.useCallback)(()=>{if(!i||!E.current)return;let{scrollTop:e,scrollHeight:t,clientHeight:n}=E.current;P(t-e-n<10)},[i]);return(0,r.useEffect)(()=>{i&&T()}),(0,g.jsxs)(a.az,{maxHeight:_||void 0,position:"relative",children:[(0,g.jsxs)(a.az,{ref:E,maxHeight:_||void 0,onScroll:T,overflow:"auto",paddingX:f,children:["check-circles"===x&&l.map(({label:e,image_url:t,is_verified_merchant:n,checked:i},r)=>(0,g.jsx)(a.Rp,{onTap:()=>k(r),children:(0,g.jsxs)(a.az,{alignItems:"center","data-test-id":"multi-select-option",direction:"row",display:"flex",marginBottom:3,children:[(0,g.jsx)(a.az,{marginEnd:3,children:(0,g.jsx)(d.eu,{color:j,name:e||"",size:"sm",src:t})}),(0,g.jsxs)(a.so,{alignItems:"center",direction:"row",flex:"grow",children:[(0,g.jsx)(a.KJ,{lineClamp:1,overflow:"breakAll",children:e}),y&&n&&(0,g.jsx)(a.az,{marginStart:1,children:(0,g.jsx)(h.A,{isVerifiedMerchant:!0,size:"xs"})})]}),(0,g.jsx)(a.az,{"data-test-id":i?"option-selected":void 0,margin:-2,marginBottom:-3,marginTop:-3,children:(0,g.jsx)(a.K0,{accessibilityLabel:A.bt("Domain filter option", "Domain Filter Option", "UnifiedFilter.MultiSelectFilter.domainFilterOptionAccessibilityLabel", undefined, true),icon:i?"circle-check":"circle",iconColor:"default",onClick:()=>k(r),size:"lg"})})]})},e)),"check-boxes"===x&&(0,g.jsx)(a.LB,{legend:e||"",legendDisplay:"hidden",children:l.map(({label:e,image_url:t,is_verified_merchant:n,checked:i},r)=>(0,g.jsxs)(a.az,{alignItems:"center","data-test-id":"multi-select-option",direction:"row",display:"flex",marginBottom:3,children:[(0,g.jsx)(a.az,{marginEnd:3,children:t?.startsWith("color_")?(0,g.jsx)(a.az,{borderColor:"decorative",borderWidth:"sm",dangerouslySetInlineStyle:{__style:{backgroundColor:t.split("_")[1]}},height:20,rounding:"circle",width:20}):(0,g.jsx)(d.eu,{color:j,name:e||"",size:"sm",src:t})}),(0,g.jsxs)(a.so,{alignItems:"center",direction:"row",flex:"grow",children:[(0,g.jsx)(a.JU,{htmlFor:`multi-select-filter--${s}-${e}`,children:(0,g.jsx)(a.KJ,{inline:!0,lineClamp:1,overflow:"breakAll",children:e})}),y&&n&&(0,g.jsx)(a.az,{marginStart:1,children:(0,g.jsx)(h.A,{isVerifiedMerchant:!0,size:"xs"})})]}),(0,g.jsx)(a.az,{"data-test-id":i?"option-selected":void 0,margin:1,children:(0,g.jsx)(a.Sc,{checked:i,id:`multi-select-filter--${s}-${e}`,onChange:()=>k(r)})})]},e))})]}),i&&(0,g.jsx)(a.az,{bottom:!0,dangerouslySetInlineStyle:{__style:{background:"linear-gradient(0deg, var(--sema-color-background-default, #fff) 0%, transparent 100%)",pointerEvents:"none",transition:"opacity 0.1s",opacity:+!I}},"data-test-id":"multi-select-filter-fade-bottom-edge",height:30,position:"absolute",width:"100%"})]})}function f({children:e,filterOptions:t,filterType:n,title:i,viewLogData:s,viewParameter:d,viewType:c}){let{logContextEvent:h}=(0,o.o)(),m=(0,u.A)(),_=(0,l.A)(),[f,y]=(0,r.useState)(!0),x=_?14325:13469,v=i||m.bt("Sellers", "Sellers", "UnifiedFilter.MultiSelectFilter.sellersHeaderText", undefined, true);return(0,g.jsxs)(r.Fragment,{children:[(0,g.jsx)(a.az,{marginBottom:2,children:(0,g.jsxs)(a.so,{alignItems:"center",justifyContent:"between",children:[(0,g.jsx)(a._Y,{accessibilityLevel:3,size:"300",children:v}),(0,g.jsx)(a.az,{flex:"none",children:(0,g.jsx)(a.K0,{accessibilityLabel:f?(0,p.$)(m.bt("Collapse {{ filterName }} filter section", "Collapse {{ filterName }} filter section", "multiSelectFilter.iconAccessibilityLabel.collapse", undefined, true),{filterName:v}):(0,p.$)(m.bt("Expand {{ filterName }} filter section", "Expand {{ filterName }} filter section", "multiSelectFilter.iconAccessibilityLabel.expand", undefined, true),{filterName:v}),icon:f?"chevron-up":"chevron-down",iconColor:"default",onClick:()=>{y(!f),h({aux_data:{commerce_data:JSON.stringify({filter:f?"collapsed":"expanded"}),filter_type:n},component:x,element:_?13522:11547,event_type:101,view_parameter:d,view_type:c}),f||h(s)},size:"sm"})})]})}),f?e:(0,g.jsx)(a.az,{width:"80%",children:(0,g.jsx)(a.KJ,{color:"subtle",size:"200",children:function(e=[],t){let n=e?.filter(e=>e.checked)??[],i=n.length;return 0===i?t.bt("All", "All", "UnifiedFilter.MultiSelectFilter.allDomainsSelectedText", undefined, true):`(${i}) ${n.map(e=>e.label).join(", ")}`}(t,m)})})]})}function y({accessibilityLabel:e,cropSource:t,fadeBottomEdge:n,filterOptions:a,filterType:d,handleFilterChange:c,isCollapsible:u,maxContentHeight:p,paddingX:h,showVerifiedMerchants:y,title:x,uiType:v,viewParameter:b,viewType:A}){(0,r.useEffect)(()=>{(0,i.A)("MultiSelectFilter","/app/common/react/components/UnifiedFilters/Filter/MultiSelectFilter.tsx")},[]);let{logContextEvent:w}=(0,o.o)(),S=(0,l.A)()?14325:13469,j={aux_data:{commerce_data:JSON.stringify({source:(0,m.A)({cropSource:t,viewType:A})}),filter_type:d},component:S,event_type:13,view_parameter:b,view_type:A},k=(0,g.jsx)(_,{accessibilityLabel:e,component:S,cropSource:t,fadeBottomEdge:n,filterOptions:a,filterType:d,handleFilterChange:e=>{let n=a[e];w({aux_data:{commerce_data:JSON.stringify({filter_value:n.string_value??n.numeric_value??n.search_type,select:!n.checked,source:(0,m.A)({cropSource:t,viewType:A})}),filter_type:d},component:S,event_type:101,view_parameter:b,view_type:A}),c(e)},maxContentHeight:p,paddingX:h,showVerifiedMerchants:y,uiType:v,viewParameter:b,viewType:A});return(0,g.jsx)(s.A,{log:j,children:u?(0,g.jsx)(f,{filterOptions:a,filterType:d,title:x,viewLogData:j,viewParameter:b,viewType:A,children:k}):k})}},625007(e,t,n){n.d(t,{A:()=>f});var i=n(61163),r=n(859471),a=n(19821),l=n(675609),o=n(586733),s=n(772050),d=n(538329),c=n(131321),u=n(168079),p=n(752450),h=n(198729),m=n(562615);function g({children:e,currencyCode:t,defaultMaxPrice:n,defaultMinPrice:i,filterType:u,logViewEvent:p,maxPrice:h,minPrice:g,title:_,viewParameter:f,viewType:y}){let{logContextEvent:x}=(0,o.o)(),v=(0,d.A)(),b=(0,l.A)(),A=(0,c.A)(s.zA,t)?s.zA[t]:"",w=Math.ceil(n),S=Math.floor(i),[j,k]=(0,r.useState)(!0),I=b?14324:13468;return(0,m.jsxs)(r.Fragment,{children:[(0,m.jsxs)(a.so,{alignItems:"center",justifyContent:"between",children:[(0,m.jsx)(a.az,{"data-test-id":"price-filter-label",children:(0,m.jsx)(a._Y,{accessibilityLevel:3,size:"300",children:_||v.bt("Price", "Price", "Header of product price filter", undefined, true)})}),(0,m.jsx)(a.az,{flex:"none",children:(0,m.jsx)(a.K0,{accessibilityLabel:v.bt("Price filter", "Price filter", "accessibility label for the icon button to open or close price filter", undefined, true),icon:j?"chevron-up":"chevron-down",iconColor:"default",onClick:()=>{k(!j),x({event_type:101,component:I,element:b?13522:11547,view_type:y,view_parameter:f,aux_data:{commerce_data:JSON.stringify({filter:j?"collapsed":"expanded"}),filter_type:u}}),j||p()},size:"sm"})})]}),j?e:(0,m.jsx)(a.KJ,{color:"subtle",size:"200",children:-1===h&&-1===g?v.bt("All", "All", "text indicates that no price filter is currently applied for filtering", undefined, true):-1===h?`${A}${g}  ${A}${w}+`:-1===g?`${A}${S}  ${A}${h}`:`${A}${g}  ${A}${h}`})]})}function _({cropSource:e,currencyCode:t,defaultMaxPrice:n,defaultMinPrice:i,handleMaxPriceChange:r,handleMinPriceChange:l,instructions:o,maxPrice:s,minPrice:d,onRangeChange:c}){return(0,m.jsx)(a.az,{paddingY:4,children:(0,m.jsx)(p.A,{cropSource:e,currencyType:t,handlePriceChange:([e,t])=>{c?.(),e!==d&&l(e),t!==s&&r(t)},instructions:o||"",lowerBound:i,maxPrice:s,minPrice:d,upperBound:n})})}function f({cropSource:e,currencyCode:t,defaultMaxPrice:n,defaultMinPrice:a,filterType:s,handleMaxPriceChange:d,handleMinPriceChange:c,instructions:p,isCollapsible:f,maxPrice:y,minPrice:x,onRangeChange:v,title:b,viewParameter:A,viewType:w}){(0,r.useEffect)(()=>{(0,i.A)("PriceFilter","/app/common/react/components/UnifiedFilters/Filter/PriceFilter.tsx")},[]);let{logContextEvent:S}=(0,o.o)(),j=(0,l.A)(),k=()=>{S({event_type:13,component:j?14324:13468,view_type:w,view_parameter:A,aux_data:{commerce_data:JSON.stringify({source:(0,h.A)({cropSource:e,viewType:w})}),filter_type:s}})};return(0,u.A)(()=>{k()}),(0,m.jsx)(r.Fragment,{children:f?(0,m.jsx)(g,{currencyCode:t,defaultMaxPrice:n,defaultMinPrice:a,filterType:s,logViewEvent:k,maxPrice:y,minPrice:x,title:b,viewParameter:A,viewType:w,children:(0,m.jsx)(_,{cropSource:e,currencyCode:t,defaultMaxPrice:n,defaultMinPrice:a,handleMaxPriceChange:d,handleMinPriceChange:c,instructions:p,isCollapsible:!0,maxPrice:y,minPrice:x,onRangeChange:v})}):(0,m.jsx)(_,{cropSource:e,currencyCode:t,defaultMaxPrice:n,defaultMinPrice:a,handleMaxPriceChange:d,handleMinPriceChange:c,instructions:p,maxPrice:y,minPrice:x,onRangeChange:v})})}},963390(e,t,n){n.d(t,{A:()=>h});var i=n(61163),r=n(859471),a=n(19821),l=n(675609),o=n(586733),s=n(538329),d=n(542975),c=n(168079),u=n(198729),p=n(562615);function h({filterOptions:e,filterType:t,cropSource:n,handleFilterChange:h,title:m,viewParameter:g,viewType:_}){(0,r.useEffect)(()=>{(0,i.A)("SingleSelectFilter","/app/common/react/components/UnifiedFilters/Filter/SingleSelectFilter.tsx")},[]);let{logContextEvent:f}=(0,o.o)(),y=(0,s.A)(),x=(0,l.A)(),[v,b]=(0,r.useState)(!0),A=()=>{f({event_type:13,component:14326,view_type:_,view_parameter:g,aux_data:{commerce_data:JSON.stringify({source:(0,u.A)({cropSource:n,viewType:_})}),filter_type:t}})};return(0,c.A)(()=>{x&&A()}),(0,p.jsxs)(r.Fragment,{children:[m&&(0,p.jsx)(a.az,{marginBottom:2,children:(0,p.jsxs)(a.so,{alignItems:"center",justifyContent:"between",children:[(0,p.jsx)(a._Y,{accessibilityLevel:3,size:"300",children:m}),(0,p.jsx)(a.az,{flex:"none",children:(0,p.jsx)(a.K0,{accessibilityLabel:v?(0,d.$)(y.bt("Collapse {{ filterName }} filter section", "Collapse {{ filterName }} filter section", "singleSelectFilter.iconAccessibilityLabel.collapse", undefined, true),{filterName:m}):(0,d.$)(y.bt("Expand {{ filterName }} filter section", "Expand {{ filterName }} filter section", "singleSelectFilter.iconAccessibilityLabel.expand", undefined, true),{filterName:m}),icon:v?"chevron-up":"chevron-down",iconColor:"default",onClick:()=>{b(!v),x&&(f({event_type:101,component:14326,element:13522,view_type:_,view_parameter:g,aux_data:{commerce_data:JSON.stringify({filter:v?"collapsed":"expanded"}),filter_type:t}}),v||A())},size:"sm"})})]})}),v?(0,p.jsx)(a.z6,{id:"single_select_filter",legend:y.bt("Single select filter options list", "Single select filter options list", "SingleSelectFilter.a11y.RadioGroupLegend", undefined, true),legendDisplay:"hidden",children:(0,p.jsx)(a.az,{marginEnd:1,children:(0,p.jsx)(a.so,{direction:"column",gap:{row:0,column:5},children:e.map((i,r)=>(0,p.jsx)(a.Rp,{onTap:()=>{let a;i.checked&&1!==e.length||(a=e[r],f({event_type:101,component:14326,view_type:_,view_parameter:g,aux_data:{commerce_data:JSON.stringify({source:(0,u.A)({cropSource:n,viewType:_}),filter_value:a.string_value??a.numeric_value??a.search_type,select:!a.checked}),filter_type:t}}),h(r))},children:(0,p.jsx)(a.az,{"data-test-id":`single-select-radio-${r}`,children:(0,p.jsxs)(a.so,{alignItems:"center",direction:"row",children:[(0,p.jsx)(a.so,{alignItems:"center",direction:"row",flex:"grow",children:(0,p.jsx)(a.KJ,{weight:i.checked?"bold":void 0,children:i.label})}),(0,p.jsx)(a.z6.RadioButton,{checked:i.checked,id:i.label??"",onChange:()=>{},value:i.label??""})]})})},i.label))})})}):(0,p.jsx)(a.az,{width:"80%",children:(0,p.jsx)(a.KJ,{color:"subtle",size:"200",children:function(e=[],t){let n=e?.find(e=>e.checked);return n?n.label:t.bt("All", "All", "UnifiedFilter.SingleSelectFilter.allDomainsSelectedText", undefined, true)}(e,y)})})]})}},874929(e,t,n){n.d(t,{Kq:()=>w,bn:()=>S,N_:()=>j});var i=n(859471),r=n(739428),a=n(406218),l=n(253913);let o=(e,t,n)=>n&&(0,a.BP)(n,t)?r.c.MODIFIED:(0,a.TN)(t,e)||n&&(0,a.oA)(n,e)||(0,a.oA)(t,e)?r.c.CLEARED:r.c.APPLIED;function s(e,t){(0,a.i2)(t);let n=e.find(e=>e?.id===t.id),i=n?.rules,r=n?.filter_options?.find(e=>"selectedOptionId"in t&&e.id===t.selectedOptionId)?.rules||i;if(!r)return[e,[]];let l=[],o=[];return e.forEach(e=>{void 0!==e.product_filter_type&&r.includes(e.product_filter_type)?l.push(e):o.push(e)}),[l,o]}function d(e,t){switch(t.type){case"RESET_FILTERS":let[n,i]=t.payload,d=n,c=(0,l.A)(i)?(0,a.$M)(n):i;return Object.values(c).forEach(e=>{let[t]=s(d,e);d=t}),{models:n,availableFilterModels:d,appliedFilters:i,filters:c,isFetching:!1,pendingDeletedSelections:{},status:o(n,i,c)};case"CLEAR_FILTERS":let u=e.models,p=(0,a.Oj)(e.models);return Object.values(p).forEach(e=>{let[t]=s(u,e);u=t}),{...e,filters:p,availableFilterModels:u,pendingDeletedSelections:{},status:o(e.models,e.appliedFilters,p)};case"UPDATE_FILTER":let{payload:h}=t,[m,g]=s(e.models,h),_={...e.filters,[h.id]:h},f={...e.pendingDeletedSelections};return m.forEach(e=>{if(!e.id)return;let t=f[e.id];t&&(_[e.id]=t,delete f[e.id])}),g.forEach(e=>{if(!e.id)return;let t=_[e.id];t&&(f[e.id]=t,delete _[e.id])}),(0,a.i2)(h,e.models.find(e=>e.id===h.id))&&delete _[h.id],{...e,availableFilterModels:m,filters:_,pendingDeletedSelections:f,status:o(e.models,e.appliedFilters,_)};case"SUBMIT_FILTER":return{...e,pendingDeletedSelections:{},status:r.c.SUBMITTED};case"SUBMIT_FAILED":return{...e,status:r.c.FAILED};case"SUBMIT_COMPLETE":let{filters:y}=e;return{...e,appliedFilters:y,pendingDeletedSelections:{},status:o(e.models,y)};case"LOADING":return{...e,isFetching:!0};case"LOADING_COMPLETED_OR_FAILED":return{...e,isFetching:!1};default:return e}}var c=n(393807),u=n(702949),p=n(149562),h=n(156508),m=n(427403),g=n(33658);let _=new Set([1,0,3,6,7,8,9]),f=(e,t,n)=>{let i=t?.find(({product_filter_type:e})=>e===n);if(!i)return;let r=e.findIndex(({product_filter_type:e})=>e===n);e[r]?e[r]=i:e.push(i)},y=(e,t,n)=>{let i=t?.find(({product_filter_type:e})=>e===n);if(!i)return e;let r=e.findIndex(({product_filter_type:e})=>e===n);return e[r]?e[r]=i:e.push(i),e};var x=n(392026),v=n(987628),b=n(106301),A=n(562615);let{Provider:w,getMaybe:S}=(0,v.A)("UnifiedFiltersContext"),j=({applyInitFilters:e,children:t,filterModels:n,filters:l,isFetching:o,refreshFiltersData:s})=>{let{query:v}=(0,b.u)(),S=(0,x.A)(),{getCachedFilters:j,cacheUnifiedFilterModelsWithProductFilters:k}=function(){let[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(null),a=(0,m.A)(),l=(0,p.A)(),o=(0,c.A)(),s=(0,u.A)(),d=(0,h.A)(),x=(0,i.useCallback)(({unifiedFilterModels:i,baseCacheKey:c})=>{let u=i?.filter(({product_filter_type:e})=>void 0!==e&&_.has(e));if(!u||u?.length===0||!c)return;let p=c!==n,h=p?[]:e;(p||!a)&&f(h,u,1),(p||!l)&&f(h,u,0),(p||!o)&&f(h,u,3),(p||!s)&&f(h,u,6),(p||!d)&&[7,8,9].forEach(e=>{f(h,u,e)}),(0,g.Ay)(h,e)||(t(h),r(c))},[e,o,s,l,d,a,n]);return{getCachedFilters:(0,i.useCallback)(t=>{if(!t||t?.length===0)return[];let n=[...t];return a&&(n=y(n,e,1)),l&&(n=y(n,e,0)),o&&(n=y(n,e,3)),s&&(n=y(n,e,6)),d&&[7,8,9].forEach(t=>{n=y(n,e,t)}),n},[e,o,s,l,d,a]),cacheUnifiedFilterModelsWithProductFilters:x}}(),I=e?.(n)||l||{},[P,E]=(0,i.useReducer)(d,{models:n,availableFilterModels:n,appliedFilters:I,filters:I,pendingDeletedSelections:{},isFetching:o,status:(0,a.TN)(I,n)||(0,a.oA)(I,n)?r.c.CLEARED:r.c.APPLIED}),[T,C]=(0,i.useState)(n);(0,i.useEffect)(()=>{o&&E({type:"LOADING"})},[o]),(0,i.useEffect)(()=>{if(o||P.isFetching&&0===n.length)return;if(!(0,a.Sp)(T,n))return void E({type:"LOADING_COMPLETED_OR_FAILED"});let t=n;S||(t=j([...n]),k({unifiedFilterModels:[...n],baseCacheKey:v})),E({type:"RESET_FILTERS",payload:[t,e?.(t)||{}]}),C(n)},[e,n,T,o,P.isFetching,j,k,v,S]);let z=(0,i.useMemo)(()=>({filterState:P,dispatch:E,refreshFiltersData:s}),[P,s]);return(0,A.jsx)(w,{value:z,children:t})}},739428(e,t,n){n.d(t,{c:()=>i});let i={APPLIED:"applied",CLEARED:"cleared",MODIFIED:"modified",SUBMITTED:"submitted",FAILED:"failed"}},607126(e,t,n){n.d(t,{A:()=>c});var i=n(836664),r=n(874929),a=n(406218),l=n(62963),o=n(5302),s=n(307079),d=n(106301);function c(){let{brands:e,colors:t,domains:n,onSale:c,priceMax:u,priceMin:p}=(0,d.u)(),h=(0,r.bn)(),{cachedProductFilterOneBarModules:m}=(0,i.x)(),g=Number((0,s.A)().filter_location);if(1===g){let{filterState:e}=h||{};return e?(0,a.Iz)(e.appliedFilters,e.models):null}if(0===g){let i=(0,l.A)(o.A,!0)(m.map(e=>e.action?.filter).filter(Boolean));return(0,a.th)({brandsParam:e,colorsParam:t,domainsParam:n,onSaleParam:c,priceMaxParam:u,priceMinParam:p,unifiedFilterModels:i})}return null}},393807(e,t,n){n.d(t,{A:()=>a});var i=n(979638),r=n(803489);function a(){return!!(0,r.A)((0,i.zy)().search).brands}},702949(e,t,n){n.d(t,{A:()=>l});var i=n(979638),r=n(601185),a=n(803489);function l(){let{checkExperiment:e}=(0,r.A)(),t=(0,i.zy)(),{colors:n}=(0,a.A)(t.search);return!!n&&!!e("shopping_onebar_color_filter",{dangerouslySkipActivation:!0}).anyEnabled}},392026(e,t,n){n.d(t,{A:()=>r});var i=n(601185);function r(){let{checkExperiment:e}=(0,i.A)();return e("dweb_search_shopping_filter_sds_dep_removal_v2",{dangerouslySkipActivation:!0}).anyEnabled}},149562(e,t,n){n.d(t,{A:()=>a});var i=n(979638),r=n(803489);function a(){return!!(0,r.A)((0,i.zy)().search).domains}},427403(e,t,n){n.d(t,{A:()=>a});var i=n(979638),r=n(803489);function a(){let e=(0,i.zy)(),{price_max:t,price_min:n}=(0,r.A)(e.search);return!!(n??t)}},675609(e,t,n){n.d(t,{A:()=>a});var i=n(693154),r=n(601185);function a(){let e=(0,i.A)(),{checkExperiment:t}=(0,r.A)();if(!e.isAuth)return!1;let{anyEnabled:n}=t("web_search_unified_content_filters_international");return"US"===e.country||n}},406218(e,t,n){n.d(t,{$M:()=>h,A:()=>b,BP:()=>s,CX:()=>S,Iz:()=>x,Oj:()=>m,ST:()=>_,Sp:()=>d,TN:()=>u,Vr:()=>w,b_:()=>y,ch:()=>v,i2:()=>c,oA:()=>p,th:()=>f,vd:()=>A});var i=n(33658),r=n(224723);let a=e=>e.map(({filter_component_type:e,filter_options:t,title:n})=>({filter_component_type:e,filter_options:t?.map(({id:e,label:t,count:n,image_url:i,is_verified:r,numeric_value:a,string_value:l,unit:o})=>({id:e,label:t,count:n,image_url:i,is_verified:r,numeric_value:a,string_value:l,unit:o})),title:n})),l=(e,t)=>{if(!e&&!t)return!1;if(!e||!t)return!0;if("single"===e.type&&"single"===t.type)return e.selectedOptionId!==t.selectedOptionId;if("multi"===e.type&&"multi"===t.type)return!(0,i.Ay)(e.selectedOptionIds,t.selectedOptionIds);if("range"===e.type&&"range"===t.type)return e.min!==t.min||e.max!==t.max;throw Error("Filter type specific return must be specified")},o=e=>!e||!Object.keys(e).length,s=(e,t)=>{if(o(e)&&o(t))return!1;if(o(e)||o(t)||e&&t&&Object.entries(e).length!==Object.entries(t).length)return!0;for(let n in e)if(l(e[n],t?.[n]))return!0;return!1},d=(e,t)=>!(0,i.Ay)(a(e),a(t)),c=(e,t)=>{if("single"===e.type)return!e.selectedOptionId;if("multi"===e.type)return 0===e.selectedOptionIds.size;if("range"===e.type)return!!t?.filter_options&&e.min===t.filter_options[0]?.numeric_value&&e.max===t.filter_options[2]?.numeric_value;throw Error("Filter type specific return must be specified")},u=(e,t)=>{try{for(let n in e){let i=e[n],r=t.find(e=>e.id===i?.id);if(i&&!c(i,r))return!1}return!0}catch(e){return!0}},p=(e,t)=>{if(!t||0===t.length)return!1;let n=t[0];if(!n)return!1;switch(n?.filter_component_type){case 2:let i=n.filter_options?.[0];for(let t in e){let n=e[t];if(!n)break;if("selectedOptionId"in n&&n.selectedOptionId===i?.id)return!0}return!1;case 1:for(let t in e){let i=e[t];if(!i)break;if(i.id===n.id&&"selectedOptionIds"in i&&0===i.selectedOptionIds.size)return!0}return!1;default:return!1}},h=e=>e.map(e=>{switch(e.filter_component_type){case 2:let t=e.filter_options?.find(e=>e.is_selected)?.id;return t?{selectedOptionId:t,id:e.id,type:"single"}:null;case 1:let n=e.filter_options?.filter(e=>e.is_selected).map(({id:e})=>e);return n&&n.length>0?{selectedOptionIds:new Set(n),id:e.id,type:"multi"}:null;default:return null}}).reduce((e,t)=>t?{...e,[t.id]:t}:e,{}),m=e=>{if(!e||0===e.length)return{};let t=e[0];switch(t?.filter_component_type){case 2:let n=t.filter_options?.[0]?.id;return n&&"string"==typeof t.id?{[t.id]:{selectedOptionId:n,lastChangedLocation:1,id:t.id,type:"single"}}:{};case 1:return"string"==typeof t.id?{[t.id]:{selectedOptionIds:new Set,lastChangedLocation:1,id:t.id,type:"multi"}}:{};default:return{}}},g=e=>e.map(e=>{let{filter_id:t,filter_options:n,product_filter_type:i}=e,r=t;return"number"==typeof i&&(r+=`_${i}`),n.length>0&&(r+=":",n.forEach((e,t)=>{let{filter_option_id:i,numeric_value:a,string_value:l,unit:o}=e;r+=`${i}`,"number"==typeof a&&(r+=`_${a}`),"string"==typeof l&&(r+=`_${l}`),"string"==typeof o&&(r+=`_${o}`),t<n.length-1&&(r+=",")})),r}).join("|"),_=({brands:e,colors:t,domains:n,onSale:i,priceMax:a,priceMin:l,scope:o,unifiedFilterModels:s})=>{let d={};for(let{filter_options:c,id:u,product_filter_type:p}of s)if(u&&c?.length){if(1===p&&("number"==typeof l||"number"==typeof a)){let[e,t,n,i]=c,r=l??n?.numeric_value??e?.numeric_value??0,o=a??i?.numeric_value??t?.numeric_value??100;d[u]={min:r,max:o,id:u,type:"range",lastChangedLocation:1}}if(0===p&&n&&n.length>0){let e=n.map(e=>{let t=c.find(({string_value:t})=>t===e);return t?t.id:null}).filter(Boolean);e.length>0&&(d[u]={id:u,lastChangedLocation:1,selectedOptionIds:new Set(e),type:"multi"})}if(3===p&&e&&e.length>0){let t=e.map(e=>{let t=c.find(({string_value:t})=>t===e);return t?t.id:null}).filter(Boolean);t.length>0&&(d[u]={id:u,lastChangedLocation:1,selectedOptionIds:new Set(t),type:"multi"})}if(6===p&&t&&t.length>0){let e=t.map(e=>{let t=c.find(({string_value:t})=>t===e);return t?t.id:null}).filter(Boolean);e.length>0&&(d[u]={id:u,lastChangedLocation:1,selectedOptionIds:new Set(e),type:"multi"})}if(4===p&&o){let e=(0,r.Ef)(o),t=c.find(({search_type:t})=>t===e);t?.id&&(d[u]={id:u,lastChangedLocation:1,selectedOptionId:t.id,type:"single"})}if("number"==typeof p&&new Set([7,8,9]).has(p)&&i){let e=c[0]?.id;e&&(d[u]={id:u,lastChangedLocation:1,selectedOptionId:e,type:"single"})}}return d},f=({brandsParam:e,colorsParam:t,domainsParam:n,onSaleParam:i,priceMaxParam:r,priceMinParam:a,unifiedFilterModels:l})=>{let o=[],s=Number(a),d=Number(r),c=Number.isNaN(s)?void 0:s,u=Number.isNaN(d)?void 0:d,p=n?.split(",").filter(Boolean)??[],h=e?.split(",").filter(Boolean)??[],m=t?.split(",").filter(Boolean)??[];for(let{filter_options:e,id:t,product_filter_type:n}of l)if(t&&e?.length){if(1===n&&"number"==typeof c&&"number"==typeof u){let i={filter_id:t,filter_options:e.slice(0,2).filter(e=>void 0!==e.id).map((e,t)=>({filter_option_id:e.id,numeric_value:0===t?c:u,unit:e.unit||"USD"})),location:0,product_filter_type:n};o.push(i)}if(0===n&&p&&p.length>0){let i=p.map(t=>{let n=e.find(e=>e.string_value===t);return n?n.id:null}).filter(Boolean);if(i.length>0){let e={filter_id:t,filter_options:i.map(e=>({filter_option_id:e,string_value:e})),location:0,product_filter_type:n};o.push(e)}}if(3===n&&h&&h.length>0){let i=h.map(t=>{let n=e.find(e=>e.string_value===t);return n?n.id:null}).filter(Boolean);if(i.length>0){let e={filter_id:t,filter_options:i.map(e=>({filter_option_id:e,string_value:e})),location:0,product_filter_type:n};o.push(e)}}if(6===n&&m&&m.length>0){let i=m.map(t=>{let n=e.find(e=>e.string_value?.toLowerCase()===t.toLowerCase());return n?n.id:null}).filter(Boolean);if(i.length>0){let e={filter_id:t,filter_options:i.map(e=>({filter_option_id:e,string_value:e})),location:0,product_filter_type:n};o.push(e)}}if(7===n&&i){let r=e[0]?.id;if(r){let e={filter_id:t,filter_options:[{filter_option_id:r,numeric_value:Number(i)}],location:0,product_filter_type:n};o.push(e)}}}return 0===o.length?null:g(o)},y=({filterMap:e,isInWebHundredPercentProductLoadExp:t,models:n})=>{let i=null,a=null,l=!1,o=null,s=null,d=null,c=null,u=null;for(let p in e){let h=e[p];if(h){let e=n.find(e=>e.id===h.id);if(e)if("range"===h.type&&1===e.product_filter_type)d=h.min,s=h.max;else if("multi"===h.type&&0===e.product_filter_type){let t=e.filter_options?.filter(e=>h.selectedOptionIds.has(e.id||""));o=t?.map(e=>e.string_value).filter(Boolean)}else if("multi"===h.type&&3===e.product_filter_type){let t=e.filter_options?.filter(e=>h.selectedOptionIds.has(e.id||""));i=t?.map(e=>e.string_value).filter(Boolean)}else if("multi"===h.type&&6===e.product_filter_type){let t=e.filter_options?.filter(e=>h.selectedOptionIds.has(e.id||""));a=t?.map(e=>e.string_value).filter(Boolean)}else if("single"===h.type&&4===e.product_filter_type){let n=e.filter_options?.find(e=>h.selectedOptionId===e.id),i=n&&void 0!==n.search_type?(0,r.UQ)(n.search_type):r.cO.PINS;u=i,t&&(u=i===r.cO.PINS_BUYABLE?r.cO.PINS:i,l=i===r.cO.PINS_BUYABLE)}else"single"===h.type&&7===e.product_filter_type&&(c=e.filter_options?.[0]?.numeric_value)}}let p=n.find(e=>4===e.product_filter_type),h=p?.filter_options?.find(e=>e.is_selected);return null===u&&"number"==typeof h?.search_type&&(u=(0,r.UQ)(h.search_type)),{brands:i,colors:a,commerce_only:l,domains:o,max:s,min:d,on_sale:c,scope:u}},x=(e,t)=>{let n=[];return(Object.entries(e).forEach(([e,i])=>{let r=t.find(e=>e.id===i.id);if(!r||4===r.product_filter_type||"number"!=typeof r.product_filter_type||!r.filter_options)return;let a=[];if("range"===i.type){let[e,t]=r.filter_options;if(!e?.id||!t?.id)return;a=[{filter_option_id:e.id,numeric_value:i.min,unit:e.unit},{filter_option_id:t.id,numeric_value:i.max,unit:t.unit}]}if("single"===i.type){let e=r.filter_options.find(e=>e.id===i.selectedOptionId);if(!e?.id)return;a=[{filter_option_id:e.id,numeric_value:e.numeric_value,string_value:e.string_value}]}if("multi"===i.type){let e=r.filter_options.filter(e=>e.id&&i.selectedOptionIds.has(e.id));if(0===e.length)return;a=e.filter(e=>void 0!==e.id).map(e=>({filter_option_id:e.id,numeric_value:e.numeric_value,string_value:e.string_value}))}n.push({filter_id:e,filter_options:a,location:i.lastChangedLocation,product_filter_type:r.product_filter_type})}),n&&0!==n.length)?g(n):null},v=e=>{let t,{filter:n,title:i}=e.action||{},{title:r}=n||{},a=i||r;if(!n||!a)return null;let{filterComponentType:l,productFilterType:o,id:s}=n,d=(n.filterOptions||[]).filter(Boolean);if(void 0===l||void 0===d||0===d.length||null==o||null==s)return null;let c=(t=d.map(e=>{if(!e)return null;let{auxData:t,id:n,imageUrl:i,isVerified:r,label:a,numericValue:l,searchType:o,stringValue:s,unit:d,rules:c}=e;return null===i||null===i||null===l||null===r||null===s||null===d?null:{id:n||"",label:a||"",count:0,image_url:i,is_verified:r,numeric_value:l,...c?{rules:[...c]}:{},..."number"==typeof o?{search_type:o}:{},string_value:s,unit:d,..."string"==typeof t?.moduleId?{aux_data:{module_id:t.moduleId}}:{}}}).filter(Boolean)).length>0?t:null;return c?{filter_component_type:l,filter_options:[...c],id:s||"",product_filter_type:o,title:a}:null};function b(e,t,n){let[i,r,a,l]=n,{numeric_value:o=0}=l??i??{},{numeric_value:s=o+50}=a??r??{},{unit:d="USD"}=i??{},c=e.filters[t]?.type==="range"?e.filters[t]:{min:o,max:s,id:t,type:"range",lastChangedLocation:1};return{defaultMax:s,defaultMin:o,unit:d,range:c}}function A(e){return"multi"!==e.type?e:{...e,selectedOptionIds:new Set}}function w(e,t){let n=[];return Object.entries(t).forEach(([t,i])=>{let r=e.find(e=>e?.id===t);if(r){let e=r.aux_data?.module_id;e&&n.push(e);let t=("multi"===i.type?Array.from(i.selectedOptionIds):"single"===i.type?[i.selectedOptionId]:[]).map(e=>{let t=r.filter_options?.find(t=>t.id===e);return t?.aux_data?.module_id||""}).filter(Boolean);n.push(...t)}}),n}function S(e,t){let n=[];return Object.keys(t).forEach(t=>{let i=e.find(e=>e?.id===t);if(i){let e=i.product_filter_type;e&&n.push(e)}}),n}},103892(e,t,n){n.d(t,{A:()=>a});var i=n(601185),r=n(971289);function a(){let e=(0,r.M)(),{checkExperiment:t}=(0,i.A)();return{inAffiliateDisclosureEnabled:e?t("mweb_closeup_affiliate_discloseures").anyEnabled:t("web_closeup_affiliate_discloseures").anyEnabled}}},30920(e,t,n){n.d(t,{A:()=>d}),n(825193);var i,r=n(535273),a=n(601185),l=n(844255),o=n(971289);let s=(void 0!==i||(i=n(317465)).hash&&"bdd5959de70eab688d40f2293a76638c"!==i.hash&&console.error("The definition of 'useHyperlinkExperiment_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function d(e,t=!1){let n=(0,r.A)(s,e),i=!!(n?.descriptionLinks&&n.descriptionLinks.length>0),c=t||!i,{isAuthenticated:u}=(0,l._8)(),p=(0,o.qJ)(),h=(0,o.M)(),{checkExperiment:m}=(0,a.A)(),g=u&&p&&m("dweb_closeup_hyperlink_keywords",{dangerouslySkipActivation:c}).anyEnabled,_=u&&h&&m("mweb_closeup_hyperlink_keywords_auth",{dangerouslySkipActivation:c}).anyEnabled;return{hyperlinkKeywordsEnabled:g||_}}},548253(e,t,n){n.d(t,{A:()=>l});var i=n(601185),r=n(844255),a=n(971289);let l=({showProductDetailPage:e,skipActivation:t})=>{let{checkExperiment:n}=(0,i.A)(),l=(0,a.qJ)(),{isAuthenticated:o}=(0,r._8)();return!!o&&!!l&&(e?n("closeup_dweb_blended_ui",{dangerouslySkipActivation:t}).anyEnabled:n("closeup_dweb_blended_ui_organic",{dangerouslySkipActivation:t}).anyEnabled)}},659182(e,t,n){n.d(t,{A:()=>l});var i=n(601185),r=n(844255),a=n(971289);function l(){let{isAuthenticated:e}=(0,r._8)(),t=(0,a.M)(),{checkExperiment:n}=(0,i.A)();return{mWebCloseupRedesignEnabled:e&&t&&n("mweb_closeup_redesign").anyEnabled,mWebCloseupRedesignExpGroup:n("mweb_closeup_redesign").group}}},265599(e,t,n){n.d(t,{S:()=>r,g:()=>a});var i=n(890922);let r=[i.I.GUIDED_SEARCH_LANDING,i.I.GUIDED_SEARCH_ENTRY],a=296},714364(e,t,n){n.d(t,{B:()=>u,M:()=>c});var i=n(61163),r=n(859471),a=n(265599),l=n(987628),o=n(106301),s=n(562615);let{Provider:d,getMaybe:c}=(0,l.A)("SearchFilterPanelVisual");function u({children:e}){(0,r.useEffect)(()=>{(0,i.A)("SearchFilterPanelVisualContext","/app/common/react/components/discover/AuthSearchPage/SearchFilterPanelVisualContext.tsx")},[]);let{rs:t}=(0,o.u)(),n=a.S.includes(t??""),[l,c]=(0,r.useState)(!1),[u,p]=(0,r.useState)(!1),[h,m]=(0,r.useState)(n);(0,r.useEffect)(()=>{m(n)},[n,m]);let g=(0,r.useMemo)(()=>({isFiltersDrawerOpen:l,setFiltersDrawerOpen:c,isFiltersDrawerFocused:u,setFiltersDrawerFocused:p,isSidebarPresent:h,setSidebarPresent:m}),[l,u,h]);return(0,s.jsx)(d,{value:g,children:e})}},188148(e,t,n){function i({maxPrice:e,minPrice:t,price:n}){return e&&t?`${t}-${e}`:n}n.d(t,{A:()=>i})},331694(e,t,n){n.d(t,{A:()=>o,M:()=>s});var i=n(61163),r=n(859471),a=n(19821),l=n(562615);function o({children:e,fullWidth:t,overrideDataTestId:n}){return(0,r.useEffect)(()=>{(0,i.A)("EnablePointerEvents","/app/packages/PinRep/EnablePointerEvents.tsx")},[]),(0,l.jsx)(a.az,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",width:t?"100%":void 0}},"data-test-id":n||"pointer-events-wrapper",children:e})}function s({children:e,enabled:t}){return(0,r.useEffect)(()=>{(0,i.A)("EnablePointerEvents","/app/packages/PinRep/EnablePointerEvents.tsx")},[]),t?(0,l.jsx)(o,{children:e}):e}},881541(e,t,n){n.d(t,{A:()=>b});var i,r,a=n(61163),l=n(859471);n(825193);var o=n(19821),s=n(586733),d=n(284387),c=n(535273),u=n(17881),p=n(377917),h=n(78284),m=n(704633),g=n(257361),_=n(971289),f=n(385800),y=n(562615);let x=(void 0!==i||(i=n(977110)).hash&&"d1542775568248acbce5a79453f4dffb"!==i.hash&&console.error("The definition of 'CSSCarouselModule_parentPin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),v=(void 0!==r||(r=n(599016)).hash&&"dee347ef77ae345e076b08494d4b664f"!==r.hash&&console.error("The definition of 'CSSCarouselModule_story' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r);function b({accessibilityLabelledBy:e,auxData:t,component:n,contentVisibleItemCountOverride:i,disableHeader:r,getProductTagAuxData:b,headerDisplayOptions:A,heading:w,itemRepSiblingNodeFactories:S,items:j,itemWidth:k,itemWidthHeightRatio:I,parentPinKey:P,renderItem:E,saveButtonOptions:T,showBorder:C,showMarkers:z=!1,showNavigationButtons:F=!0,storyKey:R,subtitle:O,surface:L,view:M=3,viewParameter:B,width:D}){(0,l.useEffect)(()=>{(0,a.A)("CSSCarouselModule","/app/packages/StructuredFeed/ModuleReps/CarouselModule/CSSCarouselModule.tsx")},[]);let{logContextEvent:N}=(0,s.o)(),K=(0,_.Ay)(),U=(0,_.bh)(K),$=(0,c.A)(x,P),H=(0,c.A)(v,R),V=H?.objects?[...H.objects]:[],W=V.map(e=>"Pin"===e.__typename?e.entityId:null),q=(0,l.useMemo)(()=>{let e=H?.storyType?{story_type:H.storyType}:void 0;return e&&t?{...t,...e}:e??t},[H?.storyType,t]),G=U?236:175,Y=k??G,J=H.displayOptions?.contentDisplay?.itemWidthHeightRatio??I??1,{web:Q,mobile:X}=H.displayOptions?.contentDisplay?.contentVisibleItemCount??{},Z=i??(U?Q:X),ee=!r&&(H?.storyTitle||w||O),{showModuleBorder:et,showExtraSmallSubtitle:en,headerMarginBottom:ei,isFixedWidthSlides:er,moduleBorderStyle:ea}=(0,m.A)({storyKey:H,styleOverrides:{showModuleBorder:C}}),el=!er&&!!Z&&!k,eo=el?"100%":Y,es=(0,l.useCallback)(({currentIndex:e,nextIndex:t})=>{if(void 0===e||e===t)return;let i=Number(W?.[e]);N({aux_data:q,event_type:108,component:n,view_type:M,view_parameter:B,event_data:{pinCarouselSlotEventData:{carouselSlotId:Number.isFinite(i)?i:void 0,carouselSlotIndex:e,toCarouselSlotIndex:t}}})},[q,n,W,N,M,B]),ed=(0,l.useCallback)(({item:e,index:t})=>{let i=()=>{let i;if(E)return E({item:e,index:t});if(t===V.length-1&&H.action?.text&&H.action?.url&&(i=H.action,i?.text&&i?.url&&h.$$.has(i?.location))){let t="Pin"===e.__typename&&e.images_236x?.url;return t&&(0,y.jsx)(u.A,{auxData:q,buttonText:H.action?.text,component:n,contentIds:H.contentIds??void 0,element:179,imageWidth:eo,previewImageSrc:t,storyId:H.storyId??"",storyType:H.storyType,url:H.action.url,view:M,viewParameter:B})}let r="Pin"===e.__typename?b?.(e):void 0;return(0,y.jsx)(p.A,{auxData:{...r,...q},boardKey:null,component:n,imageWidth:eo,isInDesktopCarousel:U,isInMobileCarousel:!U,item:null,itemWidthHeightRatio:J,parentPinKey:$,pinKey:"Pin"===e.__typename?e:null,productTagParentPinId:$?.entityId,relatedInterestKey:null,saveButtonOptions:T,slotIndex:t,storyKey:H,surface:L,view:M,viewParameter:B})},r=S?.[t];if(r){let e=i();return(0,y.jsx)(f.e,{children:t=>(0,y.jsx)(o.az,{position:"relative",children:(0,y.jsxs)(l.Fragment,{children:[e,r(t)]})})})}return i()},[V.length,n,b,U,S,eo,J,q,$,E,T,H,L,M,B]);return(0,y.jsxs)(o.az,{borderColor:et?"decorative":void 0,borderWidth:et?ea:void 0,dangerouslySetInlineStyle:{__style:{"--carousel-item-width":`${Y}px`,"--story-item-width-height-ratio":`${1/J}`,...el&&{"--carousel-item-count":`${Z}`}}},direction:"column",display:"flex",rounding:et?400:void 0,width:D??"100%",children:[ee&&(0,y.jsx)(o.az,{marginStart:6,marginTop:4,children:(0,y.jsx)(g.A,{auxData:q,headerDisplayOptions:A,marginBottomOverride:ei,showExtraSmallSubtitle:en,storyKey:H,view:M,viewParameter:B})}),(0,y.jsx)(o.az,{position:"relative",children:(0,y.jsx)(d.A,{accessibilityLabelledBy:e,items:j??V,mode:"multi",onIndexChange:es,renderItem:ed,showNavigationButtons:F,showScrollMarkers:z})})]})}},684258(e,t,n){n.d(t,{A:()=>r,c:()=>i});let i=e=>"phone"===e?55:80;function r(e,t){return t?0:i(e)}},851105(e,t,n){n.d(t,{A:()=>h});var i=n(61163),r=n(859471),a=n(19821),l=n(659182),o=n(743372),s=n(475999),d=n(538329),c=n(562615);let u=(0,r.lazy)(()=>n.e("3067").then(n.bind(n,877974))),p={sm:12,md:16,lg:20,xl:24};function h({isVerifiedMerchant:e,size:t,showText:n,showVerifiedIdentity:h,inspirationalBadges:m,inspirationalBadgesColor:g}){(0,r.useEffect)(()=>{(0,i.A)("VerifiedBadge","/app/packages/VerifiedBadge.tsx")},[]);let _=(0,d.A)(),[f,y]=(0,r.useState)(!1),{dangerousInlineStyle:x,iconColor:v}=(0,s.A)(!!e),b=(0,o.A)(),{mWebCloseupRedesignEnabled:A}=(0,l.A)(),w=A&&e?"info":v,S=A?{__style:{color:w}}:x;return(0,c.jsxs)(r.Fragment,{children:[(0,c.jsx)(a.Rp,{onTap:()=>{b({component:13534,element:11717,event_type:102}),y(!0)},rounding:"circle",children:(0,c.jsxs)(a.az,{alignItems:"center",dangerouslySetInlineStyle:S,"data-test-id":"verified-badge-icon","data-unadopted-gestalt":"Badge",display:"flex",children:[(0,c.jsx)(a.In,{accessibilityLabel:e?_.bt("Merchant verification badge icon", "Merchant verification badge icon", "merchantVerification.badge.icon", undefined, true):_.bt("Badge icon", "Badge icon", "merchantVerification.badge.icon", undefined, true),color:w,icon:A?"circle-check-fill":"workflow-status-ok",inline:!0,size:p[t]}),n&&!h&&(0,c.jsx)(a.az,{marginStart:2,children:(0,c.jsx)(a.KJ,{color:"default",inline:!0,weight:"bold",children:(0,c.jsx)(a.az,{dangerouslySetInlineStyle:S,children:_.bt("Verified merchant", "Verified merchant", "creator.header.verifiedMerchant", undefined, true)})})})]})}),(e||n&&!h)&&f&&(0,c.jsx)(r.Suspense,{children:(0,c.jsx)(u,{inspirationalBadges:m,inspirationalBadgesColor:g,setShowModal:y,showModal:f})})]})}},854846(e,t,n){n.d(t,{J4:()=>l,Mw:()=>i,YH:()=>o,Yv:()=>s,nn:()=>r,sP:()=>a});let i={DOWNLOAD_TEMPLATE:"DOWNLOAD_TEMPLATE",UPLOAD_TEMPLATE:"UPLOAD_TEMPLATE",HISTORY:"HISTORY",BULK_ID_LIBRARY:"BULK_ID_LIBRARY",RESOURCES:"RESOURCES"},r={BILLING_HISTORY:"BILLING_HISTORY",BILLING_RECEIPT:"BILLING_RECEIPT",BILLING_FORMS:"BILLING_FORMS",ORDER_LINES:"ORDER_LINES",PROMOTIONS:"PROMOTIONS",TAX_DOCUMENTS:"TAX_DOCUMENTS",DOCUMENTS:"DOCUMENTS",PREPAID_SPEND_SUMMARY:"PREPAID_SPEND_SUMMARY",PREPAID_SPEND_BREAKDOWN:"PREPAID_SPEND_BREAKDOWN",SUMMARY:"SUMMARY"},a={CREATE:"CREATE",MANAGE:"MANAGE",VIEW_REPORT:"VIEW_REPORT",AB_TEST_CREATE:"AB_TEST_CREATE"},l={PINTEREST_TAG:"PINTEREST_TAG",PINTEREST_TAG_MANUAL_SETUP_FLOW:"PINTEREST_TAG_MANUAL_SETUP_FLOW",PINTEREST_TEST_EVENTS:"PINTEREST_TEST_EVENTS",PINTEREST_TAG_HEALTH:"PINTEREST_TAG_HEALTH",CONVERSION_HEALTH:"CONVERSION_HEALTH",CONVERSION_UPLOAD:"CONVERSION_UPLOAD",UPLOAD_HISTORY:"UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD:"PCA_UPLOAD",CONVERSIONS_API:"CONVERSIONS_API",CONVERSIONS_API_ACCESS_TOKEN:"CONVERSIONS_API_ACCESS_TOKEN",CONVERSIONS_API_PARTNER_SETUP_FLOW:"CONVERSIONS_API_PARTNER_SETUP_FLOW",CONVERSIONS_API_MANUAL_SETUP_FLOW:"CONVERSIONS_API_MANUAL_SETUP_FLOW",PINTEREST_EVENTS_OVERVIEW:"PINTEREST_EVENTS_OVERVIEW",CONVERSIONS:"CONVERSIONS",PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP:"PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP",PINTEREST_SETUP_API:"PINTEREST_SETUP_API",NOCODE_CONVERSIONS_API_SETUP_FLOW:"NOCODE_CONVERSIONS_API_SETUP_FLOW",PINTEREST_EVENTS_OVERVIEW_CAPI_TAB:"PINTEREST_EVENTS_OVERVIEW_CAPI_TAB",PINTEREST_EVENT_HISTORY_CAPI_TAB:"PINTEREST_EVENT_HISTORY_CAPI_TAB"},o={DESTINATION:"destination",EXPIRY:"expiry",SOURCE:"attributionsrc",SOURCE_EVENT_ID:"source_event_id",SOURCE_EVENT_TYPE:"source_event_type",PRIORITY:"priority",CLICK_PRIORITY:"2",VIEW_PRIORITY:"1",HOSTNAME:"hostname",CAMPAIGN_ID:"campaign_id",ADVERTISER_ID:"advertiser_id"},s={ATTRIBUTION_SOURCE_ID:"attributionsourceid",ATTRIBUTE_DESTINATION:"attributiondestination",ATTRIBUTE_ON:"attributeon"}},553255(e,t,n){n.d(t,{A:()=>a});var i=n(854846),r=n(81920);function a(e,t,n,a,l){let o=new URLSearchParams,s=t.reduce((e,t)=>{if(null!=t){let n=function(e){let t;try{t=decodeURIComponent(e)}catch(n){t=e}t.startsWith("http")?t.startsWith("http://")&&(t=t.replace("http://","https://")):t="https://"+t;try{return new URL(t).origin}catch(i){let n=t.match(/^(https?:\/\/[^\/]+)(\/|$)/);if(n&&n.length>1)return n[1];return e}}(t);return e.add(n)}return e},new Set);o.append(i.YH.SOURCE_EVENT_ID,e??"0"),o.append(i.YH.DESTINATION,JSON.stringify([...s])),o.append(i.YH.EXPIRY,n?"604800":"86400"),o.append(i.YH.PRIORITY,n?i.YH.CLICK_PRIORITY:i.YH.VIEW_PRIORITY),l&&o.append(i.YH.ADVERTISER_ID,l),a&&o.append(i.YH.CAMPAIGN_ID,a),o.append(i.YH.SOURCE_EVENT_TYPE,n?"click":"view");try{let{hostname:e}=new URL(window.location.href);"www.pinterest.com"!==e&&o.append(i.YH.HOSTNAME,e)}catch(e){(0,r.GV)("webapp.arapi.generateARASourceEventURL",{sampleRate:.1,tags:{status:"failed",href:window&&window.location&&window.location.href}})}return"https://www.pinterest.com/attribution_source/?"+o.toString()}},326550(e,t,n){function i(e){return[0,24,21,26].includes(e)}function r({articleType:e,id:t,title:n}){let i=n.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\'"]/g,"").trim().replace(/\s+/g,"-");return"today"===e?`/today/shop/${i}/${t}/`:`/discover/article/${i}/${t}/`}n.d(t,{I:()=>i,k:()=>r})},48373(e,t,n){n.d(t,{A:()=>E});var i=n(61163),r=n(859471),a=n(706114);let l=(e,t)=>{let n=e;for(;n;){if(t(n))return!0;n=n.parentElement}return!1};var o=n(249505);let s=[o.EV,o.R0].map(e=>`div[data-grid-item] [data-test-id="${e}"] img`).join(", ");var d=n(979638),c=n(19821),u=n(995273),p=n(693154),h=n(538329),m=n(542975),g=n(562615);function _({onDismiss:e,trackHardRefresh:t}){(0,r.useEffect)(()=>{(0,i.A)("AdBlockModal","/app/packages/avoidAdBlock/AdBlockModal.tsx")},[]);let n=(0,h.A)(),a=(0,d.Zp)(),l=(0,p.A)();return(0,g.jsx)(c.Wd,{zIndex:u.nH,children:(0,g.jsx)(c.mS,{accessibilityModalLabel:n.bt("Ad blocker modal", "Ad blocker modal", "adBlockModal.modal.accessibilityModalLabel", undefined, true),heading:n.bt("Ad blocker detected", "Ad Blocker detected", "adBlockModal.modal.header.heading", undefined, true),onDismiss:e,primaryAction:{accessibilityLabel:n.bt("Dismiss ad blocker modal", "Dismiss ad blocker modal", "adBlockModal.primaryAction.button.dismiss.accessibilityLabel", undefined, true),label:n.bt("OK", "Got it", "adBlockModal.primaryAction.button.dismiss", undefined, true),onClick:e},secondaryAction:{accessibilityLabel:n.bt("Refresh after deactivating ad blocker", "Refresh after deactivating ad blocker", "adBlockModal.primaryAction.button.dismiss.accessibilityLabel", undefined, true),label:n.bt("Refresh", "Refresh", "adBlockModal.secondaryAction.button.refresh", undefined, true),onClick:()=>{t(),a(0)}},type:"error",children:(0,g.jsxs)(c.so,{direction:"column",gap:6,children:[(0,g.jsx)(c.KJ,{inline:!0,children:(0,m.$w)({text:n.bt("Please <strong id=\"1\">disable your ad blocker</strong> to access more features and get the full Pinterest experience.", "Please <strong id=\"1\">disable your ad blocker</strong> to access more features and get the full experience of Pinterest.", "adBlockModal.modal.text.guidelines", undefined, true),jsxReplacements:{1:({innerHtmlStrings:e})=>(0,g.jsx)(c.KJ,{inline:!0,weight:"bold",children:e},1)}})}),(0,g.jsx)(c.KJ,{children:n.bt("Once you have disabled the ad blocker, please refresh the page.", "After you disable the ad blocker, please refresh the page.", "adBlockModal.modal.text.afterDisable", undefined, true)}),l.isAuth&&l.isEmployee&&(0,g.jsx)(c.KJ,{italic:!0,children:(0,m.$w)({text:n.bt("Pinterest employees: if you do not have an ad blocker enabled, please <a id=\"reportBugLink\">report a bug</a> because you should not see this modal.", "Pinterest Employees: If you do not have an ad blocker enabled, please <a id=\"reportBugLink\">report a bug</a> because you should not see this modal.", "adBlockModal.modal.text.employeeReportIssue", undefined, true),jsxReplacements:{reportBugLink:({innerHtmlStrings:e})=>(0,g.jsx)(c.N_,{display:"inline",externalLinkIcon:{size:"100"},href:"http://pinch/report-adblockmodal-bug",target:"blank",children:e})}})})]})})})}var f=n(601185),y=n(844255),x=n(998556),v=n(168079),b=n(81920);let A=()=>n.e("37387").then(n.bind(n,256317)),w=e=>{let{country:t,userAgent:{browserName:n}}=(0,y._8)();return(i,r)=>{(0,b.GV)(`adblockmodal.${i}`,{sampleRate:1,flushImmediate:"refreshed"===i,tags:{country:t,browserName:n,surface:e,...r}})}},S=()=>new Date().toISOString(),j=async e=>{let{adBlockAnalyticsRecordValidator:t}=await A();x.Ay.setItem(a.u2,{...x.Ay.getItem(a.u2)??t.cast({}),...e})},k=async e=>{let{adBlockModalDismissalRecordValidator:t}=await A();x.Ay.setItem(a.Il,{...x.Ay.getItem(a.Il)??t.cast({}),...e})},I=!1;function P({detected:e,surface:t,isDismissedRecently:n}){let i=w(t);return(0,v.A)(()=>{let t=x.Ay.getItem(a.u2);if(I||(i("broad_detection",{detected:e,hasSeenModal:!!t?.displayedAt,isDismissedRecently:n}),I=!0),!n)if(e){if(!t?.adblockDetectedAt){let e={adblockDetectedAt:S()};i("detected"),t?.displayedAt||(e={...e,displayedAt:S()},i("displayed")),j(e)}}else!t?.noAdBlockDetectedAt&&(j({noAdBlockDetectedAt:S()}),t?.adblockDetectedAt?(i("disabled"),t?.displayedAt&&i("disabled_after_displayed")):i("not_detected"))}),null}function E({surface:e}){(0,r.useEffect)(()=>{(0,i.A)("MaybeAdBlockModal","/app/packages/avoidAdBlock/MaybeAdBlockModal.tsx")},[]);let{isDismissedRecently:t,onDismiss:n}=(e=>{let t=w(e),[n,i]=(0,r.useState)("UNKNOWN");return(0,r.useEffect)(()=>{let e,t=x.Ay.getItem(a.Il),n=t?.dismissedAt;i(!!n&&((e=new Date).setDate(e.getDate()-30),new Date(n)>e))},[]),{isDismissedRecently:n,onDismiss:()=>{i(!0),k({dismissedAt:S()}),t("dismissed")}}})(e),d=w(e),{checkExperiment:c}=(0,f.A)(),u=(()=>{let[e,t]=(0,r.useState)("UNKNOWN");return(0,v.A)(()=>{setTimeout(()=>{t(Array.from(document.querySelectorAll(s)).some(e=>{let t;return(((t=e).checkVisibility?!t.checkVisibility({contentVisibilityAuto:!0,opacityProperty:!0,visibilityProperty:!0}):l(t,e=>{let t=window.getComputedStyle(e);return"none"===t.display||"hidden"===t.visibility}))||l(t,e=>.5>=parseFloat(window.getComputedStyle(e).opacity)))&&null===e.closest(`[data-test-id="${o.Dt}"]`)&&null===e.closest('body>div[hidden]:has(> template[data-msg^="Switched to client rendering because the server rendering errored"])')}))},0)}),e})();return"UNKNOWN"===t||"UNKNOWN"===u?null:(0,g.jsxs)(r.Fragment,{children:[u&&!t&&c("feature_gate_ads_adblockmodal").anyEnabled&&(0,g.jsx)(_,{onDismiss:n,trackHardRefresh:()=>{d("refreshed")}}),(0,g.jsx)(P,{detected:u,isDismissedRecently:t,surface:e})]})}},227835(e,t,n){n.d(t,{A:()=>r});var i=n(753771);function r(e){return e===i.A.BoardPrivacy.SECRET}},718947(e,t,n){n.d(t,{H8:()=>l,Ss:()=>i,UP:()=>s,gm:()=>o,lT:()=>d,lh:()=>r,nr:()=>a});let i=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),r=e=>e?e.includes("Chrome")?i.CHROME:e.includes("Safari")?i.SAFARI:e.includes("Firefox")?i.FIREFOX:e.includes("Opera")?i.OPERA:e.includes("IE")?i.IE:e.includes("Edge")?i.EDGE:i.OTHER:i.OTHER;function a(e){return r(e)===i.SAFARI}function l(e){return r(e)===i.CHROME}function o(e){return r(e)===i.FIREFOX}function s(e){return r(e)===i.EDGE}function d(e){return r(e)===i.IE}},729617(e,t,n){n.d(t,{A:()=>s});var i=n(859471);function r(e){return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}function a(){return window.innerWidth}function l(){return window.innerHeight}function o(){return null}function s(){let e=(0,i.useSyncExternalStore)(r,l,o),t=(0,i.useSyncExternalStore)(r,a,o);return null!==e&&null!==t?{height:e,width:t}:null}},431802(e,t,n){n.d(t,{E2:()=>i,I0:()=>s,KU:()=>p,N9:()=>a,Rv:()=>l,X9:()=>r,Yl:()=>u,hh:()=>d,t8:()=>o});let i=e=>{let t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t&&[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]},r=(e,t,n)=>.2126*(e/255)**2.2+.7151*(t/255)**2.2+.0721*(n/255)**2.2,a=e=>{let t=e.replace("#","");return(299*parseInt(t.substr(0,2),16)+587*parseInt(t.substr(2,2),16)+114*parseInt(t.substr(4,2),16))/1e3<155},l=({hexColor:e,saturationMultiplier:t,brightnessMultiplier:n,minSaturationClamp:r,mixVal:a=1,minBrightnessClamp:l=0})=>{let o=i(e);null===o&&(o=[229,229,224]);let s=((e,t,n)=>{let i=Math.max(e/=255,t/=255,n/=255),r=i-Math.min(e,t,n),a=0;return 0!==r&&(a=(i===e?(t-n)/r+6*(t<n):i===t?(n-e)/r+2:(e-t)/r+4)*60)<0&&(a+=360),{h:a,s:0===i?0:r/i,b:i}})(...o),d=(e,t,n)=>Math.max(t,Math.min(e,n));s.s=d(s.s*(1+t),r,1),s.b=d(s.b*(1+n),l,1);let c=(({h:e,s:t,b:n})=>{let i=n*t,r=i*(1-Math.abs(e/60%2-1)),a=n-i,l=0,o=0,s=0;return e<60?(l=i,o=r):e<120?(l=r,o=i):e<180?(o=i,s=r):e<240?(o=r,s=i):e<300?(l=r,s=i):(l=i,s=r),{r:Math.round((l+a)*255),g:Math.round((o+a)*255),b:Math.round((s+a)*255)}})({...s}),u=e=>({r:Math.round(c.r*a+e*(1-a)),g:Math.round(c.g*a+e*(1-a)),b:Math.round(c.b*a+e*(1-a))}),p=u(0),h=u(255);return[[p.r,p.g,p.b],[h.r,h.g,h.b]]};function o(e){if("string"!=typeof e)return{r:0,g:0,b:0,a:0};let t=e.trim(),n="rgba"===t.slice(0,4).toLowerCase(),i=!n&&"rgb"===t.slice(0,3).toLowerCase();if(!n&&!i)return{r:0,g:0,b:0,a:0};let r=t.indexOf("("),a=t.indexOf(")",r);if(-1===r||-1===a)return{r:0,g:0,b:0,a:0};let l=t.slice(r+1,a).split(",").map(e=>e.trim());if(n&&4!==l.length||i&&3!==l.length)return{r:0,g:0,b:0,a:0};let[o,s,d,c]=l,u=Number(o),p=Number(s),h=Number(d),m=n?Number(c):1;return[u,p,h].some(e=>Number.isNaN(e))||n&&Number.isNaN(m)?{r:0,g:0,b:0,a:0}:{r:u,g:p,b:h,a:m}}function s(e,t){let n=e.a+t.a*(1-e.a);return 0===n?{r:0,g:0,b:0,a:0}:{r:Math.round((e.r*e.a+t.r*t.a*(1-e.a))/n),g:Math.round((e.g*e.a+t.g*t.a*(1-e.a))/n),b:Math.round((e.b*e.a+t.b*t.a*(1-e.a))/n),a:n}}let d=e=>`rgba(${e.r}, ${e.g}, ${e.b}, ${e.a})`,c=e=>e.toString(16).padStart(2,"0"),u=(e,t)=>{let n=i(e);if(!n)throw Error(`Invalid hex color: ${e} for lightenHexByPercentage`);let[r,a,l]=n,o=Math.max(0,Math.min(100,t))/100,s=Math.round(r+(255-r)*o),d=Math.round(a+(255-a)*o),u=Math.round(l+(255-l)*o);return`#${c(s)}${c(d)}${c(u)}`},p=(e,t)=>d(((e,t)=>{let n=i(e);if(!n)throw Error(`Invalid hex color: ${e} for hexToRgba`);let[r,a,l]=n;return{r,g:a,b:l,a:Math.max(0,Math.min(1,t))}})(e,t))},78020(e,t,n){function i(e){let t=Math.round(e/1e3),n=Math.floor(t/60),i=t%60;return n+":"+(i<10?"0":"")+i}n.d(t,{A:()=>i})},63661(e,t,n){function i(e,t,n){let i,r,a,l=!!n?.leading,o=n?.trailing!==!1,s=n?.maxWait?Math.max(n.maxWait,t):void 0,d=null,c=0;function u(t){let n=i;return i=void 0,c=t,n&&(r=e(...n)),r}function p(e){let n=e-(a??0),i=e-c;return void 0===a||n>=t||n<0||void 0!==s&&i>=s}function h(){let e=Date.now();if(p(e))(d=null,o&&i)?u(e):i=void 0;else{let n,i,r;d=setTimeout(h,(n=e-(a??0),i=e-c,r=t-n,void 0!==s?Math.min(r,s-i):r))}}function m(){null!==d&&clearTimeout(d),d=setTimeout(h,t)}function g(...e){let n=Date.now(),o=p(n);if(i=e,a=n,o){if(null===d)return c=n,d=setTimeout(h,t),l?u(n):r;else if(void 0!==s)return m(),u(n)}return null===d&&m(),r}return g.flush=function(){if(null!==d&&i){let e=Date.now();return clearTimeout(d),d=null,u(e)}return r},g.cancel=function(){null!==d&&clearTimeout(d),c=0,i=void 0,a=void 0,d=null},g}n.d(t,{A:()=>i})},948641(e,t,n){n.d(t,{A:()=>l});var i=n(162036),r=n(538329),a=n(168620);let l=()=>{let{loginForMore:e,viewer:t,limitedLoginModalSubheader:n}=(0,a.x)(),l=(0,r.A)();return"AUTH"===t.type?null:t=>{e?.setVisible(!0),n?.setText(t?.loginModalHeader||(0,i.Bw)(l))}}},290204(e,t,n){n.d(t,{A:()=>y});var i=n(859471),r=n(979638),a=n(706114),l=n(401691),o=n(143539),s=n(115795),d=n(768583),c=n(601185),u=n(998556),p=n(484409),h=n(476084),m=n(420818),g=n(803489),_=n(971289),f=n(741383);function y({pageUniqueKey:e,containerPage:t}){let n=(0,o.C)(),y=(0,_.qJ)(),x=(0,r.zy)(),{checkExperiment:v}=(0,c.A)(),{isPaid:b,isSocial:A,isDirect:w,isSEO:S}=(0,d.A)(),j=(0,f.ik)(),k=j?.data?.inviter,I=(0,p.V2)(),P=(0,u.y1)(),E=JSON.parse(I.getItem(l.$y)??"[]"),T=y&&v("dweb_navigational_on_land").anyEnabled,C=y&&"enabled_paid"===v("dweb_navigational_on_land").group,z=y&&"enabled_social"===v("dweb_navigational_on_land").group,F=y&&"enabled_seo_direct"===v("dweb_navigational_on_land").group,R=y&&(v("migration_upsell_manager_redux").anyEnabled||v("migration_upsell_manager_redux_dweb").anyEnabled||v("migration_upsell_manager_redux_dweb_global").anyEnabled),O=(0,h.A)(),L=y&&n&&!I.getItem(l.RR)&&E.length+1>=0&&!E.includes(e)&&A&&(0,s.mg)(x),M=y&&"31"===(0,g.A)(x?.search).utm_source&&(0,s.iK)(x)&&v("dweb_email_referred_board_page_upsell_experiment").anyEnabled;(0,i.useEffect)(()=>{if(R)O((0,m.op)(e,t));else if(n&&!I.getItem(l.RR)){let i=C&&b||z&&A||F&&(w||S)||M;(E.length+1>=4||i&&E.length+1>=0)&&!E.includes(e)?(n.showDesktopSignupModal({signupFlow:{type:"login"},attributionLabel:`navigation_${t}`,container:t,reason:"UPSELL_LOGIN_OR_SIGNUP",isWashBlocking:!!M}),I.setItem(l.RR,"true"),I.removeItem(l.$y),P.setItem(a.jB,0)):L||I.setItem(l.$y,JSON.stringify([...new Set([...E,e])]))}},[e,t,4,n,I,P,O,R,T,w,S,b,A,C,z,F,E,M,L,v]),(0,i.useEffect)(()=>{if(!L||!k)return;R&&O((0,m.cM)(k,t));let e=[];if(v("ce_dweb_unauth_splp_blocking_no_delay").anyEnabled)if(R)O((0,m.is)(t));else{let{showDesktopSignupModal:e}=n;e({signupFlow:{type:"signup"},attributionLabel:`delay_${t}`,container:t,reason:"UPSELL_LOGIN_OR_SIGNUP"}),I.setItem(l.RR,"true")}else if(v("ce_dweb_unauth_splp_blocking_3s").anyEnabled){let i=setTimeout(()=>{if(R)O((0,m.is)(t));else{let{showDesktopSignupModal:e}=n;e({signupFlow:{type:"signup"},attributionLabel:`delay_${t}`,container:t,reason:"UPSELL_LOGIN_OR_SIGNUP"}),I.setItem(l.RR,"true")}},3e3);e.push(i)}else if(v("ce_dweb_unauth_splp_blocking").anyEnabled){let i=setTimeout(()=>{if(R)O((0,m.is)(t));else{let{showDesktopSignupModal:e}=n;e({signupFlow:{type:"signup"},attributionLabel:`delay_${t}`,container:t,reason:"UPSELL_LOGIN_OR_SIGNUP"}),I.setItem(l.RR,"true")}},6e3);e.push(i)}return()=>{e.forEach(e=>clearTimeout(e))}},[k,L,R,O,t]),(0,i.useEffect)(()=>{if(!L||!k)return;let e=!1,i=()=>{e||(requestAnimationFrame(()=>{(()=>{let{scrollY:e}=window;if(e>1){if(R)O((0,m.Y0)(t));else if(v("ce_dweb_unauth_splp_blocking").anyEnabled||v("ce_dweb_unauth_splp_blocking_no_delay").anyEnabled||v("ce_dweb_unauth_splp_blocking_3s").anyEnabled){let{showDesktopSignupModal:e}=n;e({signupFlow:{type:"signup"},attributionLabel:`scroll_${t}`,container:t,reason:"UPSELL_LOGIN_OR_SIGNUP"}),I.setItem(l.RR,"true")}}})(),e=!1}),e=!0)};return window.addEventListener("scroll",i,{passive:!0}),()=>{window.removeEventListener("scroll",i)}},[k,L,R,O,t])}},578670(e,t,n){n.d(t,{UV:()=>s,Zk:()=>o,qZ:()=>l,ws:()=>a});var i=n(19821),r=n(562615);let a=({children:e})=>(0,r.jsx)(i.az,{bottom:!0,left:!0,padding:4,position:"absolute",right:!0,children:e}),l=({children:e})=>(0,r.jsx)(i.az,{padding:2,children:e}),o=({children:e})=>(0,r.jsx)(i.az,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:e}),s=({children:e})=>(0,r.jsx)(i.az,{left:!0,padding:4,position:"absolute",right:!0,top:!0,children:e})},464498(e,t,n){n.d(t,{KU:()=>p,R2:()=>u,WV:()=>y,r4:()=>l,sG:()=>f,tI:()=>r,y3:()=>i,yv:()=>a});let i=e=>["feed_card_default","feed_card_video"].includes(e),r=2/3,a=2/3,l=1/3,o={0:"start",1:"center",2:"end"},s={web:{0:"16",1:"20",2:"24",3:"24"},mweb:{0:"12",1:"16",2:"18",3:"20"}},d={1:"italics",0:"normal"},c={1:"bold",0:"normal"},u=({color:e,font_style:t,font_weight:n,horizontal_alignment:i,size:r},a)=>({color:e,fontStyle:d[t??0],fontWeight:c[n??1],horizontalAlignment:o[i??0],fontSize:s[a][r??0]+"px"}),p=e=>e<=280?1.25:e>280&&e<=540?.75:e>540&&e<1024?.65:.4,h={1:"default",2:"subtle",3:"success",4:"error",5:"warning",6:"inverse",7:"dark",8:"light",9:"default"},m=h[8],g={1:"primary",2:"secondary",3:"transparent",4:"primary",5:"light",6:"dark"},_=g[2],f=e=>{if(e){if(e.button_style&&e.button_style in g)return g[e.button_style]||_;if(e.button_background_color){if("#e60023"===e.button_background_color.toLowerCase())return g[1]||_;else if("#0074e8"===e.button_background_color.toLowerCase())return g[4]||_}}return _},y=(e,t)=>{if(e){if(e.title_text_customization?.color&&(e.title_text_customization.color=e.title_text_customization.color.toLowerCase()),e.title_text_customization?.text_color&&e.title_text_customization?.text_color in h)return h[e.title_text_customization?.text_color]||m;if(e.title_text_customization?.color){if("#111111"===e.title_text_customization.color||"#000000"===e.title_text_customization.color)return h[7]||m;else if("#ffffff"===e.title_text_customization.color)return h[8]||m}}if(t)if("white"===t)return h[8]||m;else return h[7]||m;return m}},284387(e,t,n){n.d(t,{A:()=>k});var i=n(61163),r=n(859471),a=n(97500),l=n.n(a),o=n(19821);function s(e,t){return Math.max(0,((t<=0?0:Math.ceil(e/t))-1)*t)}function d(e,t,n){return n<=1?Math.max(0,Math.min(e,t-1)):Math.min(Math.max(0,Math.floor(e/n)*n),s(t,n))}var c=n(538329),u=n(562615);let p="12px";function h({containerRef:e,carouselClassName:t,currentIndex:n=0,itemCount:a,itemHeight:l,itemsPerPage:h,onIndexChange:m,showNavigationArrows:g=!1}){(0,r.useEffect)(()=>{(0,i.A)("CarouselOverlay","/app/packages/gestaltExtensions/Carousel/CarouselOverlay.tsx")},[]);let _=(0,r.useRef)(null),f=(0,c.A)(),[y,x]=(0,r.useState)(void 0),[v,b]=(0,r.useState)(0);(0,r.useLayoutEffect)(()=>{let n,i=!1,r=()=>{if(i)return;let a=e.current,l=a?.querySelector(`.${t}`),o=l?.querySelector("li"),s=o?.querySelector('[data-test-id="pinrep-image"]')||o?.querySelector("img");if(s&&a&&l){let e=s.getBoundingClientRect(),t=a.getBoundingClientRect();if(e.height>0){x(e.height),b(e.top-t.top),i=!0;return}}n=setTimeout(r,100)};return r(),()=>{i=!0,n&&clearTimeout(n)}},[e,t]);let A=y??l,w=A?`calc(${A}px / 2 - 18px)`:"calc(50% - 18px)",S=(0,r.useCallback)(()=>{if(h&&h>1){let e=Math.max(0,d(n,a,h)-h);m?.(e)}else{let e=Math.max(0,n-1);m?.(e)}},[n,a,h,m]),j=(0,r.useCallback)(()=>{if(h&&h>1){let e=d(n,a,h),t=Math.min(s(a,h),e+h);m?.(t)}else{let e=Math.min(a-1,n+1);m?.(e)}},[n,a,h,m]),{showPrevious:k,showNext:I}=(()=>{if(!g)return{showPrevious:!1,showNext:!1};if(h&&h>1){let e=d(n,a,h);return{showPrevious:e>0,showNext:e<s(a,h)}}return{showPrevious:n>0,showNext:n<a-1}})();return(0,u.jsxs)(o.az,{ref:_,dangerouslySetInlineStyle:{__style:{height:A?`${A}px`:"100%",pointerEvents:"none",top:`${v}px`}},left:!0,position:"absolute",right:!0,zIndex:new o.rk(100),children:[(0,u.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{left:p,pointerEvents:"auto",top:w}},opacity:100*!!k,position:"absolute",children:(0,u.jsx)(o.K0,{accessibilityLabel:f.bt("View previous", "View Previous", "CarouselOverlay.scrollButton.viewPrevious", undefined, true),bgColor:"default",dataTestId:"carousel-overlay-previous",icon:"chevron-left",onClick:S,size:"md"})}),(0,u.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",right:p,top:w}},opacity:100*!!I,position:"absolute",children:(0,u.jsx)(o.K0,{accessibilityLabel:f.bt("View next", "View Next", "CarouselOverlay.scrollButton.viewNext", undefined, true),bgColor:"default",dataTestId:"carousel-overlay-next",icon:"chevron-right",onClick:j,size:"md"})})]})}let m={bottom:"15px",boxShadow:"0 1px 0px rgba(0, 0, 0, 0.1)",left:0,position:"absolute",right:0};function g({index:e,isActive:t,mode:n,onClick:i,label:r}){return(0,u.jsx)(o.az,{height:8,width:8,children:(0,u.jsx)(o.Rp,{accessibilityLabel:r||`Navigate to slide ${e+1}`,onTap:()=>i(e),rounding:"circle",children:(0,u.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{backgroundColor:t?"single"===n?"var(--sema-color-background-default)":"var(--sema-color-background-inverse)":"single"===n?"rgba(255, 255, 255, 0.6)":"var(--sema-color-background-secondary)",transition:"background-color 0.2s ease"}},height:8,rounding:"circle",width:8})})},e)}function _({currentIndex:e,itemCount:t,itemLabels:n,itemsPerPage:a,mode:l,onNavigateToIndex:s}){(0,r.useEffect)(()=>{(0,i.A)("FallbackScrollMarkers","/app/packages/gestaltExtensions/Carousel/FallbackScrollMarkers.tsx")},[]);let c=a?d(e,t,a):e,p=(0,r.useCallback)(e=>{s(e)},[s]),h=a?Math.ceil(t/a):t,_=a?a<=1?Math.max(0,Math.min(c,t-1)):Math.floor(d(c,t,a)/a):c;return h<=1?null:(0,u.jsx)(o.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:{..."single"===l&&m}},"data-test-id":"scroll-markers-fallback",display:"flex",justifyContent:"center",zIndex:"single"===l?new o.rk(100):void 0,children:(0,u.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{display:"grid",gridAutoColumns:"1rem",gridAutoFlow:"column",placeItems:"center"}},width:"fit-content",children:[...Array(h).keys()].map(e=>{let t=a?e*a:e;return(0,u.jsx)(g,{index:t,isActive:e===_,label:n?.[t],mode:l,onClick:p},e)})})})}var f=n(844255);let y=function({mode:e,forceShowNavigationButtons:t,showNavigationButtons:n=!1,showScrollMarkers:i=!1}){let{userAgent:{browserName:r,browserVersion:a}}=(0,f._8)(),l="Chrome"===r&&Number(a.split(".")[0])>=135&&("u"<typeof window||void 0===window.Cypress);return"multi"===e?{enableCssScrollButtons:!1,enableCssScrollMarkers:!1,enableFallbackScrollButtons:n,enableFallbackScrollMarkers:i}:l&&void 0===t?{enableCssScrollButtons:n,enableCssScrollMarkers:i,enableFallbackScrollButtons:!1,enableFallbackScrollMarkers:!1}:{enableCssScrollButtons:!1,enableCssScrollMarkers:!1,enableFallbackScrollButtons:n,enableFallbackScrollMarkers:i}};var x=n(168079),v=n(81920);let b=e=>`
  --scroll-button-size: 36px;
  --scroll-button-offset: 1rem;

  &::scroll-button(*) {
    opacity: 0;
    pointer-events: auto;
    position: absolute;
    position-anchor: --${e};
    background-color: var(--sema-color-background-default);
    border: none;
    border-radius: 12px;
    cursor: pointer;
    display: inline-block;
    margin-block-start: calc(var(--carousel-item-height) / 2 - var(--scroll-button-size) / 2);
    height: var(--scroll-button-size);
    line-height: 0;
    vertical-align: middle;
    width: var(--scroll-button-size);
    transition: opacity 50ms cubic-bezier(0, 0, 1, 1), transform 50ms cubic-bezier(0, 0, 1, 1);
  }

  /* Show scroll buttons when hovering on the parent <ul>. */
  &:hover::scroll-button(*) {
    opacity: 1;
    transition: opacity 100ms cubic-bezier(0, 0, 1, 1), transform 100ms cubic-bezier(0, 0, 1, 1);
  }

  &::scroll-button(inline-end) {
    content: url("data:image/svg+xml,%3Csvg aria-hidden='true' role='img' viewBox='0 0 24 24' width='16' height='16' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8.7.3 20.42 12 8.71 23.7l-1.42-1.4L17.6 12 7.29 1.7z' /%3E%3C/svg%3E");
    right: anchor(--${e} right);
    margin-inline-end: var(--scroll-button-offset);
    top: anchor(--${e} start);
  }

  &::scroll-button(inline-start) {
    content: url("data:image/svg+xml,%3Csvg aria-hidden='true' role='img' viewBox='0%200%2024%2024' width='16' height='16' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m6.41%2012%2010.3-10.3L15.29.3%203.6%2012l11.7%2011.7%201.42-1.4z'/%3E%3C/svg%3E");
    left: anchor(--${e} left);
    margin-inline-start: var(--scroll-button-offset);
    top: anchor(--${e} start);
  }

  /* CSS specificity order matters: hover/focus  active  disabled (most specific last) */
  &::scroll-button(*):is(:hover, :focus-visible) {
    background-color: var(--sema-color-hover-background-default);
    opacity: 1;
  }

  &::scroll-button(*):active {
    background-color: var(--sema-color-pressed-background-default);
    transform: scale(0.90);
  }

  &::scroll-button(*):disabled {
    background-color: var(--sema-color-background-disabled);
    opacity: 0;
    cursor: not-allowed;
    interactivity: inert;
  }

`,A=(e,t="multi",n=1)=>{let i="multi"===t;return`
  scroll-marker-group: after;

  &::scroll-marker-group {
    display: grid;
    grid-auto-columns: 1rem;
    grid-auto-flow: column;
    height: 8px;
    justify-content: center;
    margin-block-start: ${i?"16px":"-1.25rem"};
    position-anchor: --${e};
    position-area: bottom;
    ${i?"position: fixed; align-items: center;":"scroll-snap-type: y mandatory;"}
    transition: all 150ms ease-out;
    @media (prefers-reduced-motion: no-preference) {
      scroll-behavior: smooth;
    }
  }

  > li:nth-child(${n}n + 1)::scroll-marker {
    aspect-ratio: 1;
    border-radius: 50% ;
    background: ${i?"var(--sema-color-background-secondary)":"rgba(255, 255, 255, 0.6)"};
    content: ' ';
    width: 50%;
    box-shadow: ${i?"none":"0 1px 0px rgba(0, 0, 0, 0.1)"};
    animation-timeline: view(x);
    interactivity: auto;
    transition: all 150ms ease-out;
    place-self: center;
  }

  > li:nth-child(${n}n + 1)::scroll-marker:target-current {
    background: ${i?"var(--sema-color-background-inverse)":"var(--sema-color-background-default)"};
  }
`},w=function({cls:e,inset:t,isMobile:n=!1,itemsPerPage:i}){let r="none"===t,a=n?"0rem":"1rem";return`
  .${e} {
    --carousel-edge-padding: ${r?"0":n?"0.5rem":"1rem"};
    --carousel-gap: 0.5rem;
    --calculated-column-width: calc(
      (
        100cqw
        - var(--carousel-edge-padding)
        - (var(--carousel-gap) * (var(--carousel-item-count) + 1))
      ) / var(--carousel-item-count)
    );
    anchor-name: --${e};
    counter-reset: item;
    display: grid;
    gap: var(--carousel-gap);
    grid-auto-flow: column;
    grid-auto-columns: var(--calculated-column-width, var(--carousel-item-width, min-content));
    list-style-type: none;
    margin-block: 0rem;
    margin-inline: auto;
    overscroll-behavior-x: contain;
    overflow-y: hidden;
    overflow-x: auto;
    padding-block-start: ${r?"0":a};
    padding-block-end: ${r?"0":a};
    padding-inline: var(--carousel-edge-padding);
    scroll-padding-inline-start: var(--carousel-edge-padding);
    scroll-padding-inline-end: var(--carousel-edge-padding);
    scrollbar-width: none;

    @media (prefers-reduced-motion: no-preference) {
      scroll-behavior: smooth;
    }

    >li {
      block-size: auto;
      overflow: visible;
      display: flex;
      flex-direction: column;
      container-type: scroll-state;
    }

    &.scroll-markers {
      ${r?`padding-block-end: ${a};`:""}
      ${A(e,"multi",i)}
    }

    &.scroll-buttons {
      ${b(e)}
    }
  } `};var S=n(131094),j=n(971289);function k({forceShowNavigationButtons:e,inset:t="default",itemHeight:n,items:a,itemWidth:s,mode:d,onIndexChange:c,accessibilityLabelledBy:p,renderItem:m,selectedIndex:g,showNavigationButtons:f,showScrollMarkers:k}){(0,r.useEffect)(()=>{(0,i.A)("CSSCarousel","/app/packages/gestaltExtensions/Carousel/CSSCarousel.tsx")},[]);let{enableCssScrollMarkers:I,enableCssScrollButtons:P,enableFallbackScrollMarkers:E,enableFallbackScrollButtons:T}=y({mode:d,forceShowNavigationButtons:e,showScrollMarkers:k,showNavigationButtons:f}),[C,z]=(0,r.useState)(0),F=(0,r.useRef)(null),R=(0,r.useRef)(null),O=(e=>{let[t,n]=(0,r.useState)(1),i=(0,r.useRef)(null);return(0,x.A)(()=>{let t=null;if(e.current){let r=()=>{i.current&&cancelAnimationFrame(i.current),i.current=requestAnimationFrame(()=>{(()=>{let t=e.current;if(t){let e=t.offsetWidth,i=t.querySelector("li");if(i){let t=i.offsetWidth;if(t>0&&e>0){let i=Math.max(1,Math.floor((e-32+8)/(t+8)));n(e=>e!==i?i:e)}}}})(),i.current=null})};r(),(t=new ResizeObserver(r)).observe(e.current)}return()=>{i.current&&cancelAnimationFrame(i.current),t&&t.disconnect()}}),t})(F),L=(0,o.Ib)(),{isInteractive:M,onKeyboardFocus:B,onKeyboardBlur:D,onMouseOver:N,onMouseOut:K}=function(){let[e,t]=(0,r.useState)(!1),[n,i]=(0,r.useState)(!1),a=(0,r.useCallback)(e=>{e.target.matches(":focus-visible")&&t(!0)},[]);return{keyboardFocused:e,hovered:n,isInteractive:e||n,onKeyboardFocus:a,onKeyboardBlur:(0,r.useCallback)(()=>{t(!1)},[]),onMouseOver:(0,r.useCallback)(()=>{i(!0)},[]),onMouseOut:(0,r.useCallback)(()=>{i(!1)},[])}}(),{setNavigationIntent:U}=function({scrollerRef:e,itemsLength:t,itemsPerPage:n,mode:i,focusedIndex:a,setFocusedIndex:l,onIndexChange:o}){let s=(0,r.useRef)([]),d=(0,r.useRef)(null),c=(0,r.useRef)(!0),u=(0,r.useRef)(null),p=(0,r.useRef)(-1),h=(0,r.useRef)(0),m=(0,r.useRef)(0),g=(0,r.useRef)(null),_=(0,r.useCallback)(e=>{let{direction:t}=getComputedStyle(e),{scrollLeft:n,scrollWidth:i,clientWidth:r}=e;return"rtl"!==t?n:n<0?-n:i-r-n},[]),f=(0,r.useCallback)(()=>{let t=e.current;if(!t||!s.current.length)return;let r=u.current,d=t.children.length;if(c.current||!r||r.scrollWidth!==t.scrollWidth||r.clientWidth!==t.clientWidth||r.childrenCount!==d||s.current.length!==d){let e=Array.from(t.children);s.current=e.map(e=>e.offsetLeft+e.offsetWidth/2),u.current={scrollWidth:t.scrollWidth,clientWidth:t.clientWidth,childrenCount:e.length},c.current=!1}let f=_(t),y=t.scrollWidth-t.clientWidth,x=f+t.clientWidth/2,b=s.current,A=0,w=1/0;b.forEach((e,t)=>{let n=Math.abs(e-x);n<w&&(w=n,A=t)});let S=A;if("multi"===i&&n>1){let e=Math.floor(A/n)*n,t=Math.max(0,Math.floor((b.length-1)/n)*n),i=Math.min(e,t),r=h.current;if(r!==i){let e=i>r?1:-1,t=(b[r+(e>0?n-1:0)]+b[i+(e>0?0:Math.min(n-1,b.length-i-1))])/2+e*(x>b[b.length-1]-24||x<b[0]+24?6:24),a=f-m.current;(!(e>0?x>=t:x<=t)||e>0&&a<-.5||e<0&&a>.5)&&(i=r)}(f/y>.98||y-f<=8)&&(i=t),h.current=S=i}let j=performance.now(),k=g.current,I=k&&j-k.timestamp<500;S===a||I||(p.current!==S&&((0,v.GV)("closeup.dweb.css_carousel.enabled.carousel_index_change",{sampleRate:1}),p.current=S),l(S),o?.({currentIndex:a,nextIndex:S})),k&&(S===k.targetIndex||j-k.timestamp>500)&&(g.current=null),m.current=f},[a,n,i,o,e,l,_]),y=(0,r.useCallback)(()=>{let e=performance.now(),t=g.current;t&&e-t.timestamp<500||(d.current&&cancelAnimationFrame(d.current),d.current=requestAnimationFrame(()=>{d.current=null,f()}))},[f]),x=(0,r.useCallback)(()=>{c.current=!0,y()},[y]);return(0,r.useLayoutEffect)(()=>{let t=e.current;if(!t)return;let n=Array.from(t.children);s.current=n.map(e=>e.offsetLeft+e.offsetWidth/2),u.current={scrollWidth:t.scrollWidth,clientWidth:t.clientWidth,childrenCount:n.length},c.current=!1;let i="u">typeof ResizeObserver?new ResizeObserver(x):null,r=new MutationObserver(x);return i&&i.observe(t),r.observe(t,{childList:!0}),t.addEventListener("scroll",y,{passive:!0}),window.addEventListener("resize",x),()=>{t.removeEventListener("scroll",y),window.removeEventListener("resize",x),r.disconnect(),i&&i.disconnect(),d.current&&(cancelAnimationFrame(d.current),d.current=null)}},[y,x,e]),(0,r.useLayoutEffect)(()=>{c.current=!0,y()},[t,n,y]),{setNavigationIntent:(0,r.useCallback)(e=>{g.current={targetIndex:e,timestamp:performance.now()}},[])}}({scrollerRef:F,itemsLength:a.length,itemsPerPage:O,mode:d,focusedIndex:C,setFocusedIndex:z,onIndexChange:c}),$=(0,r.useCallback)(e=>{let t=F.current;if(!t)return;let n=Array.from(t.children),i=Math.max(0,Math.min(e,n.length-1)),r=n[i];if(r&&"number"==typeof r.offsetLeft){let e=parseInt(getComputedStyle(t).paddingInlineStart,10)||0;t.scrollTo({left:r.offsetLeft-e,behavior:L?"auto":"smooth"})}},[L]),H=(0,r.useCallback)(e=>{U(e),$(e),z(e),c?.({currentIndex:C,nextIndex:e})},[C,c,$,U]);(0,r.useLayoutEffect)(()=>{void 0!==g&&g!==C&&a.length&&H(g)},[g,C,H,a.length]);let V=(0,r.useCallback)(e=>()=>z(e),[]),W=(0,r.useCallback)(()=>z(-1),[]),q=(0,r.useRef)(new Map),G=(0,r.useCallback)(e=>(q.current.has(e)||q.current.set(e,V(e)),q.current.get(e)),[V]);(0,r.useLayoutEffect)(()=>{q.current.clear()},[a]);let Y=(0,j.Ay)(),J=!(0,j.bh)(Y),Q="none"===t,X="single"===d,Z=`carousel--mode-${d}`,ee=X?`
  .${Z} {
    anchor-name: --${Z};
    container-type: inline-size scroll-state;
    counter-reset: item;
    display: grid;
    grid-auto-flow: column;
    grid-auto-columns: 100%;
    height: 100%;
    list-style-type: none;
    overscroll-behavior-x: contain;
    overflow-x: auto;
    scroll-behavior: smooth;
    scroll-snap-type: x mandatory;
    scrollbar-width: none;

    @media (hover) {
      &:not(:hover,
      :focus-within)::scroll-button(*) {
        opacity: 0;
      }
    }

    > li {
      container-type: scroll-state;
      scroll-snap-align: center;
      scroll-snap-stop: always;
      width: 100%;
      height: 100%;
      overflow: hidden;

      & img {
        height: 100%;
        width: 100%;
      }
    }

    &.scroll-markers {
      ${A(Z,"single")}
    }

    &.scroll-buttons {
      ${b(Z)}
    }
  }
`:w({cls:Z,inset:t,isMobile:J,itemsPerPage:O}),et={...n&&{"--carousel-item-height":`${n}px`},...s&&{"--carousel-item-width":`${s}px`}},en=l()(Z,{"scroll-markers":I,"scroll-buttons":P});return(0,u.jsxs)(o.az,{ref:R,"aria-labelledby":p,as:"section",dangerouslySetInlineStyle:{__style:{containerType:"inline-size"}},height:"100%",onBlur:D,onFocus:B,onMouseOut:K,onMouseOver:N,position:"relative",width:"100%",children:[(0,u.jsx)(S.A,{unsafeCSS:ee}),T&&(0,u.jsx)(h,{carouselClassName:Z,containerRef:R,currentIndex:C,itemCount:a.length,itemHeight:n,itemsPerPage:O,onIndexChange:H,showNavigationArrows:e??M}),(0,u.jsx)("ul",{ref:F,className:en,style:et,children:a.map((e,t)=>(0,u.jsx)("li",{children:m({item:e,index:t,isFocused:C===t,onFocus:G(t),onUnfocus:W})},e?.id??e?.entityId??t))}),E&&(0,u.jsx)(o.az,{marginBottom:Q||"multi"!==d?void 0:4,marginTop:Q?4:void 0,children:(0,u.jsx)(_,{currentIndex:C,itemCount:a.length,itemsPerPage:O,mode:d,onNavigateToIndex:H})})]})}},210909(e,t,n){n.r(t),n.d(t,{default:()=>P});var i=n(61163),r=n(859471),a=n(19821),l=n(182267),o=n(586733),s=n(489630);function d(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let c={},u=e=>{let t=e.__id||e.id;return"string"==typeof t&&t||null};class p{constructor(){d(this,"idMap",new Map),d(this,"objMap",new WeakMap)}get(e){let t=u(e);return this.objMap.get(e)??(t?this.idMap.get(t):void 0)}has(e){let t=u(e);return this.objMap.has(e)??(!!t&&this.idMap.has(t))}set(e,t){let n=u(e);n&&this.idMap.set(n,t),this.objMap.set(e,t)}reset(){this.idMap=new Map,this.objMap=new WeakMap}}function h(e,t){return"number"==typeof e?e:"lg1"===t?e[t]??e.lg??1:e[t]??1}var m=n(411805),g=n(11978),_=n(127413),f=n(131094),y=n(562615);let{css:x,animation:v}=_.A,b={backgroundColor:"var(--sema-color-background-secondary)",animation:v,borderRadius:"var(--sema-rounding-400)"};function A({data:e}){(0,r.useEffect)(()=>{(0,i.A)("SkeletonPin","/app/common/react/components/SkeletonLoadingStates/SkeletonPin.tsx")},[]);let{height:t}=e;return(0,y.jsxs)(r.Fragment,{children:[(0,y.jsx)(f.A,{unsafeCSS:x}),(0,y.jsx)(a.az,{dangerouslySetInlineStyle:{__style:b},"data-test-id":"skeleton-pin",children:(0,y.jsx)(a.az,{height:t})})]})}var w=n(601185),S=n(844255),j=n(971289),k=n(81920),I=n(912849);function P(e){(0,r.useEffect)(()=>{(0,i.A)("Masonry","/app/packages/gestaltExtensions/Masonry/Masonry.tsx")},[]);let{align:t,cacheKey:n,id:d,isFetching:u,isGridCentered:_=!0,items:x,layout:v,loadItems:b,masonryRef:P,optOutFluidGridExperiment:E=!1,renderItem:T,scrollContainerRef:C,virtualize:z=!0,getColumnSpanConfig:F,_getResponsiveModuleConfigForSecondItem:R,isLoadingStateEnabled:O,initialLoadingStatePinCount:L,isLoadingAccessibilityLabel:M,isLoadedAccessibilityLabel:B}=e,D=(0,j.Ay)(),{isAuthenticated:N,isRTL:K,userAgent:U,stage:$}=(0,S._8)(),{browserName:H,platform:V}=U,{logContextEvent:W}=(0,o.o)(),q=(0,w.A)(),G="desktop"===D,Y=(0,I.AJ)(),J=((0,r.useRef)(x.map(()=>({fetchTimestamp:Date.now(),measureTimestamp:Date.now(),hasRendered:!1,pageCount:0}))),G&&!E),{experimentalColumnWidth:Q,experimentalGutter:X}=(0,m.A)(J),Z=e.serverRender??!!G,ee="flexible"===v||"uniformRowFlexible"===v||"desktop"!==D||J,et=(ee&&v?.startsWith("uniformRow")?"uniformRowFlexible":void 0)??(Z?"serverRenderedFlexible":"flexible"),en=e.columnWidth??Q??236;ee&&(en=Math.floor(en));let ei=e.gutterWidth??X??(G?16:1),er=e.minCols??2,ea=((0,r.useRef)(0),en+ei),el=function(e){let t;if(null==e)return;let n=((t=c[e])&&t.screenWidth===window.innerWidth||(c[e]={screenWidth:window.innerWidth}),c[e]);return n.measurementCache||(n.measurementCache=new p),n.measurementCache}(n),eo=(0,r.useCallback)(()=>C?.current||window,[C]),es=(0,r.useRef)(!0),{anyEnabled:ed}=q.checkExperiment("visual_search_stl_eligibility_check_migration_gss_css",{dangerouslySkipActivation:!0}),{group:ec}=q.checkExperiment("web_nav_sidebar",{dangerouslySkipActivation:!0}),eu=ec.startsWith("enabled_autoclose_reduce_debounce")?Number(ec.split("enabled_autoclose_reduce_debounce_")[1]):void 0,ep=_&&es.current?"centered":"",{className:eh,styles:em}=function(e){let t=`m_${Object.keys(e).sort().reduce((t,n)=>{let i=e[n];return null==i||"object"==typeof i||"function"==typeof i?t:"boolean"==typeof i?t+(i?"t":"f"):t+i},"").replace(/\:/g,"\\:")}`,{flexible:n,gutterWidth:i,isRTL:r,itemWidth:a,maxColumns:l,minColumns:o,items:s,getColumnSpanConfig:d,_getResponsiveModuleConfigForSecondItem:c}=e,u=d?s.map((e,t)=>({index:t,columnSpanConfig:d(e)??1})).filter(e=>1!==e.columnSpanConfig):[],p=a+i,m=Array.from({length:l+1-o},(e,t)=>t+o).map(e=>{let m,g,_=e===o?0:e*p,f=e===l?null:(e+1)*p-.01;d&&c&&s.length>1&&(m=d(s[0]),g=c(s[1]));let{styles:y,numberOfVisibleItems:x}=u.reduce((r,l)=>{let{columnSpanConfig:o}=l,d=Math.min(function({columnCount:e,columnSpanConfig:t,firstItemColumnSpanConfig:n,isFlexibleWidthItem:i,secondItemResponsiveModuleConfig:r}){let a=e<=2?"sm":e<=4?"md":e<=6?"lg1":e<=8?"lg":"xl",l=h(t,a);if(i){let t=h(n,a);l="number"==typeof r?r:r?Math.max(r.min,Math.min(r.max,e-t)):1}return l}({columnCount:e,columnSpanConfig:o,isFlexibleWidthItem:!!g&&l===s[1],firstItemColumnSpanConfig:m??1,secondItemResponsiveModuleConfig:g??1}),e),c=null!=l.index&&r.numberOfVisibleItems>=d+l.index,u=n?100/e*d:a*d+i*(d-1),{numberOfVisibleItems:p}=r;return c?p-=d-1:l.index<p&&(p+=1),{styles:r.styles.concat(function({className:e,index:t,columnSpanConfig:n,visible:i,width:r,flexible:a}){let l="number"==typeof n?n:btoa(JSON.stringify(n));return a?`
      .${e} .static[data-column-span="${l}"]:nth-child(${t+1}) {
        visibility: ${i?"visible":"hidden"} !important;
        position: ${i?"inherit":"absolute"} !important;
        width: ${r}% !important;
      }`:`
      .${e} .static[data-column-span="${l}"]:nth-child(${t+1}) {
        visibility: ${i?"visible":"hidden"} !important;
        position: ${i?"inherit":"absolute"} !important;
        width: ${r}px !important;
      }`}({className:t,index:l.index,columnSpanConfig:o,visible:c,width:u,flexible:n})),numberOfVisibleItems:p}},{styles:"",numberOfVisibleItems:e}),v=n?`
      .${t} .static {
        box-sizing: border-box;
        width: calc(100% / ${e}) !important;
      }
    `:`
      .${t} {
        max-width: ${e*p}px;
      }

      .${t} .static {
        width: ${a}px !important;
      }
    `;return{minWidth:_,maxWidth:f,styles:`
      .${t} .static:nth-child(-n+${x}) {
        position: static !important;
        visibility: visible !important;
        float: ${r?"right":"left"};
        display: block;
      }

      .${t} .static {
        padding: 0 ${i/2}px;
      }

      ${v}

      ${y}
    `}}),g=m.map(({minWidth:e,maxWidth:t,styles:n})=>`
    @container (min-width: ${e}px) ${t?`and (max-width: ${t}px)`:""} {
      ${n}
    }
  `),_=m.map(({minWidth:e,maxWidth:t,styles:n})=>`
    @media (min-width: ${e}px) ${t?`and (max-width: ${t}px)`:""} {
      ${n}
    }
  `),f=`
    ${g.join("")}
    @supports not (container-type: inline-size) {
      ${_.join("")}
    }
  `;return{className:t,styles:`
    .masonryContainer:has(.${t}) {
      container-type: inline-size;
    }

    .masonryContainer > .centered {
      margin-left: auto;
      margin-right: auto;
    }

    .${t} .static {
      position: absolute !important;
      visibility: hidden !important;
    }

    ${f}
  `}}({gutterWidth:ei,flexible:ee,items:x,isRTL:K,itemWidth:en,maxColumns:e.maxColumns??Math.max(x.length,16),minColumns:er,getColumnSpanConfig:F,_getResponsiveModuleConfigForSecondItem:R}),eg=`${ep} ${eh}`.trim(),{anyEnabled:e_,expName:ef,group:ey,isMeasureAllEnabled:ex}=(0,g.A)(),ev=((0,r.useRef)(void 0),(0,r.useRef)(x.length)),eb=(0,r.useRef)(0),eA=(0,r.useRef)(null);(0,r.useEffect)(()=>{ev.current=x.length,eb.current+=1},[x]),(0,r.useEffect)(()=>{es.current&&(es.current=!1)},[]),(0,r.useEffect)(()=>()=>{},[]);let ew=(0,r.useCallback)(e=>{let t=e.reduce((e,t)=>e+t),n=t/e.length,i={experimentalMasonryGroup:ey||"unknown",handlerId:Y,isAuthenticated:N,multiColumnItemSpan:e.length,browserName:H,platform:V,stage:$||"unknown"};(0,k.GV)("webapp.masonry.multiColumnWhitespace.count",{sampleRate:1,tags:i}),(0,k.uI)("webapp.masonry.multiColumnWhitespace.average",n,{sampleRate:1,tags:{...i,minCols:er}}),W({event_type:15878,component:14468,aux_data:{total_whitespace_px:t}}),W({event_type:16062,component:14468,aux_data:{average_whitespace_px:n}}),W({event_type:16063,component:14468,aux_data:{max_whitespace_px:Math.max(...e)}}),e.forEach(e=>{e>=50&&((0,k.GV)("webapp.masonry.multiColumnWhitespace.over50",{sampleRate:1,tags:i}),W({event_type:16261,component:14468})),e>=100&&((0,k.GV)("webapp.masonry.multiColumnWhitespace.over100",{sampleRate:1,tags:i}),W({event_type:16262,component:14468}))})},[H,ey,Y,N,W,er,V,$]),{_items:eS,_renderItem:ej}=function({initialLoadingStatePinCount:e=50,infiniteScrollPinCount:t=10,isFetching:n,items:i=[],renderItem:a,isLoadingStateEnabled:l}){let o=+(i.filter(e=>"object"==typeof e&&null!==e&&"type"in e&&"closeup_module"===e.type).length>0),s=l&&n,d=(0,r.useMemo)(()=>Array.from({length:i.length>o?t:e}).reduce((e,t,n)=>[...e,{height:n%2==0?356:236,key:`skeleton-pin-${n}`,isSkeleton:!0}],[]),[i.length,o,t,e]);return{_items:(0,r.useMemo)(()=>s?[...i,...d]:i,[s,i,d]),_renderItem:(0,r.useMemo)(()=>l?e=>{let{itemIdx:t,data:n}=e;return t>=i.length&&n&&"object"==typeof n&&"key"in n&&"height"in n?(0,y.jsx)(A,{data:n},n.key):a(e)}:a,[l,a,i.length])}}({isLoadingStateEnabled:O,items:x,renderItem:(0,r.useCallback)(e=>(0,y.jsx)(s.A,{name:"MasonryItem",children:T(e)}),[T]),isFetching:u,initialLoadingStatePinCount:L}),ek=O&&u,eI=(0,r.useRef)(new Set);(0,r.useEffect)(()=>{let e={isAuthenticated:N,isDesktop:"desktop"===D,handlerId:Y,experimentalMasonryGroup:ey||"unknown",visualSearchSTLexperiment:ed?"true":"false",browserName:H,platform:V,stage:$||"unknown"},t=setTimeout(()=>{requestAnimationFrame(()=>{let t=Array.from(eA.current?.querySelectorAll("[data-grid-item-idx]")??[]);if(0===t.length)return;let n=t.map(e=>{let t=e.getAttribute("data-grid-item-idx");return{rect:e.getBoundingClientRect(),itemIdx:t}}),i=0,r=0,a=0,l=0,o=0,s=0;for(let e=0;e<n.length;e+=1){let t=n[e]?.rect,d=n[e]?.itemIdx;for(let c=e+1;c<n.length;c+=1){let e=n[c]?.rect,u=n[c]?.itemIdx;if(t&&e&&d&&u){let n=[d,u].sort().join("|");if(!eI.current.has(n)&&t.right>=e.left&&t.left<=e.right&&t.bottom>=e.top&&t.top<=e.bottom&&t.height>0&&e.height>0){eI.current.add(n),i+=1;let d=Math.max(0,Math.min(t.right,e.right)-Math.max(t.left,e.left))*Math.max(0,Math.min(t.bottom,e.bottom)-Math.max(t.top,e.top));d>8e4?s+=1:d>4e4?o+=1:d>1e4?l+=1:d>5e3?a+=1:d>2500&&(r+=1)}}}}i>0&&(0,k.U9)("webapp.masonry.pinOverlapHits",i,{tags:e,sampleRate:.02}),r>0&&(0,k.U9)("webapp.masonry.pinOverlap.AreaPx.over2500",r,{tags:e,sampleRate:.02}),a>0&&(0,k.U9)("webapp.masonry.pinOverlap.AreaPx.over5000",a,{tags:e,sampleRate:.02}),l>0&&(0,k.U9)("webapp.masonry.pinOverlap.AreaPx.over10000",l,{tags:e,sampleRate:.02}),o>0&&(0,k.U9)("webapp.masonry.pinOverlap.AreaPx.over40000",o,{tags:e,sampleRate:.02}),s>0&&(0,k.U9)("webapp.masonry.pinOverlap.AreaPx.over80000",s,{tags:e,sampleRate:.02});let d="none";d=n.length<=10?"0-10":n.length<=20?"11-20":">20";let c="none";c=i>0&&i<=5?"1-5":i>5&&i<=20?"6-20":i>20&&i<=100?"21-100":">100",(0,k.GV)("webapp.masonry.pinOverlap.onOverlapCalculation",{tags:{...e,hasAnyOverlap:i>0?"true":"false",hasOverlapAreaOver2500:r>0?"true":"false",hasOverlapAreaOver5000:a>0?"true":"false",hasOverlapAreaOver10000:l>0?"true":"false",hasOverlapAreaOver40000:o>0?"true":"false",hasOverlapAreaOver80000:s>0?"true":"false",itemsMeasured:d,overlapPairs:c},sampleRate:.02})})},1e3);return()=>{clearTimeout(t)}},[H,D,ey,N,Y,V,$,ed]);let eP=(0,l.A)(),eE=(0,r.useCallback)(e=>{P&&(P.current=e)},[P]);return(0,y.jsxs)(r.Fragment,{children:[O&&!es.current&&(0,y.jsx)(a.az,{"aria-live":"polite",display:"visuallyHidden",children:ek?M:B}),(0,y.jsx)("div",{ref:eA,"aria-busy":O?!!ek:void 0,className:"masonryContainer","data-test-id":"masonry-container",id:d,style:J?{padding:`0 ${ei/2}px`}:void 0,children:(0,y.jsxs)("div",{className:eg,children:[Z&&es.current?(0,y.jsx)(f.A,{"data-test-id":"masonry-ssr-styles",unsafeCSS:em}):null,(0,y.jsx)(a.az,{"data-test-id":"max-width-container",marginBottom:0,marginEnd:"auto",marginStart:"auto",marginTop:0,maxWidth:e.maxColumns?ea*e.maxColumns:void 0,children:e_?(0,y.jsx)(a._6,{ref:eP?eE:e=>{P&&(P.current=e)},_dynamicHeights:!0,_getResponsiveModuleConfigForSecondItem:R,_logTwoColWhitespace:ew,_measureAll:ex,align:t,columnWidth:en,getColumnSpanConfig:F,gutterWidth:ei,items:eS,layout:ee?et:v??"basic",loadItems:b,measurementStore:el,minCols:er,renderItem:ej,scrollContainer:eo,virtualBufferFactor:.3,virtualize:z}):(0,y.jsx)(a.a,{ref:eP?eE:e=>{P&&(P.current=e)},_dynamicHeights:!0,_experimentalFluidResizeDebounce:void 0!==eu&&eu>=0?eu:void 0,_fluidResize:!0,_getResponsiveModuleConfigForSecondItem:R,_logTwoColWhitespace:ew,align:t,columnWidth:en,getColumnSpanConfig:F,gutterWidth:ei,items:eS,layout:ee?et:v??"basic",loadItems:b,measurementStore:el,minCols:er,renderItem:ej,scrollContainer:eo,virtualBufferFactor:.3,virtualize:z})})]})})]})}},532169(e,t,n){function i({gutterWidth:e,isRTL:t,itemWidth:n=236,maxColumns:i=16,minColumns:r=2}){let a=n+e,l=`
.gridCentered {
  margin-left: auto;
  margin-right: auto;
}
.gridCentered .static {
  padding: 0 ${e/2}px;
  position: absolute;
  visibility: hidden;
}
`;for(let e=r;e<i+1;e+=1){let n=e===r?0:e*a;l+=`
@media (min-width: ${n}px) and (max-width: ${(e+1)*a-1}px) {
  .gridCentered {
    max-width: ${e*a}px;
  }
  .gridCentered .static:nth-child(-n+${e}) {
    position: static !important;
    visibility: visible !important;
    float: ${t?"right":"left"};
    display: block;
  }
}
`}return l}n.d(t,{A:()=>i})},411805(e,t,n){function i(e=!0){let t=e?16:void 0,n=t?Math.floor(t/4):void 0;return{experimentalColumnWidth:e?221:void 0,experimentalGutter:t,experimentalGutterBoints:n}}n.d(t,{A:()=>i})},715989(e,t,n){n.d(t,{A:()=>r});var i=n(844255);let r=()=>{let e="default",{locale:t}=(0,i._8)();return(({"ar-SA":"tall","bn-IN":"tall","hi-IN":"tall","te-IN":"tall","ko-KR":"ck","zh-CN":"ck","zh-TW":"ck",ja:"ja","th-TH":"th","vi-VN":"vi"})[t]??e)===e?"compact":"none"}},475999(e,t,n){n.d(t,{A:()=>i});let i=e=>{let t=e?"default":"error";return{iconColor:t,dangerousInlineStyle:{__style:{color:t}}}}},772050(e,t,n){n.d(t,{Ku:()=>a,NX:()=>o,no:()=>r,pm:()=>l,zA:()=>i});let i={AUD:"A$",BRL:"R$",CAD:"$",CZK:"K",DKK:"kr",EUR:"",GBP:"",HUF:"Ft",MXN:"$",NOK:"kr",NZD:"NZ$",RON:"lei",SEK:"kr",USD:"$",JPY:"",CHF:"CHF"},r=function(e,t){return","===1.1.toLocaleString(t).substring(1,2)&&e?e.replace(",","."):e};function a(e,t,n,i=!1){let{minimumFractionDigits:r,maximumFractionDigits:l}=new Intl.NumberFormat(t,{style:"currency",currency:n}).resolvedOptions(),o=void 0===r?2:r,s=void 0===l?2:l;return e.toLocaleString(t,{maximumFractionDigits:i&&s>0?3:s,minimumFractionDigits:i&&o>0?3:o})}let l=(e,t,n)=>new Intl.NumberFormat(t,{style:"currency",currency:n}).format(e),o=(e,t)=>{let n=new Intl.NumberFormat(t,{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).formatToParts(1.25),i=n.find(e=>"decimal"===e.type)?.value||".";return parseFloat(e.replace(RegExp(`[^0-9\\${i}-]+`,"g"),"").replace(i,"."))}},766675(e,t,n){n.d(t,{A:()=>l});var i=n(859471);function r(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class a extends i.Component{constructor(...e){super(...e),r(this,"ref",(0,i.createRef)()),r(this,"observer",null),r(this,"handleVisibilityChanged",(e,t)=>{this.props.onVisibilityChange(e,t)})}componentDidMount(){this.ref&&this.ref.current&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.ref.current))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.ref.current),delete this.observer)}render(){return this.props.children(this.ref)}}let l=a},620392(e,t,n){n.d(t,{A:()=>l});var i=n(148867),r=n(251407),a=n(365910);function l(e,t){let n=Math.round(1e3*Math.random())+"",l=Math.round(1e3*Math.random())+"";r.hZ((0,i.lH)(n),l);let o={token:`${n}-${l}`,url:e,...t&&!t.params?t.queryParams:t?.params&&{pin:t.params.pinId??void 0,isThirdPartyAd:t.params.isThirdPartyAd??void 0,csr:t.params.csrId&&!t.params.pinId?t.params.csrId:void 0,client_tracking_params:t.params.clientTrackingParams,aux_data:t.params.auxData?JSON.stringify(t.params.auxData):void 0}};return`/offsite/?${(0,a.A)(o)}`}},351910(e,t,n){n.d(t,{A:()=>l});var i=n(298146),r=n(788332),a=n(120649);let l=async({clientTrackingParams:e,href:t,pinId:n,spamCheckCallback:l})=>{let o=await function({url:e,urlParams:t,method:n,data:l,ignoreBookmark:o,callOptions:s,headers:d}){let c=e;return t&&Object.entries(t).forEach(([e,t])=>{let n=`{${e}}`;c.includes(n)&&(c=c.replaceAll(n,encodeURIComponent(String(t))))}),function(e){let t=(0,r.A)(e),n=a.$K.get("ApiResource",t);if(n)return n;let l=(0,i.A)(e);return a.$K.add("ApiResource",t,l),l}({url:c,method:n,data:l,ignoreBookmark:o,callOptions:s,headers:d})}({url:"/v3/offsite/",data:{check_only:!0,client_tracking_params:e??void 0,pin_id:n,url:t}});if(!o.resource_response.error){let{message:e,redirect_status:t,url:n}=o.resource_response.data||{};l({blocked:["blocked","suspicious","porn"].includes(t??""),message:e??"",redirectStatus:t??"",sanitized_url:n??""})}}},272111(e,t,n){function i({isOffsiteUrl:e,event:t}){return!e&&(t.metaKey||t.ctrlKey)}n.d(t,{A:()=>i})},227407(e,t,n){n.d(t,{A:()=>s});var i=n(871292),r=n(583471),a=n(584469),l=n(563013),o=n(602719);let s=({event:e,onHistoryChange:t,href:n,location:s,navigate:d,target:c})=>{let u=(0,r.A)(n),p=("string"!=typeof n&&n?n.state:null)??{},h=(0,a.A)(u);h===o.A.TRUSTED_DIFFERENT_ORIGIN||"blank"===c?(0,i.A)(u,"blank"===c):d&&h===o.A.SAME_ORIGIN&&(d((0,l.A)({url:u}),{state:{from:s,...p}}),t&&t({event:e}))}},487541(e,t,n){n.d(t,{A:()=>a});var i=n(871292),r=n(620392);function a(e,t){(0,i.A)((0,r.A)(e,t),!0,t?.features)}},623177(e,t,n){n.d(t,{A:()=>r});var i=n(524134);function r({location:e,pinId:t,surface:n}){return!!n&&!i.Wv.includes(n)||e.pathname.includes(t)}},376602(e,t,n){n.d(t,{A:()=>g});var i=n(859471),r=n(979638),a=n(30920),l=n(351910),o=n(272111),s=n(227407),d=n(623177),c=n(332193),u=n(583471),p=n(386379),h=n(635154),m=n(81920);function g(e){let{clientTrackingParams:t,externalData:n,href:g,onHistoryChange:_,target:f}=e,[y,x]=(0,i.useState)(null),v=(0,r.Zp)(),b=(0,r.zy)(),A=(0,u.A)(g),w=(0,p.A)({url:A}),{showWarning:S}=(0,h.F)()??{},{pin:j,surface:k}=n||{},{hyperlinkKeywordsEnabled:I}=(0,a.A)(null,!0),P=t||j?.trackingParams,E=(0,c.A)();return(0,i.useEffect)(()=>{w&&j&&null===y&&(!j.promoter||j.isDownstreamPromotion)&&(0,d.A)({location:b,pinId:j.entityId,surface:k})&&(0,l.A)({clientTrackingParams:P,pinId:j.entityId,spamCheckCallback:e=>x(e),href:A})},[P,j,k,A,w,b,y]),({event:e})=>{if(!(0,o.A)({isOffsiteUrl:w,event:e})){if(I&&"string"==typeof g&&g.startsWith("pinterest://")){let t=g.replace(/^pinterest:\/\//,"/");(0,s.A)({event:e,href:t,location:b,navigate:v,onHistoryChange:_,target:"blank"===f?"blank":null});return}if(e.preventDefault(),!g||"string"==typeof g&&g.startsWith("#"))return void(0,m.GV)("link_navigation_empty_href",{sampleRate:1,tags:{route:b.pathname,href:g}});w||n?.dangerouslyForceOffsiteUrl?E({auxData:n?.auxData,clientTrackingParams:P,pin:n?.pin&&{attributionSourceId:n.pin.attributionSourceId,campaignId:n.pin.campaignId,isPromoted:n.pin.isPromoted,pinPromotionId:n.pin.pinPromotionId,isThirdPartyAd:n.pin.isThirdPartyAd,advertiserId:n.pin.advertiserId,destinationUrl:n.pin.destinationUrl,link:n.pin.link,domain:n.pin.domain},pinId:n?.pin?.entityId,queryParams:n?.queryParams,showWarning:S,spamCheck:y,url:A}):(0,s.A)({event:e,href:g,location:b,navigate:v,onHistoryChange:_,target:"blank"===f?"blank":null})}}}},332193(e,t,n){n.d(t,{A:()=>p});var i=n(432321),r=n(854846),a=n(553255),l=n(718947),o=n(871292),s=n(586733),d=n(620392),c=n(487541),u=n(637747);let p=e=>{let t=(()=>{let{logContextEvent:e}=(0,s.o)();return({attributionSourceId:t,auxData:n,campaignId:o,clientTrackingParams:s,href:c,isPromoted:u,pinId:p,pinPromotionId:h,isThirdPartyAd:m,advertiserId:g,destinationUrl:_,link:f,domain:y})=>{var x,v;if(!u)return!1;let b=(0,i.A)(),A={params:{pinId:p,csrId:null,clientTrackingParams:s,auxData:n,isThirdPartyAd:m}},w=(0,d.A)(c,A);b?.experimentsClient.checkExperiment("web_ad_destination_url").anyEnabled&&u&&c===_&&(fetch((0,d.A)(_,A),{redirect:"manual"}),w=_);let S=b?.userAgent.browserName??"",j=b?.experimentsClient.checkExperiment("aid_exp_ara_shutdown_source_registration").anyEnabled;if((0,l.nr)(S)){let n=b?.userAgent.browserVersion?b.userAgent.browserVersion:"0.0",i=parseFloat(n.split(".")[0]+"."+n.split(".")[1]);if(t&&i>=14.1){let n;return x=w,(n=document.createElement("a")).setAttribute("href",x),n.setAttribute("target","_blank"),n.setAttribute("rel","noopener nofollow noreferrer"),n.style.cursor="pointer",n.style.display="block",n.setAttribute(r.Yv.ATTRIBUTION_SOURCE_ID,t),n.setAttribute(r.Yv.ATTRIBUTE_DESTINATION,c),n.setAttribute(r.Yv.ATTRIBUTE_ON,c),n.click(),e({event_type:101,clientTrackingParams:s,object_id_str:p||"",aux_data:{pin_id:p||"",click_measurement_ppid:h||"",click_measurement_campaign_id:o||"",is_pcm:!0,attribution_source_id:t,page_url:c}}),!0}}else if((0,l.H8)(S)&&!j&&window.document.featurePolicy?.allowsFeature("attribution-reporting")){let n,i;return v=w,n=(0,a.A)(t,[_,f,y],!0,o,g),(i=document.createElement("a")).setAttribute("href",v),i.setAttribute("target","_blank"),i.setAttribute("rel","noopener nofollow noreferrer"),i.style.cursor="pointer",i.style.display="block",i.setAttribute(r.YH.SOURCE,n),i.click(),e({event_type:101,clientTrackingParams:s,object_id_str:p||"",aux_data:{pin_id:p||"",click_measurement_ppid:h||"",click_measurement_campaign_id:o||"",is_arapi:!0,attribution_source_id:t,page_url:c}}),!0}return!1}})();return({auxData:n,clientTrackingParams:r,pin:a,pinId:l,queryParams:s,showWarning:p,spamCheck:h,url:m})=>{if("u">typeof window&&window.Windows)return void(0,u.A)(m,{clientTrackingParams:r,pinId:l,hasPin:!!a,auxData:n,isThirdPartyAd:a?.isThirdPartyAd});if(!a&&!e?.isFromClickthroughLink)return void(0,c.A)(m,s?{queryParams:s}:{params:{pinId:l}});if(h?.blocked)return void p?.(h);if(a&&t({attributionSourceId:a.attributionSourceId,auxData:n,campaignId:a.campaignId?String(a.campaignId):null,clientTrackingParams:r,href:m,isPromoted:a.isPromoted,pinId:l,pinPromotionId:a.pinPromotionId?String(a.pinPromotionId):null,isThirdPartyAd:a.isThirdPartyAd,advertiserId:a.advertiserId?a.advertiserId:null,destinationUrl:a.destinationUrl,link:a.link,domain:a.domain}))return;let g={params:{clientTrackingParams:r,auxData:n,pinId:l,isThirdPartyAd:a?.isThirdPartyAd}},_=(0,i.A)();if(_?.experimentsClient.checkExperiment("web_ad_destination_url").anyEnabled&&a?.isPromoted&&m===a?.destinationUrl){fetch((0,d.A)(m,g),{redirect:"manual"}),(0,o.A)(m,!0);return}(0,c.A)(m,g)}}},675201(e,t,n){n.d(t,{A:()=>a});var i=n(479123);let r=["/BingSiteAuth.xml","/about","/add-account","/ads","/ads.txt","/age_verification","/all","/app-ads.txt","/apple-app-site-association","/apple-app-site-association.p7m","/attribution_source","/bot.html","/branded-pins","/browserbutton","/buy-it","/camera-sam-segmentation","/careers","/categories","/close-account","/collage-creation-tool","/color-seasons","/compare","/content-claiming","/convert-business","/convert-personal","/create-business","/create-personal","/creation-inspiration","/creator-onboarding-landing","/csrf_error","/ct.html","/deactivate-account","/deed6a3ef3a44d41bb3ae2bad137db84.txt","/developers","/discover","/edit","/email_verification_error","/engagement","/explore","/favicon.ico","/fb.html","/following","/getWebPushKey","/google_gdn.html","/google_search.html","/googlef5dc42d6e03f6e61.html","/guidedsearch","/help","/holidays-celebrations","/homefeed","/idea-ads-tool","/idea-pin-builder","/ideas","/image-proxy.html","/inbox","/install-shuffles","/invited","/jobs","/lens-sam-segmentation","/lens-search","/login","/logout","/manifest.json","/manifest.webapp","/me","/messages","/mobile","/notifications","/oauth","/app-factory-oauth","/appealed-pin","/oembed.json","/offline.html","/offsite","/opensearch.xml","/parent_contact_info","/parental-passcode","/pin-builder","/pin-creation-tool","/pin-editor","/pin_catalog","/pin_redirect","/pinterest-wellbeing","/pinterest-predicts","/pinterestlens","/pinterestlenstryon","/pinterestwellbeing","/policy","/example-tentpole-campaign-predicts2026","/product-catalogs","/public-beta","/quick-instant-loading-indicator-app-shell.html","/recently-viewed","/refresh_stored_accounts","/refresh_token","/report","/reports-and-violations","/request-ad-data","/request-data","/robots.txt","/safe-redirect","/search","/session_key","/settings","/shopping","/signup","/socialmanager","/story-pin-builder","/story_feed","/sw-shell.html","/sw.html","/sw.js","/switch_account","/terms","/today","/topics","/transparent.html","/unauth-profile","/unlink","/upload-image","/upload-lens-image-history","/upload-lens-image","/upload-profile-image","/upload-shuffle-draft","/upload-shuffle-image","/verified","/verify","/videos","/web-mentorship","/welcome","/windows-app-web-link","/your-shop"];function a(e){return!!(0,i.B6)({path:"/:username/",end:!0},e.pathname)&&!r.includes(e.pathname.replace(/\/$/,""))}},131321(e,t,n){function i(e,t){return t in e}n.d(t,{A:()=>i})},489929(e,t,n){n.d(t,{P:()=>i});let i="favorited"},58276(e,t,n){n.d(t,{A:()=>i});let i=(0,n(859471).createContext)(null)},621654(e,t,n){n.d(t,{A:()=>i});let i=(0,n(859471).createContext)(null)},91760(e,t,n){n.d(t,{A:()=>F});var i=n(61163),r=n(859471),a=n(445205),l=n(999459),o=n(17775),s=n(1807),d=n(323510),c=n(961105),u=n(88894),p=n(472723),h=n(749566),m=n(851116),g=n(366199),_=n(54240),f=n(161235),y=n(186707),x=n(504452),v=n(449344),b=n(844255),A=n(639650),w=n(81920),S=n(562615);let j=["initial_app_load","client_route_push"],k=(0,o.lo)("PwtSurface"),I="NavigationComplete",P="VisuallyComplete",E=()=>{(0,u.Kz)()},T=e=>{if(e.metricConfig.constraints.every(t=>e.constraintMap[t])){let t=Math.max(...e.metricConfig.constraints.map(t=>e.constraintMap[t]));return((e,t)=>{let{metricConfig:{metricId:n,pwtStaticContext:i,annotateExperiments:r},annotations:a,binaryAnnotations:o,constraintMap:d,startTime:p,imageTimings:h,spans:m,traceId:_}=e;(0,x.A)(`Report_PWT_Complete_${(0,l.u5)(n)}`,p,t);let f=(0,c.I)({annotateExperiments:[...r??[]],annotations:a,binaryAnnotations:o,constraintMap:d,endTime:t,imageTimings:h,metricId:n,pwtMeasures:(0,v.vs)(),pwtStaticContext:i,startTime:p,traceId:_,spans:m});try{var y;let e;y=String(f.binaryAnnotationMap["metricId.surface"].value),e=performance.getEntriesByType("resource").filter(e=>e.name.includes("i.pinimg")).reduce((e,t)=>{let n=t.name.replace(".jpg","").split("/");return{[n[n.length-1]]:{downloadSize:t.name.split("/")[3].split("x")[0]},...e}},{}),[...Array.from(document.getElementsByTagName("img")).map(t=>{let n=t.src.replace(".jpg","").split("/"),i=n[n.length-1];if(e[i]){let n=(0,g.d2)(t)?.width||1,r=parseInt(e[i].downloadSize??"0",10);return{fileName:i,renderedSize:n,downloadedSize:r,ratio:r/n}}return{fileName:i,renderedSize:1,downloadedSize:1,ratio:1}}),...Array.from(document.querySelectorAll('div[role="img"]')).map(t=>{let n=t.style.backgroundImage.split('"')[1].replace(".jpg","").split("/"),i=n[n.length-1];if(e[i]&&t instanceof HTMLDivElement){let n=(0,g.d2)(t)?.width||1,r=parseInt(e[i].downloadSize??"0",10);return{fileName:i,renderedSize:n,downloadedSize:r,ratio:r/n}}return{fileName:i,renderedSize:1,downloadedSize:1,ratio:1}})].forEach(e=>{let{ratio:t,fileName:n,downloadedSize:i}=e;e.ratio>1.05&&(0,s.DM)(`checkImageRatio.${y}`,{count:Math.round(10*t)/10,tags:{fileName:`${i}_${n}`}})})}catch(e){(0,s.vV)("image_ratio_check_error",{error:e})}return(0,u.Kz)(),{...e,result:f,status:"DONE"}})(e,t)}return k(`Remaining constraints: ${e.metricConfig.constraints.filter(t=>!e.constraintMap[t]).join(", ")}`),e},C=(e,t)=>{let{constraint:n,time:i}=t,r=(0,l.u5)(e.metricConfig.metricId);return f.A?e.metricConfig.constraints.find(e=>e===n)?e.constraintMap[n]?(k(`constraint "${n}" is already complete.`),(0,s.vV)("duplicated_constraint_complete",{constraint:n,action:r}),e):(k(`marking constraint "${n}" as complete ${i||performance.now()}`),i?(0,y.A)(`constraint_${n}_is_complete`,i):(0,y.A)(`constraint_${n}_is_complete`),T({...e,constraintMap:{...e.constraintMap,[n]:i||f.A.now()}})):(k(`marked constraint "${n}" is not a required constraint.`),e):((0,s.vV)("missing_window_performance",{action:r}),e)},z=new Set;function F({children:e,...t}){let n,o;(0,r.useEffect)(()=>{(0,i.A)("PwtSurface","/app/packages/pwt-logger/PwtSurface.tsx")},[]);let c=(0,h.A)(),g=(e=>{if(!e)return"initial_app_load";switch(e.action){case"PUSH":return"client_route_push";case"REPLACE":return"client_route_replace";default:return null}})(c),y=t.measureGridVisuallyComplete?["web_masonry_v2"]:[],x=[...t.annotateExperiments??[],...y],{context:v}=(({surface:e,constraints:t,segment:n,measureGridVisuallyComplete:i,annotateExperiments:o,customEnabledNavigationTypes:d,navigationInfo:{clientNavigation:c,navigationType:h},sampleRate:g})=>{var y;let x,v=(0,r.useRef)("NOT_SET"),S=(0,m.A)(),{getState:F,dispatch:R}=(y={status:"DISABLED",metricConfig:null},x=(0,r.useRef)(y),{getState:()=>x.current,dispatch:e=>{x.current=((e,t)=>{if(k("dispatch action",t),"INIT_ROUTE"===t.type)return((e,t)=>{let{metricConfig:n,startTime:i,isSampled:r,disablePWTLogging:a}=t;if(a||"TIMING"!==e.status||i===e.startTime||E(),!n)return{status:"DISABLED",metricConfig:null};let o=(0,l.u5)(n.metricId);if("TIMING"===e.status&&e.startTime===i&&e.constraintMap[I])return(0,s.vV)("duplicated_init_route_action",{action:o}),e;if(!a){let e=(0,A.q)();(0,s.DM)(`handler.${o}`,{tags:{handler:e}});let t=void 0!==n.metricId.isAuthenticated&&{tags:{isAuth:n.metricId.isAuthenticated}}||void 0;"Other"===n.pwtStaticContext.browserName&&!1===n.metricId.isAuthenticated&&"initial_app_load"===n.metricId.navigationType?((0,s.DM)(`TIMING.${o}`,{tags:{userAgent:window?.navigator?.userAgent}}),(0,s.DM)(`TIMING.sampled.${o}`,{tags:{userAgent:window?.navigator?.userAgent},sampleRate:.03})):((0,s.DM)(`TIMING.${o}`),(0,s.DM)(`TIMING.sampled.${o}`,{sampleRate:.03})),(0,p.S)({resultLog:`TIMING.${o}`,annotateExperiments:n.annotateExperiments||[],getExperimentGroup:n.pwtStaticContext.getExperimentGroup,options:t})}return C({traceId:(0,u.lo)()||(0,u.Ay)("initial_app_load"===n.metricId.navigationType,n.pwtStaticContext.getServerData()?.trace_id),status:"TIMING",metricConfig:n,startTime:i,constraintMap:{},annotations:{},binaryAnnotations:{},imageTimings:[],isSampled:r,spans:[]},{constraint:I,disablePWTLogging:a})})(e,t.payload);if("TIMING"!==e.status)return k(`ignoring action due to invalid state ${e.status}`,t),e;switch(t.type){case"ABORT":E();let n={type:"ABORT",reason:t.reason};return{...e,status:"DONE",result:n};case"ANNOTATE":let{name:i}=t.payload;if(!f.A)return e;let r=f.A.now();return k(`adding annotation {${i}: ${r}}`),{...e,annotations:{...e.annotations,...{[i]:r}}};case"BINARY_ANNOTATE":let{name:a,value:o,annotationType:d}=t.payload;return k(`adding binary annotation {${a}: ${o}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,...{[a]:{value:o,type:d}}}};case"MARK_CONSTRAINT_COMPLETE":return C(e,t.payload);case"REMOVE_CONSTRAINT":return((e,t)=>{if(!f.A){let t=(0,l.u5)(e.metricConfig.metricId);(0,s.vV)("missing_window_performance",{action:t})}k(`removing constraint "${t}"`);let n=e.metricConfig.constraints.filter(e=>e!==t),{[t]:i,...r}=e.constraintMap;return T({...e,constraintMap:r,metricConfig:{...e.metricConfig,constraints:n}})})(e,t.payload);case"SET_SEGMENT":var c=t.payload;if(!f.A){let t=(0,l.u5)(e.metricConfig.metricId);(0,s.vV)("missing_window_performance",{action:t})}k(`updating pwt segment to "${c}"`);let h={...e.metricConfig.metricId,segment:c};return{...e,metricConfig:{...e.metricConfig,metricId:h}};case"SET_VISUALLY_COMPLETE_RESULT":{let{payload:{imageTimings:n}}=t;if(0===n.length)return E(),{...e,status:"DONE",result:{type:"ABORT",reason:"visuallyComplete_noImages"}};let i=Math.max(...n.map(e=>e.responseEnd||0));return C({...e,imageTimings:n},{constraint:P,time:i})}case"ADD_SUBSPAN":let{startTime:m}=e,{payload:{name:g,startTime:y,endTime:x,annotations:v,binaryAnnotations:b,parentId:w}}=t;return{...e,spans:[...e.spans,{name:g,id:(0,_.A)(),startTime:y||m,endTime:x,annotationMap:{...v},binaryAnnotationMap:{...b},parentId:w}]};case"START_SUBSPAN":return{...e,spans:[...e.spans,{name:t.payload.name,id:(0,_.A)(),startTime:f.A?f.A.now():0,endTime:1/0,annotationMap:{...t.payload.annotations},binaryAnnotationMap:{...t.payload.binaryAnnotations},parentId:t.payload.parentId}]};case"STOP_SUBSPAN":let S=e.spans.findIndex(e=>e.name===t.payload.name);return S>-1?(e.spans[S].endTime=f.A?f.A.now():0,t.payload.annotations&&(e.spans[S].annotationMap={...e.spans[S].annotationMap,...t.payload.annotations}),t.payload.binaryAnnotations&&(e.spans[S].binaryAnnotationMap={...e.spans[S].binaryAnnotationMap,...t.payload.binaryAnnotations})):(0,s.vV)("invalid_subspan_stop_name",{name:t.payload.name}),e;default:let j=(0,l.u5)(e.metricConfig.metricId);return(0,s.vV)("invalid_pwt_surface_action",{action:j}),e}})(x.current,e)}}),O=(0,b._8)();if(v.current!==c&&(v.current=c,S)){let{isAuthenticated:r}=S,a=e&&h&&(d||j).includes(h)?{metricId:{type:"surface",surface:e,navigationType:h,isAuthenticated:r,segment:n},annotateExperiments:o,constraints:[I,...t||[],...i?[P]:[]],pwtStaticContext:S}:null;(0,w.GV)("webapp.pwt_surface.init_route",{tags:{surface:e,navigationType:h,isAuthenticated:r}});let l=!z.has(c);R({type:"INIT_ROUTE",payload:{metricConfig:a,startTime:c?c.time:0,isSampled:!g||Math.random()<g,disablePWTLogging:!l}}),l&&z.add(c)}let L=F();if((0,r.useEffect)(()=>()=>{z.delete(c)},[c]),(0,r.useEffect)(()=>{let e=e=>{R({type:"ABORT",reason:e})};a.A.onSessionPause(e);let t=window.innerHeight,n=window.innerWidth,i=()=>{let e=Math.abs(window.innerHeight-t),r=Math.abs(window.innerWidth-n),a=window.innerHeight!==t,l=window.innerWidth!==n,o={handler:(0,A.q)(),deviceType:S?.deviceType??"unknown",isAuthenticated:S?.isAuthenticated??"unknown",platform:O.userAgent.platform??"unknown"};((0,w.GV)("webapp.PwtLogger.handleResize",{sampleRate:1,tags:{...o,heightChanged:a,widthChanged:l}}),a&&(0,w.uI)("webapp.PwtLogger.resizeHeightDelta",e,{sampleRate:1,tags:o}),l&&(0,w.uI)("webapp.PwtLogger.resizeWidthDelta",r,{sampleRate:1,tags:o}),window.removeEventListener("resize",i),(S?.deviceType!=="phone"||(l||!a||!(e<=150))&&(a||l))&&(S?.deviceType!=="desktop"||a||l))?R({type:"ABORT",reason:"windowResized"}):(0,w.GV)("webapp.PwtLogger.skipResizeAbort",{sampleRate:1,tags:{...o,heightChanged:a,widthChanged:l}})};return window.addEventListener("resize",i),()=>{let t=F();k("handling unmount",t),"TIMING"===t.status&&E(),a.A.removePauseListener(e),window.removeEventListener("resize",i)}},[]),"TIMING"!==L.status||!L.constraintMap[I])return{state:L,context:null};let{startTime:M,metricConfig:B}=L;return{state:L,context:{abort:e=>R({type:"ABORT",reason:e}),addAnnotation:e=>R({type:"ANNOTATE",payload:{name:e}}),addBinaryAnnotation:(e,t,n)=>R({type:"BINARY_ANNOTATE",payload:{name:e,value:t,annotationType:n}}),addSubspan:(e,t,n,i={},r={},a=null)=>R({type:"ADD_SUBSPAN",payload:{name:e,startTime:t,endTime:n,annotations:i,binaryAnnotations:r,parentId:a}}),getId:()=>M,getMetricId:()=>B.metricId,markConstraintComplete:e=>R({type:"MARK_CONSTRAINT_COMPLETE",payload:{constraint:e,time:f.A?f.A.now():0}}),removeConstraint:e=>R({type:"REMOVE_CONSTRAINT",payload:e}),setSegment:e=>R({type:"SET_SEGMENT",payload:e}),setVisuallyCompleteResult:B.constraints.includes(P)?e=>R({type:"SET_VISUALLY_COMPLETE_RESULT",payload:e}):null,startSubspan:(e,t={},n={},i=null)=>R({type:"START_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:n,parentId:i}}),stopSubspan:(e,t={},n={},i=null)=>R({type:"STOP_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:n,parentId:i}})}}})({...t,annotateExperiments:x,navigationInfo:{navigationType:g,clientNavigation:c}});return o=!!(n=(0,d.Y)()),(0,r.useEffect)(()=>{if(o){let e=n?.getMetricId(),t=e?(0,l.u5)(e):null;(0,s.vV)("nested_pwt_surface",{action:t})}},[o]),(0,S.jsx)(d.n,{value:v,children:e})}},323510(e,t,n){n.d(t,{Y:()=>r,n:()=>i});let{Provider:i,getMaybe:r}=(0,n(987628).A)("pwtSurfaceContext")},749566(e,t,n){n.d(t,{A:()=>a});var i=n(859471),r=n(58276);function a(){return(0,i.use)(r.A)}},851116(e,t,n){n.d(t,{A:()=>a});var i=n(859471),r=n(621654);function a(){return(0,i.use)(r.A)}},707390(e,t,n){n.d(t,{A:()=>i});let i=e=>{switch(e){case"BR":case"MX":case"AR":case"CL":case"CO":return"LatAm";case"US":return"US";default:return"OTHER"}}},164221(e,t,n){n.d(t,{A:()=>s,p:()=>o});var i=n(61163),r=n(859471),a=n(19821),l=n(562615);let o=({fill:e})=>{(0,r.useEffect)(()=>{(0,i.A)("RatingStars","/app/packages/recipe-star-components/RatingStars.tsx")},[]);let t="half"===e?(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)(a.az,{position:"absolute",children:(0,l.jsx)(a.In,{accessibilityLabel:"","aria-hidden":!0,color:"default",icon:"star-half-fill",size:15})}),(0,l.jsx)(a.In,{accessibilityLabel:"",color:"subtle",icon:"star-fill",size:15})]}):(0,l.jsx)(a.In,{accessibilityLabel:"","aria-hidden":!0,color:"full"===e?"default":"subtle",icon:"star-fill",size:15});return(0,l.jsx)(a.az,{dangerouslySetInlineStyle:{__style:{marginRight:"3px"}},"data-test-id":`rating-star-${e}`,display:"inlineBlock",children:t})};function s({max_rating:e,rating:t,display:n}){var s;if((0,r.useEffect)(()=>{(0,i.A)("RatingStars","/app/packages/recipe-star-components/RatingStars.tsx")},[]),!t)return null;let d=[],c=parseFloat(e||"5"),u=5*(s=(s=parseFloat(t)||0)<=c?s:c)/c;if(Number.isNaN(u))return null;let p=Math.floor(u),h=u-p;return[...Array(p).keys()].forEach(e=>d.push((0,l.jsx)(o,{fill:"full"},e))),h>=.75?d.push((0,l.jsx)(o,{fill:"full"},d.length)):h>=.25&&d.push((0,l.jsx)(o,{fill:"half"},d.length)),[...Array(5-d.length).keys()].forEach(()=>d.push((0,l.jsx)(o,{fill:"empty"},d.length))),(0,l.jsx)(a.az,{"aria-label":`Rating ${String(u)} stars out of 5`,"data-test-id":"rating-stars",display:n?"flex":"inlineBlock",position:"relative",role:"img",width:18*c,children:d})}},499195(e,t,n){function i(e){let t;if(!e)return null;let n=e?.url;return Array.isArray(e?.params)?t=e?.params:Object.entries(t={...e?.params??{}}).forEach(([e,i])=>{n?.includes(`{${e}}`)&&(n=n?.replaceAll(`{${e}}`,String(i)),delete t[e])}),{name:"ApiResource",options:{url:n,data:t,...e?.method==="POST"?{postInsteadOfGet:!0}:{}},enabledRouteRefresh:e?.enabledRouteRefresh,headers:e?.headers,noCache:e?.noCache,schema:e?.schema}}n.d(t,{A:()=>i})},31913(e,t,n){n.d(t,{A:()=>a});var i=n(499195),r=n(430705);function a(e){return(0,r.A)((0,i.A)(e))}},161916(e,t,n){n.d(t,{A:()=>d});var i=n(859471),r=n(106386),a=n(810972),l=n(212244),o=n(120649);let s=(e,t,n)=>e.resources[t]?.[n];function d(e){let{name:t,optionsKey:n}=e??{name:"",optionsKey:""},d=t===l.W,c=(0,o.uN)(),u=c?.get(t,n);if(u)throw u;let p=(0,a.createSelector)(e=>s(e,t,n),e=>e?.data),h=(0,a.createSelector)(e=>s(e,t,n),e=>e?.auxData),m=(0,a.createSelector)(e=>s(e,t,n),e=>e?.error),g=(0,a.createSelector)(e=>s(e,t,n),e=>e?.nextBookmark),_=(0,r.d4)(g),f=(0,r.d4)(p),y=(0,r.d4)(h),x=(0,r.d4)(m),v=(0,i.useRef)({auxData:void 0,data:void 0,error:void 0,isAtEnd:!1,nextBookmark:void 0});if(d)return v.current;let b={auxData:y,data:f,error:x,isAtEnd:"-end-"===_,nextBookmark:_};return(b.auxData!==v.current.auxData||b.data!==v.current.data||b.error!==v.current.error||b.isAtEnd!==v.current.isAtEnd||b.nextBookmark!==v.current.nextBookmark)&&(v.current=b),v.current}},75840(e,t,n){n.d(t,{A:()=>a});var i=n(212244),r=n(734509);function a(e){let{enabledRouteRefresh:t,headers:n,name:a,noCache:l,options:o,schema:s}=e??{name:i.W,options:null},d=!e,{fetchResource:c,ref:u,fetchMore:p,isFetching:h,isLoaded:m,isRefreshing:g,refresh:_}=(0,r.A)({enabledRouteRefresh:t,headers:n,name:a,noCache:l,options:o,schema:s},d,!1);return d||c(),{ref:u,fetchMore:p,isFetching:h,isLoaded:m,isRefreshing:g,refresh:_}}},485321(e,t,n){n.d(t,{A:()=>i});let i=(0,n(859471).createContext)("u">typeof window?window:null)},306618(e,t,n){n.d(t,{A:()=>r});var i=n(365910);function r(e){let{enteredQuery:t,filters:n,guideAdded:r,query:a,requestParams:l,rs:o,scope:s,selectedOneBarModules:d,user:c,inlineSuggestion:u,multimodalPinId:p}=e;if(!a)return"/";let h={q:a,rs:o,...l};if(n&&(h.filters=n),c&&(h.user=c),d&&(h.selected_one_bar_modules=d),r&&r.term&&(h.add_refine=`${r.term}|guide|word|${r.index}`),t&&(h.entered_query=t),u&&(h.inline_suggestion=u),p&&(h.query_image_pins=p),window.location.pathname.startsWith("/explore"))return`/search/pins/?${(0,i.A)(h)}`;let m=s;return["pins","buyable_pins","my_pins","boards","users","videos"].includes(m??"")||(m="pins"),m?`/search/${m}/?${(0,i.A)(h)}`:`${window.location.pathname}?${(0,i.A)(h)}`}},609805(e,t,n){n.d(t,{A:()=>r});var i=n(803489);function r(e){let t,n=(0,i.A)(e.search)||{};if(n.q){let n=e.pathname.split("/");t=n.length>2?n[2]:"pins"}if(n.q&&t){let e=Array.isArray(n.q)?n.q.join(" "):n.q,i=Array.isArray(n.rs)?"":n.rs,r=Array.isArray(n.user)?"":n.user;return{filters:n.filters||"",user:r,query:e||"",queryImagePins:n.query_image_pins,rs:i||"",scope:"pins"===t||"buyable_pins"===t||"my_pins"===t||"boards"===t||"users"===t||"videos"===t?t:"pins"}}return{filters:"",user:"",query:"",queryImagePins:void 0,rs:"",scope:"pins"}}},144972(e,t,n){n.d(t,{A:()=>a});var i=n(326550),r=n(365910);function a({bubbleId:e,pinId:t,query:n,referringSource:a,storyCategory:l,storyId:o,title:s}){let d=void 0!==l&&[0,24,21,26].includes(l),c=(0,r.A)({q:n,rs:a||void 0,b_id:e,source_id:o,top_pin_ids:t}),u=d&&s?(0,i.k)({title:s,id:e,articleType:"discover"}):`/discover/article/${e}/`;return d?u:`/search/pins/${c?"?"+c:""}`}},813985(e,t,n){n.d(t,{n1:()=>s,hr:()=>o});var i=n(598948),r=n(636032),a=n(890922),l=n(998556);function o({searchParams:e,sourceUrl:t,isDesktop:n,isAuthenticated:i,appliedUnifiedFilters:r}){let{autoCorrectionDisabled:a,bubbleId:l,category:o,currentlyAppliedFiltersParamTerm:s,domains:c,guidedSearchQuery:u,inGlobalSearch:p,journeyDepth:h,personalizationPinSig:m,priceMax:g,priceMin:_,query:f,queryImagePins:y,requestParams:x,rs:v,scope:b,selectedOneBarModules:A,sourceId:w,sourceModuleId:S,topPinIds:j,user:k}=e;return function(e){let{selectedOneBarModules:t,currentlyAppliedFiltersParamTerm:n,personalizationPinSig:i,inGlobalSearch:r,appliedUnifiedFilters:a,initialCategory:l,initialDomains:o,initialMaxPrice:s,initialMinPrice:c,isDuplo:u,...p}=e,h=t?.split(","),m={...p,filters:n,selectedOneBarModules:h,selectedPinImgSig:i};if(r)return d(m);let g={...m,appliedUnifiedFilters:a,appliedProductFilters:function({category:e,domains:t,maxPrice:n,minPrice:i}){return[e,t,n,i].map(e=>e??"").join("-")}({category:l,domains:o,maxPrice:s,minPrice:c})};return u&&(g.domains=o,g.priceMax=s?parseInt(s,10):void 0,g.priceMin=c?parseInt(c,10):void 0),d(g)}({appliedUnifiedFilters:r,autoCorrectionDisabled:a,bubbleId:l,currentlyAppliedFiltersParamTerm:s,guidedSearchQuery:u,inGlobalSearch:p,initialCategory:o,initialDomains:c,initialMaxPrice:g,initialMinPrice:_,isDuplo:!i||!n,journeyDepth:h,personalizationPinSig:m,query:f,queryImagePins:y,requestParams:x,rs:v,scope:b,selectedOneBarModules:A,sourceId:w,sourceModuleId:S,sourceUrl:t,topPinIds:j,user:k})}function s({appliedProductFilters:e,applied_unified_filters:t,auto_correction_disabled:n,filters:i,journey_depth:r,query:a,rs:l,scope:o,selected_one_bar_modules:s,query_image_pins:d,query_pin_sigs:c,source_id:u,source_module_id:p,top_pin_ids:h,user:m}){let g=[e,i,r,a,l,o,s,d,c,u,p,t,h,m].map(e=>e??"").join(":");return n?"auto-correction-disabled:"+g:g}function d(e){return{name:"BaseSearchResource",options:(e=>{let{query:t="",scope:n="pins",appliedUnifiedFilters:o=null,appliedProductFilters:s=null,filters:d=null,domains:c=null,priceMax:u=null,priceMin:p=null,rs:h=a.I.DIRECT_NAVIGATION,journeyDepth:m=null,sourceId:g=null,sourceModuleId:_=null,sourceUrl:f=null,selectedOneBarModules:y=null,selectedPinImgSig:x=null,user:v=null,autoCorrectionDisabled:b=!1,seoDrawerEnabled:A=!1,bubbleId:w=null,pageSize:S=null,queryImagePins:j=null,requestParams:k=null,topPinIds:I=null}=e,P="u">typeof window?(0,l.y1)().getItem("pwt_performance_testing"):null,E=f&&f.includes("pwt_performance_testing"),T=!!(!0===P||"true"===P||E);return{query:t,scope:n,appliedProductFilters:s,domains:c,user:v,seoDrawerEnabled:A,applied_unified_filters:o,auto_correction_disabled:b,journey_depth:m,source_id:g,source_module_id:_,source_url:function(e){if(!e)return"";let t=new Set,n=e.split("?")[1];n&&n.split("&").forEach(e=>{e.includes("=")||t.add(e)});let{directory:a,queryKey:l}=(0,i.A)((0,r.A)(e,["request_params"])),o=Object.keys(l).sort().map(e=>t.has(e)?e:`${e}=${l[e]}`).join("&");return o?`${a}?${o}`:a}(f),static_feed:T,selected_one_bar_modules:y,query_pin_sigs:x,page_size:S,price_max:u,price_min:p,query_image_pins:j,request_params:k,top_pin_ids:I,article:w,corpus:x?"personalize":null,customized_rerank_type:x?"manas_graph_sage_only_wand_rewrite":null,filters:d,rs:h,redux_normalize_feed:!0}})({...e,autoCorrectionDisabled:!!e.autoCorrectionDisabled})}}},733048(e,t,n){n.d(t,{A:()=>i});function i(e){switch(e){case -1:return null;case 0:return"shopping-bag";case 1:return"tag";case 9:return"clock-history";default:return"magnifying-glass"}}},57926(e,t,n){n.d(t,{A:()=>i});function i(e,t=80,n="",r=!1){let a;if(!e)return"";if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t]||r)a=e.substring(0,t);else{let n=e.lastIndexOf(" ",t);a=e.substring(0,n)}return(a=a.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""))+n}},5302(e,t,n){function i(e,t){let n=t?.separateNumbers?/([A-Z]|\d)/g:/([A-Z])/g;return e.replace(n,(e,t)=>"_"+t.toLowerCase())}n.d(t,{A:()=>i})},319571(e,t,n){n.d(t,{A:()=>y});var i=n(61163),r=n(859471),a=n(19821),l=n(662449),o=n(766675),s=n(844255),d=n(274638),c=n(284300),u=n(697294),p=n(809799),h=n(699613),m=n(562615);function g(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _ extends r.Component{constructor(e){super(e),g(this,"componentWillUnmount",()=>{this.unregisterComponent()}),g(this,"getContext",()=>{let{clientTrackingParams:e,component:t,element:n,objectId:i,timeSpentContext:r,view:a,viewParameter:l}=this.props;return{view:a||r?.view,viewParameter:l||r?.viewParameter,component:t||r?.component,element:n,objectId:i||r?.objectId,clientTrackingParams:e||r?.clientTrackingParams,getParentUuid:()=>this.getUuid(),getGrandparentUuid:()=>this.getParentId()}}),g(this,"getLoggerContext",()=>{let e={...this.getContext()};return delete e.getParentUuid,e}),g(this,"getParentId",()=>{let{timeSpentContext:e,shouldUseGrandparentId:t=!1}=this.props;if(t&&e&&e.getGrandparentUuid){let t=e.getGrandparentUuid();if(t)return t}return e?.getParentUuid?.()}),g(this,"getUuid",()=>this.state.timedPair?this.state.timedPair.uuid:void 0),g(this,"getTimedPair",()=>this.state.timedPair),g(this,"setTimedPair",(e,t)=>{this.setState({timedPair:e},()=>{t&&t()})}),g(this,"isRegistered",!1),g(this,"registerComponent",()=>{this.props.timeSpentManager.registerComponent(this),this.isRegistered=!0}),g(this,"unregisterComponent",()=>{this.isRegistered&&(this.props.timeSpentManager.unregisterComponent(this),this.isRegistered=!1)}),g(this,"handleVisibilityChange",e=>{let{intersectionRatio:t}=e[0],{bottom:n,left:i,right:r,top:a}=e[0].intersectionRect;t>0?this.registerComponent():0===t&&(0===n&&0===i&&0===r&&0===a?this.unregisterComponent():this.registerComponent())}),this.state={timedPair:new u.A(this.getLoggerContext())}}componentDidUpdate(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,d.A)(e.auxData,this.props.auxData)&&(0,d.A)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}render(){let{children:e,intersectionObserverBoxHeight:t}=this.props;return(0,m.jsx)(p.I,{value:this.getContext(),children:(0,m.jsx)(o.A,{onVisibilityChange:this.handleVisibilityChange,options:{threshold:0},children:n=>(0,m.jsx)(a.az,{ref:n,height:t??"100%",children:r.Children.only(e)})})})}componentDidMount(){(0,i.A)("DeprecatedTimeSpent","/app/packages/time-spent/DeprecatedTimeSpent.tsx")}}function f(e){let t=(0,l.qD)(),n=(0,p.J)(),i=(0,c.A)(),a=(0,h.Vk)(),{requestIdentifier:o=""}=(0,s._8)(),d={app_instance_id:o.slice(0,8),...e.auxData??{}};return(0,r.useEffect)(()=>{i?.setHistoryStackContext(t)},[t,i]),(0,r.useEffect)(()=>{i?.setPins(a??{})},[a,i]),i?(0,m.jsx)(_,{...e,auxData:d,timeSpentContext:n,timeSpentManager:i,children:e.children}):e.children}f.displayName="DeprecatedTimeSpent";let y=f},809799(e,t,n){n.d(t,{I:()=>i,J:()=>r});let{Provider:i,getMaybe:r}=(0,n(987628).A)("timeSpentContext")},697294(e,t,n){n.d(t,{A:()=>o,w:()=>l});var i=n(679902),r=n(763041);function a(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let l="u">typeof window&&window.performance&&window.performance.now?()=>Math.floor((window.performance.timeOrigin+window.performance.now())*1e6):()=>1e6*Date.now(),o=class{constructor(e){a(this,"start",()=>(this.startTime=l(),this.startTime)),a(this,"end",()=>(this.endTime=l(),this.duration=this.startTime?this.endTime-this.startTime:null,this.duration));try{this.uuid=(0,i.A)()}catch(e){this.uuid=(0,r.A)()}e&&Object.assign(this,e)}}},284300(e,t,n){n.d(t,{A:()=>a,q:()=>i});let{Provider:i,getMaybe:r}=(0,n(987628).A)("TimeSpentManagerContext"),a=r},67765(e,t,n){n.d(t,{A:()=>s});var i=n(859471),r=n(979638),a=n(115795),l=n(675201),o=n(752159);function s(){let e=(0,r.zy)();return(0,i.useCallback)(({action:t,item:n,within:i,tags:r={}})=>{let s=(0,a.dM)(e)?"pin":(0,a.iK)(e)?"board":(0,a.BG)(e)?"login":(0,a.fF)(e)?"home":(0,l.A)(e)?"profile":(0,a.Jw)(e)?"ideas":(0,a.nV)(e)?"ideas-root":(0,a.os)(e)?"videos":(0,a._N)(e)?"videos-category":(0,a.L0)(e)?"article":(0,a.GA)(e)?"shopping-spotlight":(0,a.H9)(e)?"today":(0,a.uD)(e)?"unauth-profile":(0,a.a$)(e)?"shopping-root":(0,a.kU)(e)?"shopping-category":"other";(0,o.PM)(`logged_out_product.interaction.${s}.${t}`,{item:n||"none",within:i||"none",...r})},[e])}},721268(e,t,n){n.d(t,{A:()=>o});var i=n(61163),r=n(859471),a=n(19821),l=n(562615);function o({ariaHidden:e=!1,color:t,size:n}){return(0,r.useEffect)(()=>{(0,i.A)("Dot","/app/packages/ui/Dot.tsx")},[]),(0,l.jsx)("span",{"aria-hidden":e,style:{padding:"0 4px"},children:(0,l.jsx)(a.KJ,{color:t,inline:!0,size:n??"200",children:""})})}},583471(e,t,n){n.d(t,{A:()=>i});let i=e=>e?"string"==typeof e?e:e.pathname?e.pathname:"":""},894986(e,t,n){n.d(t,{A:()=>r});var i=n(307079);let r=({url:e})=>{if(e){let t=e.split("?");if(t[1])return(0,i.A)(t[1])}return(0,i.A)()}},563013(e,t,n){n.d(t,{A:()=>r});var i=n(336683);let r=({url:e})=>{let t=(0,i.A)("/");return 0===e.lastIndexOf(t,0)?e.substr(t.length-1):e}},917348(e,t,n){n.d(t,{A:()=>o});var i=n(859471);let r=()=>()=>{},a=()=>!1,l=()=>!0,o=()=>(0,i.useSyncExternalStore)(r,a,l)},287803(e,t,n){n.d(t,{A:()=>o});var i=n(859471);let r=new Map,a=null,l=e=>{e.forEach(e=>{let t=r.get(e.target);t&&t(e)})};function o({onVisibilityChanged:e,trackFullVisible:t,rootMargin:n}){let o=(0,i.useRef)(null),s=!1,d=()=>{let t;o.current instanceof HTMLElement&&(t=o.current,r.has(t))&&s&&(e(!1),s=!1)},c=(0,i.useCallback)(n=>{o.current instanceof HTMLElement&&((e,t="-64px 0px 0px 0px",n)=>{let i={root:"u"<typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:[0,.5,1]};a=a||new window.IntersectionObserver(l,i),r.set(e,n),a.observe(e)})(o.current,n,n=>{if(!r.has(o.current))return;let i=t?n.intersectionRatio>=1:n.intersectionRatio>=.5,a=t?0===n.intersectionRatio:!i;!s&&i?(s=n.intersectionRatio>0||n.isIntersecting)&&e(!0):s&&a&&d()})},[o.current]);return(0,i.useEffect)(()=>(c(n),()=>{if(o.current instanceof HTMLElement){var e;d(),e=o.current,a.unobserve(e),r.delete(e)}}),[c]),o}},696721(e,t,n){n.d(t,{G:()=>i,o:()=>r});let i=Object.freeze({DEFAULT:0,LOAD_START:1,LOADED_METADATA:2,LOADED_DATA:3,PLAYING:4,PAUSED:5,SEEKING:6,STALLING:7,FAILED:8,ENDED:9}),r=Object.freeze({MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4})},637747(e,t,n){n.d(t,{A:()=>a});var i=n(257300),r=n(487541);function a(e,t){let{auxData:n,clientTrackingParams:a,hasPin:l,pinId:o,isThirdPartyAd:s}=t||{},d={pin_id:o||void 0,check_only:!0,client_tracking_params:l&&a||void 0,url:e,aux_data:JSON.stringify(n)};s&&(d.third_party_ad=o||void 0,delete d.pin_id),(0,i.A)({url:"/v3/offsite/",data:d}).then(t=>{if(t&&t.resource_response&&!t.resource_response.error){let{resource_response:e}=t,{redirect_status:n,url:i}=e.data;if(!["blocked","suspicious","porn"].includes(n||"")){if(window.Windows.Foundation&&window.Windows.System&&window.Windows.System.Launcher&&window.Windows.System.Launcher.launchUriAsync){let e=new window.Windows.Foundation.Uri(i||"");window.Windows.System.Launcher.launchUriAsync(e)}return}}(0,r.A)(e,{params:l?{pinId:o,clientTrackingParams:a,auxData:n,isThirdPartyAd:s}:{pinId:o}})})}},17964(e,t,n){n.d(t,{K:()=>_,C:()=>f});var i=n(859471),r=n(987628),a=n(693154),l=n(430705),o=n(39165),s=n(401691),d=n(484409),c=n(307424);let u=e=>{let t={};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&("object"!=typeof e[n]||null===e[n]||Array.isArray(e[n])?t[(0,c.A)(n)]=e[n]:t[(0,c.A)(n)]=u(e[n]));return t},p={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},h=(e,t)=>{switch(t.type){case"LOAD_PROFILES":return{...e,profiles:t.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:t.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:t.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:t.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:t.payload};default:return e}};var m=n(562615);let{Provider:g,getMaybe:_}=(0,r.A)("RoleBasedAccessControlContext"),f=({children:e})=>{let t=(0,a.A)(),n=!!(t.isAuth&&t.isPartner),{state:r,actions:c,receiveProfiles:_}=(e=>{let[t,n]=(0,i.useReducer)(h,p),r=(({dispatch:e,isEnabled:t,state:n})=>{let{orbacVisibility:r,disableProfileChanger:a,headerVisible:l}=n,o=(0,i.useCallback)(n=>{t&&e({type:"SET_ACTIVE_PROFILE",payload:n})},[t,e]);return{changeProfile:o,toggleORBACVisibility:(0,i.useCallback)(n=>{t&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:n??!r})},[t,e,r]),toggleDisableProfileChanger:(0,i.useCallback)(n=>{t&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:n??!a})},[t,e,a]),toggleHeaderVisibility:(0,i.useCallback)(n=>{t&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:n??!l})},[t,e,l])}})({dispatch:n,isEnabled:e,state:t}),{activeProfile:a,orbacVisibility:l}=t;return(0,i.useEffect)(()=>{let e=(0,d.V2)().getItem(s.b6)||!1;e&&n({type:"SET_ACTIVE_PROFILE",payload:e})},[]),(0,i.useEffect)(()=>{let e=(0,d.V2)().getItem(s.t5)||!1;e&&n({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})},[]),(0,i.useEffect)(()=>{(0,d.V2)().setItem(s.t5,l)},[l]),(0,i.useEffect)(()=>{(0,d.V2)().setItem(s.b6,a)},[a]),{state:t,actions:r,receiveProfiles:(0,i.useCallback)((e,t)=>{n({type:"LOAD_PROFILES",payload:((e,t)=>{let n=[];for(let i in e)i!==t&&n.push({id:i,...u(e[i])});let i=n.sort(({user:{businessName:e}},{user:{businessName:t}})=>e.localeCompare(t)),r=new Map;for(let e of i)r.set(e.id,e);return r})(e,t)})},[n])}})(n),{activeProfile:f,headerVisible:y,profiles:x}=r,v=(0,i.useMemo)(()=>x?Array.from(x.values()):[],[x]),b=(0,o.A)(v),A=!!t.isAuth&&v.length>0&&b,w=t.isAuth?t.id:"",S=t.isAuth?t.username:"",{changeProfile:j,toggleORBACVisibility:k,toggleDisableProfileChanger:I,toggleHeaderVisibility:P}=c;(0,i.useEffect)(()=>{!n||("string"==typeof b?j(b):f||j(w))},[b,w,n,j,f]),(0,i.useEffect)(()=>{n&&(A&&!y&&P(!0),!A&&y&&P(!1))},[P,A,n,y,x]);let{data:E}=(0,l.A)(n?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null),T=E?.profiles,C=(0,i.useMemo)(()=>t&&t.isAuth&&f===t.id?{id:t.id,permissions:["OWNER"],user:{username:S,businessName:t.fullName,imgUrl:t.imageSmallUrl}}:f&&x?x.get(f):void 0,[f,x,t,S]);(0,i.useEffect)(()=>{T&&_(T,w)},[_,T,w]);let z=(0,i.useMemo)(()=>({profiles:v,headerVisible:y,activeProfile:C,changeProfile:j,toggleORBACVisibility:k,toggleDisableProfileChanger:I,toggleHeaderVisibility:P}),[v,y,C,j,k,I,P]);return(0,m.jsx)(g,{value:z,children:e})}},870540(e,t,n){n.d(t,{A:()=>s});var i=n(859471),r=n(601185),a=n(17964),l=n(39165);let o=Object.freeze({}),s=()=>{let{checkExperiment:e}=(0,r.A)(),t=(0,a.K)(),{activeProfile:n}=t||{},s=(0,l.A)(t?.profiles||[]),{anyEnabled:d}=e("useorbacroutematcher_in_useorbacactingas");return(0,i.useMemo)(()=>d&&!s?o:n&&(n.viewerMeetsMfaRequirement||(n.permissions||[]).includes("OWNER"))?n:o,[d,s,n])}},39165(e,t,n){n.d(t,{A:()=>o});var i=n(979638),r=n(693154),a=n(115795),l=n(699613);let o=e=>{let t=(0,i.zy)(),n=(0,r.A)(),o=(0,l.HR)(),s=(0,i.RQ)("/:username"),d=(0,i.RQ)("/:username/*"),c=(s||d)?.params?.username,u=(0,i.RQ)("/pin/:id"),p=(0,i.RQ)("/pin/:id/*"),h=u||p,m=!!h?.params?.id&&o(h.params.id)?.pinner?.id;if((0,a.vo)(t))return!1;if((0,a.Ir)(t)||(0,a.VX)(t))return!0;let g=[...e,...n.isAuth?[{user:{username:n.username},id:n.id}]:[]].find(e=>{if(!e)return!1;let{user:t,id:n}=e;return(!!t&&"username"in t&&!!t.username&&!!c||!!m&&!!n)&&(t.username===c||m===n)});return!!g&&g.id}},847753(e,t,n){n.d(t,{D9:()=>p,EL:()=>l,EQ:()=>s,H7:()=>o,Hs:()=>c,Nn:()=>u,Qp:()=>a,TO:()=>r,if:()=>h,uF:()=>i,wf:()=>d});let i=(e,t)=>{let n=e&&e.isAuth?e.fullName:"";return e&&t&&t.user&&t.user.businessName&&(n=t.user.businessName),n},r=(e,t)=>{let n=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(n=t.user.username),n},a=(e,t)=>{let n=e&&e.isAuth?e.imageMediumUrl:"";return e&&t&&t.user&&t.user.imgUrl&&(n=t.user.imgUrl),n},l=(e,t)=>!!(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool),o=(e,t)=>e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:"",s=(e,t,n)=>n&&n.user&&t&&t.isAuth&&n.id!==t.id?n.user.merchantId:e.advertiser?.merchant_id,d=(e,t,n)=>n&&n.user&&e.isAuth&&n.id!==e.id?n.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0,c=(e,t,n)=>!!(e&&e.isAuth&&n&&n.id&&n.id!==e.id&&n.id===t),u=(e,t,n)=>!!(c(e,t,n)||e&&e.isAuth&&t===e.id),p=(e,t,n)=>u(e,t&&t.owner&&t.owner.id||"",n);function h(e,t,n){return u(e,t?t.id:"",n)}},136897(e,t,n){n.d(t,{A:()=>g});var i=n(61163),r=n(859471),a=n(106386),l=n(19821),o=n(729617),s=n(586733),d=n(932369),c=n(464498),u=n(989457),p=n(693154),h=n(287803),m=n(562615);function g({isFullWidth:e,actionType:t,buttonAction:n,buttonText:g,experience:_,hideCompleteButton:f,imageAlt:y,imageUrl:x,openNewTab:v,avatarImageDetails:b,examplePinImage:A,titleText:w,titleTextColor:S,titleTextCustomization:j,descriptionText:k,descriptionTextCustomization:I}){(0,r.useEffect)(()=>{(0,i.A)("AuthInFeedChecklistEdu","/app/www/AuthInFeedChecklistEdu.tsx")},[]);let{logContextEvent:P}=(0,s.o)(),E=(0,d.Hy)(),T=(0,d.Dz)(),C=(0,p.A)(),z=C.isAuth?C?.avatar_color_index:void 0,F=0===t?3833:1===t?3834:2===t?3835:null,R=(0,a.wA)(),{experience_id:O,placement_id:L}=_||{},M=(0,h.A)({onVisibilityChanged:e=>{e&&_&&void 0!==L&&void 0!==O&&(_.status="viewed",P({event_type:13,view_type:612,view_parameter:F}),R(T(L,O,!1,!0)))}}),{width:B}=(0,o.A)()||{width:8},D=B-8,N=(0,c.KU)(B),K=D*N,U=.65===N||.4===N,{url:$,full_name:H}=b||{},V=K*c.r4,{url:W}=A||{},q=W?K*c.r4:0,G=W?c.yv*q:0,{color:Y,fontStyle:J,fontWeight:Q,horizontalAlignment:X,fontSize:Z}=(0,c.R2)(j||{},"mweb"),{color:ee,fontStyle:et,fontWeight:en,horizontalAlignment:ei,fontSize:er}=(0,c.R2)(I||{},"mweb");return(0,m.jsx)(l.az,{ref:M,marginBottom:2,padding:1,position:"relative",children:(0,m.jsxs)(l.az,{color:e?"default":"education",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)",backgroundColor:e?"#003441":"education"}},paddingX:2,paddingY:4,position:"relative",rounding:400,children:[e&&x&&$&&(0,m.jsx)(l.az,{height:K,width:D,children:(0,m.jsx)(l._V,{alt:y||w||"",color:"rgb(111, 91, 77)",fit:"cover",naturalHeight:K,naturalWidth:D,src:x,children:(0,m.jsx)(l.az,{paddingY:$?12:3,children:(0,m.jsxs)(l.so,{alignItems:"center",direction:"column",flex:"grow",gap:2,justifyContent:"center",width:"100%",children:[H&&$&&(0,m.jsx)(l.az,{height:V,width:V,children:(0,m.jsx)(u.eu,{color:z,name:H,size:"fit",src:$})}),(0,m.jsx)(l.KJ,{align:X,color:S,italic:"italics"===J,weight:Q,children:(0,m.jsx)(l.az,{dangerouslySetInlineStyle:{__style:{color:(Y||S)??void 0,fontSize:U?"36px":Z}},children:w})}),(0,m.jsx)(l.KJ,{align:ei,italic:"italics"===et,weight:en,children:(0,m.jsx)(l.az,{dangerouslySetInlineStyle:{__style:{color:ee??void 0,fontSize:U?"28px":er}},paddingX:12,children:k})})]})})})}),(!e||e&&W)&&(0,m.jsxs)(l.so,{alignItems:"center",direction:"column",flex:"grow",gap:2,justifyContent:"center",children:[A&&W&&(0,m.jsx)(l.az,{paddingY:4,children:(0,m.jsx)(l.n1,{height:q,rounding:400,width:G,children:(0,m.jsx)(l._V,{alt:"Your first saved Pin",fit:"cover",naturalHeight:q,naturalWidth:G,src:W})})}),(0,m.jsx)(l.KJ,{align:X,color:S,italic:"italics"===J,weight:Q,children:(0,m.jsx)(l.az,{dangerouslySetInlineStyle:{__style:{color:(Y||S)??void 0,fontSize:U&&e?"28px":Z}},children:w})}),k&&I&&(0,m.jsx)(l.az,{paddingX:2*!!e,paddingY:0,children:(0,m.jsx)(l.KJ,{align:ei,italic:"italics"===et,weight:en,children:(0,m.jsx)(l.az,{dangerouslySetInlineStyle:{__style:{color:ee??void 0,fontSize:U&&e?"28px":er}},children:k})})}),!f&&(0,m.jsx)(l.so.Item,{alignSelf:"center",children:(0,m.jsx)(l.az,{marginBottom:4*!!e,marginTop:2,children:(0,m.jsx)(l.vx,{accessibilityLabel:g,color:"tertiary",href:n,onClick:()=>{_&&(P({event_type:102,view_type:612,view_parameter:F}),R(E(L,O,!1,!0)))},size:"md",target:v?"blank":null,text:g})})})]})]})})}},259490(e,t,n){n.d(t,{A:()=>j,d:()=>S});var i,r=n(61163),a=n(859471),l=n(974934);n(669897);var o=n(19821),s=n(743372),d=n(535273),c=n(538329),u=n(601185),p=n(844255),h=n(971289),m=n(168079),g=n(522232),_=n(562615);function f({action:e,viewType:t,auxData:n={}}){(0,a.useEffect)(()=>{(0,r.A)("ButtonLinkAction","/app/www/ContentSensitivity/ButtonLinkAction.tsx")},[]);let i=(0,s.A)(),l=(0,h.qJ)(),{button:d}=e,c=d?.text||"",u=d?.link||"";return c&&u?(0,_.jsx)(o.vx,{href:u,iconEnd:"arrow-up-right",onClick:()=>{(0,g.rt)({logContextEvent:i,auxData:{url:u,...n},isDesktop:l,viewType:t})},target:l?"blank":"self",text:c}):null}let y={0:"phone",1:"speech-ellipsis",2:"speech",3:"globe",4:"whatsapp",5:"magnifying-glass"};function x({button:e,contactType:t,viewType:n,auxData:i={},viewParameter:l}){(0,a.useEffect)(()=>{(0,r.A)("CustomActionLink","/app/www/ContentSensitivity/CustomActionLink.tsx")},[]);let d=(0,s.A)(),c=(0,h.qJ)(),u=[0,1].includes(t),p=e?.link||"",m=c&&u?`${e?.text} ${function(e){let[,t]=e.split(":");return t}(p)}`:e?.text,f=y[t]||"arrow-up-right";return m&&p?(0,_.jsx)(o.vx,{href:p,iconStart:f,onClick:()=>{(0,g.rt)({viewParameter:l,logContextEvent:d,viewType:n,auxData:{url:p,...i},isDesktop:c})},target:"blank",text:m}):null}var v=n(843529),b=n(81920),A=n(260787);let w=(void 0!==i||(i=n(150859)).hash&&"6e21ec048bb4ac7d621865a42cf02a6c"!==i.hash&&console.error("The definition of 'SensitiveNotice_sensitivity' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function S({query:e,sensitivityKey:t,viewParameter:n}){(0,a.useEffect)(()=>{(0,r.A)("SensitiveNotice","/app/www/ContentSensitivity/SensitiveNotice.tsx")},[]);let i=(0,d.A)(w,t),l=i?.notices;return l?.map(t=>(0,_.jsx)(j,{notice:t,query:e,sensitivity:i,viewParameter:n,viewType:2},t.noticeId))}function j({boardId:e,boardSectionId:t,boardName:n,notice:i,viewType:d,viewParameter:y,query:w,sensitivity:S,objectType:j}){var k,I;let P;(0,a.useEffect)(()=>{(0,r.A)("SensitiveNotice","/app/www/ContentSensitivity/SensitiveNotice.tsx")},[]);let E=(0,h.qJ)(),T=(0,c.A)(),C=(0,s.A)(),{title:z,footer:F,description:R,image_type:O,content_image_url:L}=i||{},M=i?.actions??[],B=i?.suggested_resource,D=(0,p._8)(),{checkExperiment:N}=(0,u.A)(),K=N("web_ps_search_advisories_wave_two",{dangerouslySkipActivation:!0}).anyEnabled,{imageSRC:U,imageALT:$}=(k=null==O?A.j.NONE:O,I=L||"",P={[A.j.HIDDEN]:T.bt("Hidden illustration.", "Hidden Illustration.", "sensitiveNotice.hiddenIllustration", undefined, true),[A.j.HOPE]:T.bt("An illustration of a landscape, clouds and the sun seen through a window with both shutters open.", "An illustration of a landscape, clouds, and the sun seen through a window with both shutters open.", "sensitiveNotice.hopeIllustration", undefined, true),[A.j.LOVE]:T.bt("An illustration of heart-shaped flowers arranged in a vase", "An illustration of heart-shaped flowers arranged in a vase", "sensitiveNotice.loveIllustration", undefined, true)},K&&I?{imageSRC:I,imageALT:I?T.bt("Illustration.", "Illustration.", "sensitiveNotice.customIllustration", undefined, true):""}:k===A.j.CUSTOM?{imageSRC:I,imageALT:T.bt("Illustration.", "Illustration.", "sensitiveNotice.customIllustration", undefined, true)}:k===A.j.NONE?{imageSRC:"",imageALT:""}:{imageSRC:g.Zm[k],imageALT:P[k]}),H={advisory_level:S?.advisory,entered_query:w,severity_level:S?.severity,stage:D.stage,advisory_type:S?.advisory_type,resource_country:S?.resource_country,board_name:n,board_id:e,board_section_id:t};return(0,m.A)(()=>{d&&(C({aux_data:H,event_type:120,component:13367,view_parameter:y,view_type:d}),(0,b.U9)("webapp.advisories.view",1,{sampleRate:1,tags:{advisory_level:H.advisory_level,advisory_type:H.advisory_type,app:E?"DESKTOP_WEB":"MOBILE_WEB",resource_country:H.resource_country,placement:d,object_type:j}})),e&&5===d&&C({aux_data:{board_id:e,board_section_id:t??0},component:178,event_type:15549,view_parameter:y,view_type:d})}),(0,_.jsx)(o.az,{"data-test-id":"search-advisory",children:(0,_.jsxs)(o.az,{"data-test-id":"fresh-search-advisory",margin:"auto",maxWidth:"800px",padding:6,rounding:200,children:[U&&(0,_.jsx)(o.so,{justifyContent:E?"center":"start",children:(0,_.jsx)(o.az,{height:120,marginBottom:4,width:120,children:(0,_.jsx)(o._V,{alt:$,fit:"contain",naturalHeight:1,naturalWidth:1,src:U})})}),!!z&&(0,_.jsx)(o.az,{display:"flex",marginBottom:2,children:(0,_.jsx)(o._Y,{size:"400",children:z})}),!!R&&(0,_.jsx)(o.az,{marginBottom:4,children:(0,_.jsx)(o.KJ,{size:"200",children:(0,v.A)(R?.text||"",R?.text_tags||[],C,H,E)})}),B&&(0,_.jsxs)(o.az,{marginBottom:4,children:[(0,_.jsx)(o.KJ,{size:"200",weight:"bold",children:T.bt("Suggested resource", "Suggested resource", "sensitiveNotice.suggestedResource", undefined, true)}),(0,_.jsx)(o.az,{marginTop:2,children:(0,_.jsx)(o.KJ,{size:"200",children:B})})]}),(0,_.jsx)(o.so,{direction:"column",gap:2,children:M.map(e=>e?.button?.contact_type?(0,_.jsx)(x,{auxData:H,button:e.button,contactType:e.button.contact_type,viewParameter:y,viewType:d},e.id||e.actionId):(0,_.jsx)(f,{action:e,auxData:H,viewParameter:y,viewType:d},e.id))}),!!F&&(0,_.jsx)(o.az,{marginTop:4,children:(0,_.jsx)(o.KJ,{color:"subtle",size:"100",children:(0,_.jsx)(l.Ay,{options:{overrides:{b:{component:({children:e})=>(0,_.jsx)(o.N_,{display:"inline",href:F.link??"",onClick:()=>{(0,g.rt)({logContextEvent:C,auxData:{...H,url:F.link},isDesktop:E,placement:d,objectType:j,viewType:d,viewParameter:y})},target:"blank",children:(0,_.jsx)(o.KJ,{color:"subtle",inline:!0,size:"100",weight:"bold",children:e})},F.link)}}},children:F.text})})})]})})}},522232(e,t,n){n.d(t,{Zm:()=>l,bh:()=>s,dB:()=>o,k9:()=>a,rt:()=>d});var i=n(81920),r=n(260787);let a={ABUSIVE:0,SENSITIVE:1,BRAND_UNSAFE:2},l={[r.j.HIDDEN]:"https://i.pinimg.com/originals/0d/fc/e7/0dfce74a82e89659495f1c9257fed188.png",[r.j.HOPE]:"https://i.pinimg.com/originals/46/d7/70/46d7705570b3c23562a70f39817b7b19.png",[r.j.LOVE]:"https://i.pinimg.com/originals/60/7e/d2/607ed2380d9fa28047f211dc6a7e8576.png"};function o(e){return null!=e&&!!e.notices&&e.notices.length>0}function s(e){return!!e&&e.severity===a.ABUSIVE}function d({auxData:e,isDesktop:t,logContextEvent:n,objectType:r,placement:a,viewType:l,viewParameter:o}){n({aux_data:e,component:13367,element:11180,event_type:t?101:102,view_parameter:o||43,view_type:l||2}),(0,i.U9)("webapp.advisories.action",1,{sampleRate:1,tags:{advisory_level:e.advisory_level,advisory_type:e.advisory_type,app:t?"DESKTOP_WEB":"MOBILE_WEB",url:e.url,resource_country:e.resource_country,object_type:r,placement:a}})}},843529(e,t,n){n.d(t,{A:()=>l});var i=n(19821),r=n(522232),a=n(562615);function l(e,t,n,o={},s){let d=[],c=0;for(let l=0;l<t.length;l+=1){let u=t[l];if(5===u.tag_type&&u.link){let{offset:t,length:p,link:h}=u;if(null!=t&&null!=p&&null!=h){let u=e.substring(t,t+p),m=(0,a.jsx)(i.N_,{display:"inline",href:h,onClick:({dangerouslyDisableOnNavigation:e})=>{e(),(0,r.rt)({auxData:{...o,url:h},isDesktop:s,logContextEvent:n})},target:"blank",underline:"hover",children:(0,a.jsx)(i.KJ,{inline:!0,weight:"bold",children:u})},`link-${l}-${u}`);d.push((0,a.jsx)(i.KJ,{inline:!0,children:e.substring(c,t)},`text-${l}-${u}`)),d.push(m),c=t+p}}}return(c>0&&d.push((0,a.jsx)(i.KJ,{inline:!0,children:e.substring(c)},e.substring(c))),0===d.length)?[(0,a.jsx)("span",{children:e},e)]:d}},236503(e,t,n){n.d(t,{IQ:()=>l,bh:()=>a,im:()=>i,k9:()=>r});let i={CONDITIONAL:0,EMOTIONAL_DISDRESS_OR_SUICIDE:4},r={ABUSIVE:0,SENSITIVE:1,BRAND_UNSAFE:2};function a(e){return!!e&&e.severity===r.ABUSIVE}let l="THIRD_PARTY_TL"},998317(e,t,n){n.d(t,{Ay:()=>c,fG:()=>u,z1:()=>d});var i,r=n(224989),a=n(224723),l=n(106301),o=n(762512);let s=(void 0!==i||(i=n(201563)).hash&&"547e5abdb645851996d6a1b1a4027c56"!==i.hash&&console.error("The definition of 'hasSensitivityNotices_sensitivity' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function d(e){let{notices:t,advisory:n,severity:i}=(0,r.useFragment)(s,e)||{};return{hasNotices:!!(t?.[0]&&null!==t[0].title),advisory:n,severity:i}}function c(e){if(null==e)return{hasNotices:!1};let{advisory:t,severity:n}=e,i=!!e.notices&&e.notices.length>0;return e.notices&&e.notices.length>0&&e.notices[0]?.title===null&&(i=!1),{hasNotices:i,advisory:t,severity:n}}function u(e){let{scope:t}=(0,l.u)(),{data:n,isLoaded:i}=(0,o.A)(),r=d(e);if(t===a.cO.USERS)return r;if(!i||!n)return{hasNotices:!1};let{sensitivity:s}=n;return c(s)}},825179(e,t,n){n.d(t,{Ir:()=>H,RM:()=>U,Ay:()=>q});var i=n(61163),r=n(859471),a=n(106386),l=n(979638),o=n(19821),s=n(296221),d=n(210909),c=n(411805),u=n(538329),p=n(538678),h=n(844255),m=n(161916),g=n(430705),_=n(485321),f=n(971289),y=n(924276);let x=new Map;var v=n(439524),b=n(780355),A=n(515568),w=n(47818),S=n(765346),j=n(160587),k=n(937176),I=n(654657),P=n(189851),E=n(699613),T=n(659664),C=n(8627),z=n(134820),F=n(39412),R=n(411812),O=n(785953),L=n(408738),M=n(562615);function B(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let D=(0,L.A)(()=>n.e("5852").then(n.bind(n,236184)),void 0,e=>236184,"app-www-businessNux-BizNuxHomefeedLoader",e=>["5852"]),N=(0,L.A)(()=>n.e("85496").then(n.bind(n,211592)),void 0,e=>211592,"app-www-save-board-MoreIdeasFeed-MoreIdeasFeed",e=>["85496"]);class K extends r.PureComponent{constructor(...e){super(...e),B(this,"state",{refreshing:!1,unauthLandingPinStateForAuthHomefeed:this.props.authHomefeedComponentDidUpdate?{pinId:(()=>{let{plpImageRenderData:e}=(0,S.of)(),[t]=e;return t?t.pin_id:null})(),feedItem:null}:null}),B(this,"backOnlineAutoFetchResource",()=>{this.props.pagination.loadNext()}),B(this,"handlePullToRefresh",()=>{this.props.pagination.refetch(),this.setState({refreshing:!0})}),B(this,"gridContainerRef",(0,r.createRef)()),B(this,"renderFeedPin",(e,t)=>{let{feedItemProps:n,location:i,performanceOptimization:r,showSeoMetadata:a,surface:l,trafficSource:o,getReduxPin:s}=this.props,{auxData:d,componentType:c,feedback:u,imageOnly:p,impressionData:h,objectIdStr:m,oneTapSave:g,onFeedItemClick:_,onPinLinkClick:f,shouldAllowProductPriceIndicator:y,showSeoMetadata:x,viewData:v,viewParameter:b,viewType:A}=n||{},w=(i.search||"").includes("force_seo"),S=!!r?.lazyLoadBelowFoldIndex&&t>r.lazyLoadBelowFoldIndex,j=!!r?.priorityFetchAboveFoldIndex&&t<=r.priorityFetchAboveFoldIndex,I=s(e.id);return(0,M.jsx)(k.A,{auxData:d,componentType:c||0,duploFeedItemProps:{onPinClick:_,onPinLinkClick:f,showSeoMetadata:a||w||x},duploLazyLoadImage:S,duploOneTapSave:g,duploPriorityFetchImage:j,duploShouldAllowProductPriceIndicator:y,feedback:u,imageOnlyOption:p?"image-only":"default",impressionData:h,objectIdStr:m,parentPinKey:null,pinKey:I?{type:"Legacy",data:I}:null,seoDrawerPinType:this.props.seoDrawerPinType,shouldShowSeoDrawerNewfields:this.props.shouldShowSeoDrawerNewfields,shouldShowSeoDrawerOption:this.props.shouldShowSeoDrawerOption,slotIndex:t,surface:l,trackingParams:e.trackingParams,trafficSource:o,viewData:v,viewParameter:b,viewType:A||1})}),B(this,"getBoardId",()=>{let e=this.props.feedKey?.split(":");return e&&e.length>1&&"boardfeed"===e[0]?e[1]:null}),B(this,"hideMoreIdeas",()=>{let{getReduxBoard:e,surface:t,trafficSource:n}=this.props,i=this.getBoardId(),r="board"===n&&["BaseBoardPinGrid","FeaturedBoardPinGrid"].includes(t??"")&&i?e(i):null;return r?.featured_board_metadata?.more_ideas===!1})}componentDidMount(){window.addEventListener("online",this.backOnlineAutoFetchResource),(0,v.N5)(this.props.feedKey,this)}componentWillUnmount(){window.removeEventListener("online",this.backOnlineAutoFetchResource),(0,v.GP)(this.props.feedKey)}componentDidUpdate(e){let{refreshing:t,unauthLandingPinStateForAuthHomefeed:n}=this.state,{feedItems:i,authHomefeedComponentDidUpdate:r}=this.props,a=t&&e.pagination.isLoadingNext&&!this.props.pagination.isLoadingNext;if(a&&this.setState({refreshing:!1}),r&&n){let t=r({feedItems:i,prevFeedItems:e.feedItems,finishedRefresh:a,unauthLandingPinStateForAuthHomefeed:n});t&&this.setState({unauthLandingPinStateForAuthHomefeed:t})}}render(){let{deviceType:e,emptyState:t,experimentalColumnWidth:n,experimentalGutter:i,feedItemProps:a,feedItems:l,feedItemsAdjustment:c,feedKey:u,feedStoryId:h,getColumnSpanConfig:m,gridConfig:g,i18n:f,pageSize:x,pagination:v,pullToRefresh:S,renderFeedItem:k,serverRender:I,showBizNuxHomefeedLoader:P,trafficSource:E,visuallyCompleteProfilerOptions:T,isLoadingStateEnabled:L,initialLoadingStatePinCount:B,isLoadingAccessibilityLabel:K,isLoadedAccessibilityLabel:U}=this.props,{unauthLandingPinStateForAuthHomefeed:$}=this.state,H=$?.feedItem&&l.length?[$.feedItem,...l]:l,{viewParameter:V,viewType:W}=a||{},{gridMeasurementKey:q}=g||{},G=u+(q?`|${q}`:""),Y="user_search"===E,J=Y?window.innerWidth-16:void 0,Q=H.some(e=>"board"===e.type),X={columnWidth:(0,b.qG)({deviceType:e,customMWebColumnWidth:J,experimentalColumnWidth:Q?236:n}),renderItem:({data:e,itemIdx:t})=>{if(k){let n=k(e,t);if("FALLBACK_TO_DEFAULT"!==n)return n}switch(e.type){case"pin":return(0,M.jsx)(C.A,{children:this.renderFeedPin(e,t)});case"user":return(0,M.jsx)(O.A,{truncateName:!0,userId:e.id,userSearchRepStyle:Y,viewParameter:V,viewType:W});case"board":let n=this.props.getReduxBoard(e.id);return(0,M.jsx)(y.default,{boardKey:n?{type:"Legacy",data:n}:null,type:"grid",viewParameter:V,viewType:W});case"topic":return(0,M.jsx)(F.A,{id:e.id,shouldClickthrough:!0,showFollowButton:!0,showFollowerCount:!0,viewParameter:V,viewType:W});case"story":if("number"==typeof V)return(0,M.jsx)(z.A,{slotIndex:t,storyId:e.id,viewParameter:V,viewType:W||1});return null;case"FEED_BREAK_IN":return c&&"breakIn"===c.type&&c.value.content;default:return null}},gutterWidth:(0,b.yC)({experimentalGutter:i,trafficSource:E,deviceType:e}),loadItems:v.loadNext,minCols:Y?1:2,...g},Z=!P&&v.isLoadingNext&&0===H.length&&!this.state.refreshing&&!L,ee=x&&25>parseInt(x,10),et=c?.type==="fullWidthBreakIn"?[{type:"feed",id:`${G}_feed_0`,item:H.slice(0,c.value.index)},{type:"fullWidthBreakIn",id:`${G}_break_in_0`,item:c.value.content},{type:"feed",id:`${G}_feed_1`,item:H.slice(c.value.index)}]:[{type:"feed",id:G,item:H}],en="desktop"===e,ei=en&&"flashlight"===E,er=ei?0:-1;return(0,M.jsxs)(o.az,{"data-test-id":"MobileFeed",children:[(0,M.jsx)(A.A,{auxData:a?.auxData||null,enabled:!!S,onPull:this.handlePullToRefresh,refreshing:this.state.refreshing,viewParameter:a?.viewParameter||null}),(0,M.jsxs)(o.az,{ref:this.gridContainerRef,"data-test-id":"grid",marginEnd:er,marginStart:er,opacity:this.state.refreshing?50:100,children:[(0,M.jsxs)(p.A,{includeBackgroundImages:T?.includeBackgroundImages,includeVideos:T?.includeVideos,isAtEndOfFeed:!v.hasNext,isPlaceholderGrid:L&&v.isLoadingNext&&!H.length,itemCount:H.length,pinData:T?.pins,children:[H.length||L&&v.isLoadingNext?(0,M.jsx)(o.az,{"data-test-id":"feed",marginTop:(0,b.xf)({isDesktop:en}),children:(0,M.jsx)(_.A.Consumer,{children:e=>(0,M.jsx)(r.Fragment,{children:(0,M.jsx)(R.A,{children:et.map(t=>"feed"===t.type?(0,M.jsx)(d.default,{cacheKey:G,getColumnSpanConfig:m,id:I?u:void 0,initialLoadingStatePinCount:B,isFetching:v.isLoadingNext,isLoadedAccessibilityLabel:U??"",isLoadingAccessibilityLabel:K??"",isLoadingStateEnabled:!!L,items:t.item,scrollContainerRef:e,serverRender:I,...X},t.id):"fullWidthBreakIn"===t.type?(0,M.jsx)(o.az,{children:t.item},t.id):null)})})})}):v.isLoadingNext?(0,M.jsx)(w.A,{}):t??null,v.isLoadingNext&&"board"===E&&ee&&!L&&(0,M.jsx)(o.y$,{accessibilityLabel:f.bt("Loading", "Loading", "Label for loading spinner", undefined, true),show:!0})]}),Z&&(0,M.jsx)(o.az,{column:12,paddingY:2,children:(0,M.jsx)(j.A,{partialViewportWidth:ei})}),P&&(0,M.jsx)(D,{gridContainerRef:this.gridContainerRef,homefeedLoading:v.isLoadingNext}),!en&&!v.hasNext&&(0,M.jsx)(s.nU,{placementId:1000251}),h&&!this.hideMoreIdeas()&&(0,M.jsx)(o.az,{marginBottom:6,children:(0,M.jsx)(N,{storyId:h})})]})]})}}function U({feedItems:e,pagination:t,...n}){(0,r.useEffect)(()=>{(0,i.A)("Feed","/app/www/Feed.tsx")},[]);let{feedItemsAdjustment:o}=n,s=(0,l.zy)(),d=(0,f.Ay)(),p=(0,u.A)(),{isAuthenticated:m,isBot:g}=(0,h._8)(),{isBizNuxHomefeedLoadShown:_}=(0,a.d4)(({session:e})=>e),y=e;o?.type==="breakIn"&&(y=(({breakIn:{index:e},items:t})=>t.length<e?t:[...t.slice(0,e),(e=>{let t=x.get(e);if(t)return t;let n=Object.freeze({type:"FEED_BREAK_IN",__typename:"FEED_BREAK_IN",id:`BREAK_IN_${e}`});return x.set(e,n),n})(e),...t.slice(e)])({items:e,breakIn:o.value}));let{experimentalColumnWidth:v,experimentalGutter:b}=(0,c.A)(),A=(0,P.oW)(),w=(0,E.HR)();return(0,M.jsx)(K,{...n,deviceType:d,experimentalColumnWidth:v,experimentalGutter:b,feedItems:y,getReduxBoard:A,getReduxPin:w,i18n:p,isAuthenticated:m,location:s,pagination:t,showBizNuxHomefeedLoader:!!_,showSeoMetadata:g||!m})}function $({isAtEnd:e,isFetching:t,fetchMore:n,refresh:i,...r}){let l=(0,a.d4)(({feeds:e})=>e[r.feedKey]??[]),o=(0,a.d4)(({desktopStories:e})=>e),{featuredBoardStoryId:s,feedStoryId:d}=(0,T.A)(l,o),c=(0,a.d4)(({session:e})=>e.firstHomeFeedRequestAfterNux),u=(0,a.wA)();return(0,M.jsx)(U,{...r,featuredBoardStoryId:s,feedItems:l,feedStoryId:d,pagination:{hasNext:!e,isLoadingNext:t,loadNext:()=>n(),refetch:()=>{c?u((0,I.ly)(!1)):i()}}})}function H({resource:{isAtEnd:e,isFetching:t,fetchMore:n,refresh:a},...l}){return(0,r.useEffect)(()=>{(0,i.A)("Feed","/app/www/Feed.tsx")},[]),(0,M.jsx)($,{...l,fetchMore:n,isAtEnd:e,isFetching:t,refresh:a})}function V({resourceConfig:e,...t}){let n=(0,g.A)(e);return(0,M.jsx)(H,{...t,resource:n})}function W({resourceRef:e,fetchMore:t,refresh:n,...i}){let{isAtEnd:r}=(0,m.A)(e);return(0,M.jsx)($,{...i,fetchMore:t,isAtEnd:r,isFetching:!1,refresh:n})}function q({resourceConfig:e,resourceRef:t,fetchMore:n,refresh:a,...l}){return((0,r.useEffect)(()=>{(0,i.A)("Feed","/app/www/Feed.tsx")},[]),t)?(0,M.jsx)(W,{...l,fetchMore:n??(()=>{}),refresh:a??(()=>{}),resourceRef:t}):(0,M.jsx)(V,{...l,resourceConfig:e})}},439524(e,t,n){n.d(t,{GP:()=>l,N5:()=>a,Y9:()=>r});let i={},r=e=>{i[e]&&i[e].handlePullToRefresh()},a=(e,t)=>{i[e]=t},l=e=>{delete i[e]}},466245(e,t,n){n.d(t,{A:()=>P});var i,r=n(61163),a=n(859471);n(825193);var l=n(19821),o=n(743372),s=n(693154),d=n(535273),c=n(538329),u=n(601185),p=n(575851),h=n(752159),m=n(67765),g=n(706466),_=n(476084),f=n(420818),y=n(971289),x=n(168079),v=n(143455),b=n(226150),A=n(871481),w=n(703674),S=n(769129),j=n(562615);let k=({children:e,pulsar:t,testId:n})=>t.show?(0,j.jsx)(l.az,{"data-test-id":n,position:"relative",children:(0,j.jsxs)(l.Rp,{onTap:t.onClick,tapStyle:"none",children:[(0,j.jsx)(l.az,{dangerouslySetInlineStyle:{__style:{marginLeft:"-75px"}},marginTop:-5,position:"absolute",children:e}),(0,j.jsx)(l.az,{dangerouslySetInlineStyle:{__style:{marginLeft:"-83px"}},marginTop:-12,position:"absolute",children:(0,j.jsx)(l.EV,{})})]})}):(0,j.jsx)(l.az,{"data-test-id":n,children:e}),I=(void 0!==i||(i=n(731360)).hash&&"cabaa35ed7d59dee006897bf3ef32e3d"!==i.hash&&console.error("The definition of 'FollowButton_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function P({auxData:e,disabled:t,disableLog:n,followEventType:i,id:P,inline:E,invertColors:T,isFollowed:C,isIdeaPin:z,isLegoEnabled:F,isSecondaryButton:R,isUserFollowButton:O,isUserMe:L,onFollow:M,onUnfollow:B,pinKey:D,shouldUseLegoColors:N,showPulsar:K,size:U,textType:$="FollowFollowing",unfollowEventType:H,viewParameter:V,viewType:W,clientTrackingParams:q}){let G;(0,a.useEffect)(()=>{(0,r.A)("FollowButton","/app/www/FollowButton.tsx")},[]);let Y=(0,c.A)(),J=(0,y.qJ)(),{showToast:Q}=(0,g.CG)(),X=(0,m.A)(),Z=(0,o.A)(),ee=(0,p.A)(),{checkExperiment:et}=(0,u.A)(),en=(0,b.A)(),ei=(0,s.A)(),er=ei&&ei.isAuth,{unauthFollowUserId:ea,setUnauthFollowUserId:el}=(0,S.H)(),eo=(0,A.DF)()(P),es=(0,_.A)(),[ed,ec]=(0,a.useState)(C),eu=eo&&{imageMediumUrl:eo.image_medium_url,username:eo.username},ep=(0,d.A)(I,D),eh=ep?.linkDomain,em=ep?.nativeCreator,eg=ep?.originPinner,e_=ep?.pinner;G=em||(eh?eh.officialUser:eg||e_);let ef=eu??G;(0,x.A)(()=>{!J&&er&&ea&&P&&ea===P&&M(P)});let ey=en({fn:()=>{if(er)ed?(B(P),ec(!1),n||Z({event_type:H,view_type:W,view_parameter:V,object_id_str:P,aux_data:e,clientTrackingParams:q})):(M(P),ec(!0),O&&Q(({hideToast:e})=>{let t=ef?.username?`/${ef.username}/`:"";return(0,j.jsx)(w.A,{handleHide:e,href:t,imageUrl:ef?.imageMediumUrl||"",text:(0,j.jsx)(l.KJ,{lineClamp:4,children:Y.bt("Following! Their created Pins will show up in your home feed!", "Following! Their created Pins will show up in your home feed!", "followButton.follow.informationalToastText", undefined, true)}),userId:P})}),n||Z({event_type:i,view_type:W,view_parameter:V,object_id_str:P,aux_data:e,clientTrackingParams:q}));else{if((0,h.uq)(ed?"press_profile_unfollow":"press_profile_follow"),X({action:"click",item:ed?"unfollow-button":"follow-button"}),et("migration_upsell_manager_redux").anyEnabled||et("migration_upsell_manager_redux_dweb").anyEnabled||et("migration_upsell_manager_redux_mweb").anyEnabled||et("migration_upsell_manager_redux_dweb_global").anyEnabled||et("migration_upsell_manager_redux_mweb_global").anyEnabled)if(J){let e=et("pcons_dweb_contextual_follow_modal").anyEnabled;es((0,f.Vl)(!!z,e))}else{let e=et("pcons_mweb_contextual_follow_modal").anyEnabled;es((0,f.Ll)(!!z,e))}else ee({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:z?"click_idea_pin_follow":"click_follow",desktopOptions:{modalType:"signup",modalOptions:J&&et("pcons_dweb_contextual_follow_modal").anyEnabled?{source:"followButton",container:"follow"}:void 0},mobileOptions:!J&&et("pcons_mweb_contextual_follow_modal").anyEnabled?{headingType:"follow"}:void 0});J||el(P??""),(0,h.uq)("clickthrough")}},modalHeader:(0,v.Bh)({i18n:Y,toFollow:!ed})}),ex=!ed&&!!K,ev=()=>{if(L)return Y.bt("That's you!", "That's you!", "Follow button is disabled because this is you", undefined, true);if("AddRemove"===$)return ed?Y.bt("Remove", "Remove", "unfollowButton.removeText", undefined, true):Y.bt("Add", "Add", "followButton.addText", undefined, true);let e="FollowUnfollow"===$?Y.bt("Unfollow", "Unfollow", "unfollowButton.unfollowText", undefined, true):Y.bt("Following", "Following", "Follow button label - followed state", undefined, true);return ed?e:Y.bt("Follow", "Follow", "Follow button label - unfollowed state", undefined, true)};return(0,j.jsx)(k,{pulsar:ex?{show:!0,onClick:ey}:{show:!1},testId:L||ed?"board-unfollow-button":"board-follow-button",children:(0,j.jsx)(l.$n,{accessibilityLabel:ev(),color:N||"AddRemove"===$||!F&&R||T?"secondary":"primary",disabled:L||t,fullWidth:E,onClick:ex?void 0:({event:t})=>{t.preventDefault(),t.stopPropagation(),n||Z({event_type:101,component:13672,element:11951,object_id_str:P,view_type:W,view_parameter:V,aux_data:e,clientTrackingParams:q}),ey()},selected:ed||!1,size:U,text:ev()})})}},694804(e,t,n){n.d(t,{A:()=>o});var i=n(61163),r=n(859471),a=n(19821),l=n(562615);function o({text:e}){return(0,r.useEffect)(()=>{(0,i.A)("AccessibilityHiddenHeading","/app/www/Header/AccessibilityHiddenHeading.tsx")},[]),(0,l.jsx)(a.az,{display:"visuallyHidden",children:(0,l.jsx)(a._Y,{accessibilityLevel:1,children:e})})}},515568(e,t,n){n.d(t,{A:()=>d});var i=n(61163),r=n(859471),a=n(19821),l=n(586733),o=n(538329),s=n(562615);function d({auxData:e,enabled:t,onPull:n,refreshing:d,viewParameter:c}){(0,r.useEffect)(()=>{(0,i.A)("PullToRefresh","/app/www/Homefeed/PullMenu/PullToRefresh.tsx")},[]);let u=(0,o.A)(),{logContextEvent:p}=(0,l.o)(),h=4079===c,{position:m,startYRefCurrent:g,pullDistance:_}=function({enabled:e,onSelect:t,refreshing:n}){let i=(0,r.useRef)(null),[a,l]=(0,r.useState)(0),[o,s]=(0,r.useState)(!1),d=n?0:a/250,c=d>0,u=()=>{s(!1),l(0)};return(0,r.useEffect)(()=>{if(e){let e=e=>{window.scrollY<=0&&!n&&(i.current=e.touches[0].clientY)},r=e=>{if(i.current){let t=(e.touches[0].clientY-i.current)*.5;t>0&&(l(t),e.preventDefault())}},o=()=>{i.current&&(s(!0),t({pullDistance:a,position:d,resetState:u}),i.current=null)};return window.addEventListener("touchstart",e),window.addEventListener("touchmove",r,{passive:!1}),window.addEventListener("touchend",o),()=>{window.removeEventListener("touchstart",e),window.removeEventListener("touchmove",r),window.removeEventListener("touchend",o)}}},[e,t,a,n,d]),{pullDistance:a,hasStartPulling:c,position:d,startYRefCurrent:i.current,PULL_MENU_DISTANCE:250,isExecuted:o}}({enabled:t,onSelect:t=>{let{pullDistance:i,resetState:r}=t;i>=120&&(p({view_type:1,event_type:158,view_parameter:h?4079:92,aux_data:h?e:{}}),n()),r()},refreshing:d}),f=Math.min(m,1),y=u.bt("Pull to refresh", "Pull to refresh", "Pull down on grid to refresh items", undefined, true);return(0,s.jsx)(a.az,{children:t&&(0,s.jsx)(a.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:{opacity:f,transition:null===g?"all .3s ease-out":void 0}},display:"flex",height:120*m,justifyContent:"center",children:(0,s.jsx)(a.In,{accessibilityLabel:y,icon:g&&_<120?"circle-arrow-down":"circle-arrow-up",size:40})})})}},47818(e,t,n){n.d(t,{A:()=>s});var i=n(61163),r=n(859471),a=n(19821),l=n(971289),o=n(562615);let s=()=>{(0,r.useEffect)(()=>{(0,i.A)("InitialFeedFetch","/app/www/InitialFeedFetch.tsx")},[]);let e=(0,l.qJ)();return(0,o.jsx)(a.az,{dangerouslySetInlineStyle:{__style:e?{paddingTop:"0px",paddingBottom:"0px",marginTop:"0px",marginBottom:"0px"}:{paddingTop:"4px",paddingBottom:"4px",marginTop:"-4px",marginBottom:"-4px"}},"data-test-id":"initial-feed-fetch"})}},878913(e,t,n){n.d(t,{P:()=>i,y:()=>r});let{Provider:i,getMaybe:r}=(0,n(987628).A)("PinCreateDeleteContext")},726232(e,t,n){n.d(t,{N:()=>l,z:()=>o});var i=n(859471),r=n(562615);let a=(0,i.createContext)({getPinFeedbackStatus:()=>void 0,setPinFeedbackStatus:()=>{}}),l=()=>(0,i.use)(a);function o({children:e}){let[t,n]=(0,i.useState)(Object.freeze({})),l=(0,i.useMemo)(()=>({getPinFeedbackStatus:({pinId:e})=>t[e],setPinFeedbackStatus:({pinId:e,pinFeedbackStatus:i})=>n({...t,[e]:i})}),[t]);return(0,r.jsx)(a,{value:l,children:e})}},297438(e,t,n){n.d(t,{A:()=>r});var i=n(871481);function r(){let e=(0,i.V_)();return Object.keys(e).reduce((t,n)=>{let i=e[n];return t[i.username]=i,t},{})}},635154(e,t,n){n.d(t,{F:()=>r,K:()=>i});let{Provider:i,getMaybe:r}=(0,n(987628).A)("SpammyClickthrough")},56157(e,t,n){n.d(t,{A:()=>h,_:()=>p});var i=n(61163),r=n(859471),a=n(19821),l=n(103892),o=n(715989),s=n(538329),d=n(542975),c=n(601185),u=n(562615);let p=[0,2,3];function h({hasAffiliateProducts:e,hasAffiliateLink:t,href:n,isPromoted:h,onNavigateSponsorClick:m,sponsorName:g,sponsorUsername:_,sponsorshipStatus:f,textWeight:y="bold",isGrid:x,affiliateDisclosure:v}){let b;(0,r.useEffect)(()=>{(0,i.A)("SponsorshipText","/app/www/SponsorshipText/SponsorshipText.tsx")},[]);let A=(0,s.A)(),{checkExperiment:w}=(0,c.A)(),S=w("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled,j=(0,o.A)(),{inAffiliateDisclosureEnabled:k}=(0,l.A)(),I=n||(_?`/${_}/`:null),P=I&&g?(0,u.jsx)(a.KJ,{__dangerouslyOverrideLineHeight:j,size:"200",weight:y,children:(0,u.jsx)(a.N_,{dataTestId:"sponsorship-text-link",href:I,onClick:m,children:g})},g):void 0,E=S&&!h&&"Ad  "||"";return h?b=(0,d.vQ)(A.bt("Promoted by {{ name }}", "Promoted by {{ name }}", "sponsorship.sponsorshipText.promotedByBrand", undefined, true),{name:P}):f||0===f?g&&!p.includes(f)?b=(0,d.vQ)(A.bt("Paid partnership with {{ name }}", "Paid partnership with {{ name }}", "closeup.creator.sponsoredPinTitle", undefined, true),{name:P}):2!==f&&(b=A.bt("Paid partnership", "Paid partnership", "closeup.creator.sponsoredPinTitle", undefined, true)):!x&&(t||e)&&(b=k?v:A.bt("Paid link", "Paid link", "sponsorship.sponsorshipText.affiliatedProducts", undefined, true),E=""),(0,u.jsxs)(a.KJ,{__dangerouslyOverrideLineHeight:j,color:"subtle",inline:!0,lineClamp:2,size:"200",children:[E,b]})}},411812(e,t,n){n.d(t,{A:()=>d});var i=n(61163),r=n(859471),a=n(693154),l=n(971289),o=n(374784),s=n(562615);let d=({children:e})=>{(0,r.useEffect)(()=>{(0,i.A)("UnauthContextMenuControllerWrapper","/app/www/UnauthContextMenuControllerWrapper.tsx")},[]);let t=(0,l.qJ)();return!(0,a.A)().isAuth&&t?(0,s.jsx)(o.s,{children:e}):e}},769129(e,t,n){n.d(t,{H:()=>o,_:()=>s});var i=n(859471),r=n(987628),a=n(562615);let{Provider:l,get:o}=(0,r.A)("Session");function s({children:e}){let[t,n]=(0,i.useState)(void 0),r=(0,i.useCallback)(()=>n(void 0),[]),o=(0,i.useMemo)(()=>({unauthFollowUserId:t,setUnauthFollowUserId:n,removeUnauthFollowUserId:r}),[t,r]);return(0,a.jsx)(l,{value:o,children:e})}},895493(e,t,n){function i(e){return e&&5!==e?4===e?"stela":null:"related_products"}n.d(t,{A:()=>i})},720575(e,t,n){n.d(t,{A:()=>c});var i=n(61163),r=n(859471),a=n(676692),l=n(33658),o=n(970042),s=n(562615);class d extends r.Component{componentDidMount(){let{setCurrentPageData:e,viewData:t,viewParameter:n,viewType:i}=this.props;e({viewData:t,viewParameter:n,viewType:i})}componentDidUpdate(e){let{setCurrentPageData:t,viewData:n,viewParameter:i,viewType:r}=this.props;i===e.viewParameter&&r===e.viewType&&(0,l.Ay)(n,e.viewData)||t({viewData:n,viewParameter:i,viewType:r})}componentWillUnmount(){this.props.clearCurrentPageData()}render(){let{auxData:e,children:t,component:n,objectIdStr:i,viewData:r,viewParameter:a,viewType:l,clientTrackingParams:d}=this.props;return(0,s.jsx)(o.A,{auxData:e,clientTrackingParams:d,component:n,objectIdStr:i,viewData:r,viewParameter:a,viewType:l,children:t})}}function c(e){(0,r.useEffect)(()=>{(0,i.A)("PageView","/app/www/analytics/PageView.tsx")},[]);let{setViewContextData:t,clearViewContextData:n}=(0,a.x)();return(0,s.jsx)(d,{...e,clearCurrentPageData:n,setCurrentPageData:t})}},970042(e,t,n){n.d(t,{A:()=>l});var i=n(859471),r=n(743372),a=n(752159);function l(e){let{auxData:t,clientTrackingParams:n,children:l,component:o,element:s,objectIdStr:d,viewData:c,viewParameter:u,viewType:p}=e,h=(0,r.A)(),m=JSON.stringify(t),g=JSON.stringify(c);return(0,i.useEffect)(()=>{(({viewType:e,viewParameter:t,viewData:n,auxData:i,objectIdStr:r,component:l,clientTrackingParams:o,element:s},d)=>{let c,u=Object.keys(c={event_type:13,view_type:e,view_parameter:t,view_data:n,aux_data:i,object_id_str:r,component:l,clientTrackingParams:o,element:s}).reduce((e,t)=>(void 0===c[t]&&delete e[t],e),{...c});-1===Object.keys(u).indexOf("view_type")&&(0,a.PM)("mweb.logging.null_view_type"),d(u)})(e,h)},[h,m,n,o,s,d,g,u,p]),i.Children.only(l)}},184175(e,t,n){n.d(t,{A:()=>p});var i=n(61163),r=n(859471),a=n(19821),l=n(538329),o=n(653472),s=n(393320),d=n(542975),c=n(721268),u=n(562615);function p({boardOrderModifiedAt:e,pinCount:t,placesCount:n,sectionCount:p}){(0,r.useEffect)(()=>{(0,i.A)("PinAndSectionCount","/app/www/board/PinAndSectionCount.tsx")},[]);let h=(0,l.A)(),m=(0,s.A)(),g=!!n&&0!==t||!n,_=n?(0,u.jsx)(a.az,{"data-test-id":"pinAndSectionCount-places-count",display:"none",overflow:"hidden",smDisplay:"flex",children:(0,u.jsx)(a.KJ,{color:"subtle",inline:!0,lineClamp:1,size:"200",children:(0,d.vQ)(h.nbt(["{{ count }} place", "{{ count }} places"], n, "board.pinAndSectionCount.pinsPlaces", true),{count:(0,u.jsx)(o.A,{value:n},"pinAndSectionCount-places-count")})})}):null,f=g&&(0,u.jsx)(a.az,{"data-test-id":"pinAndSectionCount-pin-count",overflow:"hidden",smDisplay:"flex",children:(0,u.jsx)(a.KJ,{color:"subtle",lineClamp:1,size:"100",children:(0,d.vQ)(h.nbt(["{{ count }} Pin", "{{ count }} Pins"], t, "board.pinAndSectionCount.pinsCount", true),{count:(0,u.jsx)(o.A,{shortform:!0,shortformMaximumFractionDigits:1,value:t},"pinAndSectionCount-pin-count")})})}),y=p?(0,u.jsx)(a.az,{"data-test-id":"pinAndSectionCount-section-count",display:"none",overflow:"hidden",smDisplay:"flex",children:(0,u.jsx)(a.KJ,{color:"subtle",inline:!0,lineClamp:1,size:"100",children:(0,d.vQ)(h.nbt(["{{ count }} section", "{{ count }} sections"], p, "board.pinAndSectionCount.sectionCount", true),{count:(0,u.jsx)(o.A,{value:p},"pinAndSectionCount-section-count")})})}):null;return(0,u.jsxs)(a.az,{alignItems:"center",direction:"row",display:"flex",marginTop:1,children:[_,f,p?(0,u.jsxs)(r.Fragment,{children:[(0,u.jsx)(c.A,{ariaHidden:!0,color:"subtle",size:"100"}),y]}):null,e&&(0,u.jsxs)(a.az,{"data-test-id":"pinAndSectionCount-time",overflow:"hidden",smDisplay:"flex",children:[(0,u.jsx)(c.A,{ariaHidden:!0,color:"subtle",size:"100"}),(0,u.jsx)(a.KJ,{color:"subtle",lineClamp:1,size:"100",children:m(e,!0)})]})]})}},678358(e,t,n){n.d(t,{_G:()=>c,oh:()=>d});var i=n(61163),r=n(859471),a=n(162497),l=n(562615);let o={showCloseupContentRight:!0,showProductDetailPage:!1,viewportSize:"lg",paneWidth:a.qr,maxWidth:a.QH,descriptionPaneWidth:a.QH-a.qr,isCommentAttachmentSelectorOpen:!1,isCommentComposerFocused:!1,isCommentPopoverInteractionActive:!1,isCommentThreadExpanded:!1,isCloseupMediaViewerOpen:!1,isMediaViewerOpen:!1,isShoppingModuleExpanded:!1,closeupWithinMasonryEnabled:!1,peekCloseupEnabled:!1,calculatedImageHeight:0,setAbortNoActionPlacementTimeout:()=>{},setIsCloseupMediaViewerOpen:()=>{},setIsCommentAttachmentSelectorOpen:()=>{},setIsCommentComposerFocused:()=>{},setIsCommentPopoverInteractionActive:()=>{},setIsMediaViewerOpen:()=>{},setIsShoppingModuleExpanded:()=>{},setCalculatedImageHeight:()=>{},setViewportSize:()=>{}},s=(0,r.createContext)(o);function d({children:e,value:t}){(0,r.useEffect)(()=>{(0,i.A)("Context","/app/www/closeup/desktop/Context.tsx")},[]);let n=(0,r.useMemo)(()=>({...o,...t}),[t]);return(0,l.jsx)(s,{value:n,children:e})}function c(){let e=(0,r.use)(s);if(!e)throw Error("useCloseupContext must be used within CloseupContextProvider");return e}},162497(e,t,n){n.d(t,{DG:()=>o,Em:()=>y,En:()=>v,Ii:()=>A,M1:()=>p,MI:()=>f,QH:()=>a,Ye:()=>c,Z:()=>h,bZ:()=>m,bo:()=>l,gr:()=>b,h3:()=>d,n0:()=>u,nb:()=>g,qr:()=>r,t4:()=>w,tb:()=>s,vg:()=>_,w$:()=>x});var i=n(19821);let r=508,a=1016,l=488,o=992,s=672,d=1176,c=40,u=72,p=740,h=32,m=16,g=24,_=2,f=1,y=new i.rk(5),x={ARTICLE:"https://schema.org/Article",BRAND:"https://schema.org/Brand",PRODUCT:"https://schema.org/Product",RECIPE:"https://schema.org/Recipe",OFFER:"https://schema.org/Offer",OUT_OF_STOCK:"https://schema.org/OutOfStock",PERSON:"https://schema.org/Person"},v={boxShadow:"0 2px 5px rgba(0, 0, 0, 0.06)",transition:"box-shadow 200ms ease-in-out"},b="calc(90vh - 80px)",A="calc(55vh + 80px)",w="calc(75vh - 80px)"},535494(e,t,n){n.d(t,{A:()=>l});var i=n(601185),r=n(844255),a=n(971289);let l=({skipExpActivation:e=!1})=>{let{checkExperiment:t}=(0,i.A)(),n=(0,a.qJ)(),{isBot:l,isAuthenticated:o}=(0,r._8)();return!o&&!!n&&n&&!l&&t("unauth_dweb_closeup_redesign",{dangerouslySkipActivation:e}).anyEnabled}},781560(e,t,n){n.d(t,{A:()=>y});var i=n(61163),r=n(859471),a=n(19821),l=n(586733),o=n(989457),s=n(693154),d=n(538329),c=n(653472),u=n(726329),p=n(542975),h=n(60754),m=n(610593),g=n(562615);let _={__style:{backgroundColor:"rgba(0, 0, 0, 0.04)"}};function f({height:e,image:t,width:n}){let i=(0,d.A)();return(0,g.jsx)(a.az,{dangerouslySetInlineStyle:{__style:{borderRight:"1px solid white"}},children:t?(0,g.jsxs)(a.az,{position:"relative",children:[(0,g.jsx)(a.iX,{contentAspectRatio:(t.width??1)/(t.height??1),height:e,width:n,children:t.url&&(0,g.jsx)(a._V,{alt:i.bt("contextual Pin image", "contextual pin image", "UserContent.PinImage", undefined, true),color:t.dominant_color||void 0,naturalHeight:t.height??1,naturalWidth:t.width??1,src:t.url})}),(0,g.jsx)(a.az,{dangerouslySetInlineStyle:_,height:e,left:!0,position:"absolute",top:!0,width:n})]}):(0,g.jsx)(a.az,{color:"secondary",height:e,width:n})})}function y({action:e,auxData:t,avatarSize:n,avatarUrl:_,contextualPinImages:y,followedByMe:x,followersCount:v,fullName:b,isVerifiedIdentity:A,invertButtonColor:w,isVerifiedMerchant:S,onActionClick:j,recentPinImages:k,suppressToasts:I,truncateName:P=!1,userId:E,username:T,userPinsImages236x:C,userSearchRepStyle:z,viewParameter:F,viewType:R}){let O;(0,r.useEffect)(()=>{(0,i.A)("UserRep","/app/www/common/User/UserRep.tsx")},[]);let{logContextEvent:L}=(0,l.o)(),M=(0,d.A)(),B=(0,s.A)(),D=B.isAuth?B?.avatar_color_index:void 0,N=k?.["222x"]||k?.["192x"]||[],K=y?.["222x"]||y?.["192x"]||[],U=z&&K.length<=0,$=z?K.concat(N).slice(0,4):(C||[]).concat(N).slice(0,2);0===$.length&&($=[void 0,void 0]);let H=z?197:157,V=z?(377.6-2*((O=$.length)-1))/O:117,W=!U&&(0,g.jsx)(a.n1,{rounding:400,children:(0,g.jsx)(a.so,{children:$.map((e,t)=>(0,g.jsx)(f,{height:H,image:$[t],width:V},`pinImage-${t}`))})}),q="";"number"==typeof v&&(q=(0,g.jsx)(c.A,{shortform:!0,shortformMaximumFractionDigits:1,value:v},"followersCount"));let G=n?void 0:80,Y=e=>(0,g.jsx)(a.az,{height:G,marginTop:e,width:G,children:(0,g.jsx)(o.eu,{color:D,name:b??"",outline:!0,size:n||"fit",src:_??""})}),J=e=>(0,g.jsxs)(a.so,{alignItems:e,direction:"column",gap:{row:0,column:1},children:[(0,g.jsx)(a.az,{"data-test-id":"user-rep-name",maxWidth:236,children:(0,g.jsx)(a.KJ,{align:e,lineClamp:P?1:void 0,weight:"bold",children:S||A?(0,g.jsx)(m.A,{badgeSize:"sm",badgeSpacing:2,fullName:b??"",isVerifiedIdentity:A,isVerifiedMerchant:S,truncate:P}):b})}),(0,g.jsx)(a.az,{"data-test-id":"user-rep-followers",children:(0,g.jsx)(a.KJ,{align:e,size:"100",children:(0,p.vQ)(M.nbt(["{{ formattedFollowersCount }} follower", "{{ formattedFollowersCount }} followers"], v, "Label for the number of people following a user", true),{formattedFollowersCount:q})})})]}),Q=(0,g.jsx)(a.so,{height:48,children:e&&e.url?(0,g.jsx)("object",{children:(0,g.jsx)(a.vx,{href:e.url,onClick:({event:e,dangerouslyDisableOnNavigation:n})=>{n(),e.stopPropagation(),L({event_type:9029,object_id_str:E,view_type:R,view_parameter:F,aux_data:{...t}}),j?.()},size:"lg",text:e.text||""})}):(0,g.jsx)(h.A,{fullName:b,id:E,imageUrl:_,invertButtonColor:w,isOwnProfile:B.isAuth&&B.id===E,isSecondaryButton:!0,onUserFollow:j,profileUrl:`/${T}/`,shouldStopEventPropagation:!0,size:"lg",suppressToasts:I,userFollowed:x,viewParameter:F,viewType:R})}),X=b?(0,p.$)(M.bt("profile {{ fullName }}", "profile {{ fullName }}", "UserRep.Card", undefined, true),{fullName:b}):"profile name details";return(0,g.jsx)(u.g$,{impressionType:"User",loggingId:E,viewParameter:F,viewType:R,children:({impressionTrackerRef:e})=>(0,g.jsx)(a.az,{ref:e,width:z?377.6:236,children:(0,g.jsx)(a.az,{"aria-label":M.bt("User", "User", "userRep.ariaLabel", undefined, true),"data-test-id":"user-rep",role:"group",children:(0,g.jsx)(a.$A,{accessibilityLabel:X,href:`/${T}/`,onTap:()=>{L({event_type:43,object_id_str:E,view_type:R,view_parameter:F})},rounding:400,children:(0,g.jsxs)(a.so,{alignItems:"center",direction:"column",gap:{row:0,column:2},children:[W,z?(0,g.jsx)(a.az,{width:377.6,children:(0,g.jsxs)(a.so,{alignItems:"center",justifyContent:"between",children:[(0,g.jsxs)(a.so,{alignItems:"center",gap:{row:2,column:0},children:[Y(),J("start")]}),Q]})}):(0,g.jsxs)(a.so,{alignItems:"center",direction:"column",gap:{row:0,column:2},children:[Y(-10),J("center"),Q]})]})})})})})}},267506(e,t,n){n.d(t,{A:()=>s});var i=n(61163),r=n(859471),a=n(19821),l=n(781560),o=n(562615);function s({action:e,auxData:t,avatarSize:n,avatarUrl:s,contextualPinImages:d,followedByMe:c,followersCount:u,fullName:p,isVerifiedIdentity:h,invertButtonColor:m,isVerifiedMerchant:g,onActionClick:_,recentPinImages:f,suppressToasts:y,truncateName:x=!1,userId:v,username:b,userPinsImages236x:A,userSearchRepStyle:w,viewParameter:S,viewType:j}){return(0,r.useEffect)(()=>{(0,i.A)("UserRepWithCard","/app/www/common/User/UserRepWithCard.tsx")},[]),(0,o.jsx)(a.az,{"data-test-id":"user-rep-with-card",marginBottom:3,marginTop:3,children:(0,o.jsx)(a.pp,{children:(0,o.jsx)(l.A,{action:e,auxData:t,avatarSize:n,avatarUrl:s,contextualPinImages:d,followedByMe:c,followersCount:u,fullName:p,invertButtonColor:m,isVerifiedIdentity:h,isVerifiedMerchant:g,onActionClick:_,recentPinImages:f,suppressToasts:y,truncateName:x,userId:v,username:b,userPinsImages236x:A,userSearchRepStyle:w,viewParameter:S,viewType:j})})})}},106301(e,t,n){n.d(t,{n:()=>p,u:()=>u});var i=n(859471),r=n(979638),a=n(987628),l=n(224723),o=n(971289),s=n(531525),d=n(562615);let{Provider:c,get:u}=(0,a.A)("SearchParams"),p=({children:e,value:t})=>{let n=function(){let e=(0,o.qJ)(),{search:t,pathname:n}=(0,r.zy)(),{scope:i}=(0,r.g)(),a=!i&&n.includes("/_tools/shop");return(0,s.A)({isDesktop:e,scope:a?l.cO.SHOP_TOOL:i??l.cO.PINS,search:t})}(),a=(0,i.useMemo)(()=>({...n,...t}),[n,t]);return(0,d.jsx)(c,{value:a,children:e})}},780355(e,t,n){n.d(t,{lj:()=>s,qG:()=>o,xf:()=>r,xp:()=>a,yC:()=>l});var i=n(216587);let r=({isDesktop:e})=>{let t=(0,i.A)({isDesktop:e});return t?-t:0},a=-2,l=({trafficSource:e,deviceType:t,experimentalGutter:n})=>"desktop"===t?n??16:"board"===e?4:void 0,o=({deviceType:e,customMWebColumnWidth:t,experimentalColumnWidth:n})=>"desktop"===e?n??236:t||200,s=({gutterWidth:e,itemWidth:t,className:n,minColumns:i=2,maxColumns:r=16})=>{let a=t+e;return Array.from({length:r+1-i},(e,t)=>t+i).map(t=>({minWidth:t===i?0:t*a,maxWidth:t===r?null:(t+1)*a-1,styles:`
      .${n} {
        max-width: ${t*a-e}px;
      }
      `})).map(({minWidth:e,maxWidth:t,styles:n})=>`
    @media (min-width: ${e}px) ${t?`and (max-width: ${t}px)`:""} {
      ${n}
    }
  `).join("")}},521344(e,t,n){n.r(t),n.d(t,{default:()=>g});var i=n(61163),r=n(859471),a=n(979638),l=n(19821),o=n(538329),s=n(11925),d=n(307079),c=n(971289),u=n(106301),p=n(432709),h=n(464224),m=n(562615);function g({filters:e,moduleType:t,onClickApplyFilters:n,query:g,viewParameter:_,viewType:f}){(0,r.useEffect)(()=>{(0,i.A)("InclusiveProductFilters","/app/www/inclusiveProduct/InclusiveProductFilters.tsx")},[]);let{currentlyAppliedFiltersParamTerm:y}=(0,u.u)(),x=(0,a.Zp)(),v=(0,o.A)(),b=(0,c.qJ)(),A=(0,c.wI)();if(!e)return null;let{hair_pattern:w,skin_tone:S}=e,j=Array.isArray(w)&&w.length>0;if(!S&&!j)return null;let k=j?h.zB.HAIR:h.zB.SKIN,I=k===h.zB.HAIR,P=k===h.zB.SKIN,E=(()=>{let e=I?w:S;if(Array.isArray(e))return e;if(e&&"object"==typeof e){if("options"in e&&Array.isArray(e.options))return e.options;if("filter_options"in e&&Array.isArray(e.filter_options))return e.filter_options}return[]})(),T=t===h.P4.SEARCH_AUTOCOMPLETE,C=T?"":I?v.bt("Search by hair pattern", "Search by hair pattern", "HairPatternFilters.copy.noTermSelected", undefined, true):P?v.bt("Pick a skin tone range", "Pick a skin tone range", "SkinToneFilters.copy.termSelected", undefined, true):"";return(0,m.jsx)(l.az,{alignItems:"center",color:"default",dangerouslySetInlineStyle:{__style:{paddingBottom:A?"12px":"0px"}},"data-test-id":"inclusive-filters-search",display:"flex",flex:T?"shrink":"grow",marginBottom:2,marginStart:2*!!T,paddingX:6*!!b,width:"100%",children:(0,m.jsx)(l.az,{flex:T?"shrink":"grow",overflow:b?"visible":"scrollX",children:(0,m.jsx)(p.A,{currentlyAppliedFiltersParamTerm:y,filters:E,headerTitle:C,moduleType:t,onClickApplyFilters:n??(e=>{let t=(0,d.A)();e?t.filters=e:delete t.filters,x((0,s.A)(window.location.pathname,t))}),query:I?g:void 0,showHairPatternEducationIcon:I||!1,type:k,viewParameter:_,viewType:f})})})}},464224(e,t,n){n.d(t,{P4:()=>i,bP:()=>r,eS:()=>a,zB:()=>l});let i={CLOSEUP_FEED:"closeup_feed",CLOSEUP_RESPONSIVE:"closeup_responsive",CLOSEUP_STACKED:"closeup_stacked",SEARCH_AUTOCOMPLETE:"search_autocomplete",SEARCH_FEED:"search_feed"},r={CLOSEUP:"closeup"},a={SKIN:"SKIN_TONE_FILTER_QUERIES",HAIR:"hair_pattern_filter_queries",BODY:"inclusive_onebar_pills_on_closeup"},l={SKIN:"skin_tone",HAIR:"hair_pattern",BODY:"body_type"}},48180(e,t,n){function i(e,t){e&&e.includes("~0")&&(e=e.replace("~0",""));let n=t?.includes("~0")?t:`${t||""}~0`;return e&&e.replace("undefined","")?e:n.replace("undefined","")}n.d(t,{A:()=>i})},765346(e,t,n){n.d(t,{Pi:()=>u,Wu:()=>d,of:()=>s,xx:()=>c});var i=n(706114),r=n(998556),a=n(81920);let l=e=>e>=Date.now()-72e5,o=(e,t)=>{let n=[];if(e)for(let i of e)(!t||i.is_shared)&&l(i.ts)&&n.push(i);return n},s=()=>{let e=(0,r.y1)().getItem(i.sH)??[],t=o(e,!1),n=o(e,!0),a=t.map(e=>e.first_pin_image_signature),s=n.map(e=>e.first_pin_image_signature),d=(e=>{let t={};if(e)for(let n of e)n.is_shared&&l(n.ts)&&n.pin_id&&(t[n.pin_id]={inviteCode:n.pin_invite_code});return t})(e);return{extraPlpImages:a,plpImageRenderData:t,extraBlpImages:o((0,r.y1)().getItem(i.xH)??[],!0).map(e=>e.first_pin_image_signature),extraSharedImages:s,sharedPinData:d}},d=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n+=1)if(e[n].id!==t[n].id)return!1;return!0},c=(e,t)=>e.map(e=>({1:e,2:(t[e]||[]).map(e=>({1:e,2:"pin"}))})),u=(e,t,n,i)=>{let r={};return e.forEach(e=>{let l=e.id,o=e.pins.length??0;r[l]=o,(0,a.U9)("webapp.log.nux.pin.picker.step.pin.number.of.pins",o,{sampleRate:1,addHostname:!0,tags:{appType:t,useCaseId:l,gender:n,age:i,use_case_display_name:e.display_name}}),(0,a.uI)("gauge.webapp.log.nux.pin.picker.step.pin.number.of.pins",o,{sampleRate:1,addHostname:!0,tags:{appType:t,useCaseId:l,gender:n,age:i,use_case_display_name:e.display_name}})}),r}},160587(e,t,n){n.d(t,{A:()=>m});var i=n(61163),r=n(859471),a=n(19821),l=n(131094),o=n(971289),s=n(900885),d=n(562615);let c="PinGridSkeletonLoader__tall",u="PinGridSkeletonLoader__short",p=({size:e})=>(0,d.jsx)(a.az,{padding:1,children:(0,d.jsx)("div",{className:"tall"===e?c:u})}),h=({children:e})=>(0,d.jsx)(a.so,{direction:"column",gap:{row:0,column:2},children:e}),m=({partialViewportWidth:e})=>{(0,r.useEffect)(()=>{(0,i.A)("PinGridSkeletonLoader","/app/www/loader/PinGridSkeletonLoader.tsx")},[]);let t="desktop"===(0,o.Ay)(),n=t?236:175;return(0,d.jsxs)(r.Fragment,{children:[(0,d.jsx)(l.A,{unsafeCSS:[{name:c,height:250},{name:u,height:150}].map(({name:e,height:t})=>(0,s.A)({name:e,width:n,height:t})).join("")}),(0,d.jsx)(a.az,{"data-test-id":"pin-grid-skeleton-loader",marginEnd:-1,marginStart:-1,children:t?(0,d.jsxs)(a.so,{direction:"row",gap:{row:4,column:0},children:[(0,d.jsx)(h,{children:(0,d.jsx)(p,{size:"tall"})}),(0,d.jsx)(h,{children:(0,d.jsx)(p,{size:"short"})}),(0,d.jsx)(h,{children:(0,d.jsx)(p,{size:"tall"})}),!e&&(0,d.jsx)(h,{children:(0,d.jsx)(p,{size:"short"})})]}):(0,d.jsxs)(a.so,{direction:"row",justifyContent:"center",overflow:"hidden",children:[(0,d.jsxs)(h,{children:[(0,d.jsx)(p,{size:"tall"}),(0,d.jsx)(p,{size:"short"}),(0,d.jsx)(p,{size:"tall"})]}),(0,d.jsxs)(h,{children:[(0,d.jsx)(p,{size:"short"}),(0,d.jsx)(p,{size:"tall"}),(0,d.jsx)(p,{size:"short"}),(0,d.jsx)(p,{size:"tall"})]})]})})]})}},900885(e,t,n){n.d(t,{A:()=>i});let i=({name:e,width:t,height:n})=>{let i=`${t}${"number"==typeof t?"px":""}`,r=`${n}${"number"==typeof n?"px":""}`,a="number"==typeof t?t:236;return`
.${e} {
  -webkit-animation-duration: 1s;
  -webkit-animation-fill-mode: forwards;
  -webkit-animation-iteration-count: infinite;
  -webkit-animation-name: ${e}_placeHolderShimmer;
  -webkit-animation-timing-function: linear;
  border-radius: 16px;
  background: #f6f7f9;
  background-image: linear-gradient(to right, #f6f7f9 0%, #e9ebee 20%, #f6f7f9 40%, #f6f7f9 100%);
  background-repeat: no-repeat;
  background-size: ${a} ${r};
  width: ${i};
  height: ${r};
}

@keyframes ${e}_placeHolderShimmer{
  0% {
      background-position: -${a}px 0;
  }
  100% {
      background-position: ${a}px 0;
  }
}
`}},168620(e,t,n){n.d(t,{e:()=>i,x:()=>r});let{Provider:i,get:r}=(0,n(987628).A)("LimitedLogin")},143455(e,t,n){n.d(t,{Bh:()=>a,i:()=>r,wC:()=>i});let i=e=>e.bt("Log in to continue", "Log in to continue", "limitedLogin.modalHeader.default", undefined, true),r=e=>e.bt("You're almost there! Log in to access all of Pinterest", "You're almost there! Log in to access all of Pinterest", "loginModal.limitedLogin.subheader", undefined, true),a=({i18n:e,toFollow:t})=>t?e.bt("Log in to follow", "Log in to follow", "limitedLogin.modalHeader.follow", undefined, true):e.bt("Log in to unfollow", "Log in to unfollow", "limitedLogin.modalHeader.unfollow", undefined, true)},226150(e,t,n){n.d(t,{A:()=>o});var i=n(538329),r=n(971289),a=n(168620),l=n(143455);let o=()=>{let e=(0,i.A)(),t=(0,r.qJ)(),{viewer:n,loginForMore:o,limitedLoginModalSubheader:s,limitedLoginModalNextLocation:d}=(0,a.x)();return"LIMITED_LOGIN"===n.type?({modalHeader:n,nextLocation:i})=>r=>{let a=null;r&&(r.nativeEvent&&r.nativeEvent instanceof Event?a=r:r.event&&(a=r.event)),a&&(a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation()),o?.setVisible(!0),s?.setText(n||(t?(0,l.i)(e):(0,l.wC)(e))),i&&d?.setRoute(i)}:({fn:e})=>e}},327210(e,t,n){n.d(t,{A:()=>s});var i=n(61163),r=n(859471),a=n(19821),l=n(201593),o=n(562615);function s({color:e,image:t,isSelected:n,title:s}){(0,r.useEffect)(()=>{(0,i.A)("PillRep","/app/www/nux/PillRep.tsx")},[]);let{isDarkMode:d}=(0,l.D2)();return(0,o.jsxs)(a.az,{alignItems:"center","aria-selected":n,dangerouslySetInlineStyle:{__style:{backgroundColor:d?n?"#fff":"#767676":n?"#111":"#efefef"}},display:"flex",padding:1,rounding:"pill",children:[(0,o.jsx)(a.n1,{height:48,rounding:"circle",width:48,children:t.url&&(0,o.jsx)(a._V,{alt:"",color:e,fit:"cover",naturalHeight:t.height??1,naturalWidth:t.width??1,src:t.url})}),(0,o.jsx)(a.az,{marginEnd:3,marginStart:2,children:(0,o.jsx)(a.KJ,{color:n?"inverse":d?"light":"dark",weight:"bold",children:s})})]})}},531525(e,t,n){n.d(t,{A:()=>a});var i=n(224723),r=n(803489);function a({isDesktop:e,scope:t,search:n}){let{auto_correction_disabled:a="",b_id:l,brands:o,category:s,colors:d,commerce_only:c="",cover_pin_sig:u,deb_d:p,domains:h,filters:m,guided_search_query:g,inline_suggestion:_,interest_id:f,journey_depth:y,on_sale:x,price_max:v,price_min:b,q:A,query_pin_sigs:w,query_image_pins:S,quiz:j,request_params:k,rs:I,selected_one_bar_modules:P,source_id:E,source_module_id:T,tab:C,top_pin_ids:z,user:F}=(0,r.A)(n),R="true"===c.toLowerCase()&&"shop_tool"!==t?i.cO.PINS_BUYABLE:t;return{autoCorrectionDisabled:"true"===a.toLowerCase(),brands:o,bubbleId:l,category:s,colors:d,commerceOnly:"true"===c.toLowerCase(),coverPinSig:u,currentlyAppliedFiltersParamTerm:m,debD:p,domains:h,guidedSearchQuery:g,inlineSuggestion:_,interestId:f,journeyDepth:y?parseInt(y,10):void 0,onSale:x,personalizationPinSig:w,placementId:(0,i.my)(R,e),priceMax:v,priceMin:b,query:A,queryImagePins:S,quiz:j,requestParams:k,rs:I,scope:R,selectedOneBarModules:P,sourceId:E,sourceModuleId:T,tab:C||"",topPinIds:z,user:F,viewParameter:(0,i._n)(R),viewType:R===i.cO.SHOP_TOOL?1:2}}},53279(e,t,n){n.d(t,{A:()=>l});var i=n(979638),r=n(115795),a=n(762512);function l({query:e}){let t=(0,i.zy)(),{auxData:n}=(0,a.A)({skipResourceCall:!(0,r._p)(t)});return{entered_query:n?.metadata?.unity_search_query||e,pinner_displayed_query:e}}},260711(e,t,n){n.d(t,{A:()=>d});var i=n(859471),r=n(106386),a=n(788332),l=n(74806),o=n(813985),s=n(531525);function d(){let e=(0,r.wA)(),t=(0,i.useRef)(void 0);return n=>{n&&function({appliedUnifiedFilters:e,dispatch:t,optionsKeyRef:n,isAuthenticated:i=!0,isDesktop:r=!0,url:d}){let c=new URL(d.startsWith("http")?d:`${window.location.origin}${d}`),u=c.pathname.split("/");if(4!==u.length||"search"!==u[1])return;let{search:p}=c,h=u[2],m=(0,s.A)({isDesktop:r,scope:h,search:p}),g=(0,o.hr)({searchParams:m,appliedUnifiedFilters:e,isAuthenticated:i,isDesktop:r,sourceUrl:d}),_=(0,a.A)(g);n.current!==_&&(n.current=_,t((0,l.Jt)(g.name,{options:g.options},null)))}({dispatch:e,optionsKeyRef:t,url:n})}}},762512(e,t,n){n.d(t,{A:()=>p,Y:()=>h});var i=n(979638),r=n(607126),a=n(601185),l=n(844255),o=n(430705),s=n(813985),d=n(224723),c=n(971289),u=n(106301);function p(e){let{resource:t}=h(e);return t}function h(e){let{skipResourceCall:t}=e||{},{checkExperiment:n}=(0,a.A)(),{isAuthenticated:p}=(0,l._8)(),{pathname:h,search:m}=(0,i.zy)(),g=(0,c.qJ)(),_=!p||!g,f=(0,u.u)(),y=(0,r.A)(),x=(0,s.hr)({searchParams:f,sourceUrl:h+m,isDesktop:g,isAuthenticated:p,appliedUnifiedFilters:y}),v=_;_&&(v=!!p&&!n("unify_search_resource_auth_mweb").anyEnabled);let b=t||f.scope===d.cO.USERS&&!_||v;return{resource:(0,o.A)(b?null:x),options:x.options}}},142089(e,t,n){n.d(t,{FC:()=>r,Jd:()=>a,Lh:()=>d,Qv:()=>c,Rc:()=>o,V6:()=>s,de:()=>l});var i=n(257300);let r=(e,t)=>({type:"UPDATE_CURRENT_SEARCH",payload:{query:e,scope:t}}),a=(e,t)=>({type:"UPDATE_RECENT_SEARCHES",payload:{query:e,scope:t}}),l=e=>({type:"UPDATE_RECENT_SEARCHES_BATCH",payload:{data:e}}),o=(e,t,n)=>({type:"UPDATE_TYPEAHEAD_CACHE",payload:{items:e,term:t,recent_queries_tags:n}}),s=(e,t,n)=>r=>{(0,i.A)({url:"/v3/search/recent/",method:"DELETE",data:{vertical:e||void 0}}).then(t,n),r("PERSONAL"===e?{type:"CLEAR_RECENT_PERSONAL_SEARCHES"}:{type:"CLEAR_RECENT_SEARCHES"})},d=(e,t,n,r,a)=>l=>{n||(0,i.A)({url:"/v3/search/recent/",method:"DELETE",data:{query:e,vertical:t||void 0}}).then(r,a),l("PERSONAL"===t?{type:"CLEAR_RECENT_PERSONAL_SEARCH",payload:{query:e}}:{type:"CLEAR_RECENT_SEARCH",payload:{query:e}})},c=e=>t=>{t({type:"RELOAD_VISUAL_SEARCH_ANNOTATIONS",payload:{pinId:e}})}},676130(e,t,n){n.d(t,{J3:()=>a,X2:()=>o,e6:()=>l,tj:()=>s});var i=n(427471);function r(e,t){return i.A.create("InterestFollowResource",{interest_id:e,interest_list:"favorited",referrer:t})}let a=(e,t)=>({type:"TOPIC_FOLLOW",payload:{id:e,value:t}}),l=(e,t,n)=>async i=>{i(a(e,!0));try{await r(e,n).callCreate(),t({event_type:601,object_id_str:e})}catch(t){i(a(e,!1))}},o=(e,t,n)=>async i=>{i(a(e,!1));try{await r(e,n).callDelete(),t({event_type:602,object_id_str:e})}catch(t){i(a(e,!0))}},s=(e,t="")=>n=>i.A.create("UpdateFollowedInterestsResource",{referrer:t,updated_interest_follows:e}).callUpdate().then(()=>{Object.keys(e).forEach(t=>{let i=e[t];n(a(t,i))})})},504252(e,t,n){n.d(t,{A:()=>i});let i={AGGREGATED_COMMENTS:"aggregatedComments",AGGREGATED_COMMENT_REPLIES:"aggregated-comment-replies",AUTOMAGICAL_BOARD_FEED:"automagical-board-feed",BOARDFEED:"boardfeed",BOARDLESS_PINS:"boardless-pins",BOARD_SECTIONS:"board-sections",BOARD_SECTION_PINS:"board-section-pins",STORY_PINS_FEED:"story-pins-feed",PROFILE_PINS_FEED:"profile-pins-feed",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unified-comments",USE_CASE_TAB:"useCaseFeed",TRIED_IT_FEED:"trieditfeed"}},659664(e,t,n){n.d(t,{A:()=>r});let i={feed:void 0,featuredBoardStoryId:void 0,feedStoryId:void 0,footerStoryId:void 0,boardShopModuleId:void 0,boardShopModuleIndex:void 0},r=(e,t)=>e?e.reduce(({boardShopModuleId:e,boardShopModuleIndex:n,featuredBoardStoryId:i,feed:r,feedStoryId:a,footerStoryId:l},o,s)=>{let d="story"===o.type&&t[o.id]?.story_type,c="board_ideas_feed"===d,u="board_ideas_preview_detailed"===d,p=!1;if("board_shop_tool_module"===d){let e=t[o.id];p=!!e.custom_properties?.is_full_width}return{feed:r.concat(u||c||p?[]:[o]),featuredBoardStoryId:"featured_boards"===d?o.id:i,feedStoryId:c?o.id:a,footerStoryId:u?o.id:l,boardShopModuleId:p?o.id:e,boardShopModuleIndex:p?s:n}},{boardShopModuleId:void 0,boardShopModuleIndex:void 0,featuredBoardStoryId:void 0,feed:[],feedStoryId:void 0,footerStoryId:void 0}):i},129601(e,t,n){n.d(t,{A:()=>p});var i=n(61163),r=n(859471),a=n(19821),l=n(48344),o=n(123576),s=n(718882),d=n(62963),c=n(307424),u=n(562615);function p({oneBarModules:e,showIndicator:t,setProductFiltersModalIsOpen:n,showProductFilters:p=!1}){(0,r.useEffect)(()=>{(0,i.A)("OneBar","/app/www/search/OneBar.tsx")},[]);let h=(0,r.useRef)(null),m=(0,r.useRef)(null),g=(0,r.useRef)(null),[_,f]=(0,r.useState)(0),y=e.map(e=>(0,d.A)(c.A,!0)(e));!function({pillsRef:e,oneBarModules:t,latestSelectedGuideX:n,setLatestSelectedGuideX:i}){(0,r.useEffect)(()=>{if(0!==n)return;let r=t.findIndex(e=>e.display?.isSelected);if(-1===r)return;let a=e.current;if(!a)return;let{children:l,clientWidth:o}=a,s=Array.from(l).slice(0,r+1).reduce((e,t)=>e+t.offsetWidth,0);s>o&&i(s)},[n,t,e,i])}({pillsRef:g,oneBarModules:y,latestSelectedGuideX:_,setLatestSelectedGuideX:f}),(0,r.useEffect)(()=>{setTimeout(()=>{m.current?.scrollTo({top:0,left:_,behavior:"smooth"})},1e3)},[_]);let x=new s.Ay;return(0,r.useEffect)(()=>{let e=h.current;return e&&o.A.addObstruction("top",e),()=>{e&&o.A.removeObstruction("top",e)}}),(0,u.jsx)(a.az,{ref:h,color:"default","data-root-margin":"search-one-bar",height:54,overflow:"hidden",children:(0,u.jsx)(a.az,{ref:m,"data-test-id":"mweb-onebar-search",height:64,overflow:"auto",children:(0,u.jsx)(a.so,{ref:g,gap:1,maxWidth:"100%",children:y.map((e,i)=>(0,u.jsx)(l.A,{hasProductFiltersApplied:t,impressionsFramework:x,index:i,module:e,oneBarModulesKey:null,onFilterButtonClick:()=>{p&&n?.(!0)},setLatestSelectedGuideX:f,showMWebProductFilters:p},`OneBarModule-${e.id||""}`))})})})}},618646(e,t,n){n.d(t,{A:()=>g});var i=n(61163),r=n(859471),a=n(19821),l=n(401691),o=n(303196),s=n(844255),d=n(484409),c=n(684258),u=n(971289),p=n(562615);let h=new a.rk(1),m=new a.K5([h]);function g({children:e,hideOnScroll:t=!1,fixedHeaderRefHeight:n,paddingY:a=0,hasBorder:h=!1,isTransparentBackground:g=!1}){(0,r.useEffect)(()=>{(0,i.A)("SearchFixedHeader","/app/www/search/SearchFixedHeader.tsx")},[]);let _=(0,u.Ay)(),{isAuthenticated:f}=(0,s._8)(),y="true"===d.Ay.getItem(l.IV);return(0,p.jsx)(o.default,{hasBorder:h,height:t?n:void 0,hideOnScroll:t,isTransparentBackground:g,overrideTop:"tablet"===_||y?0:(0,c.A)(_,f),paddingY:a,zIndex:m,children:e})}},627832(e,t,n){n.d(t,{A:()=>b});var i=n(859471),r=n(106386),a=n(19821),l=n(668014),o=n(618243),s=n(971289),d=n(61163),c=n(979638),u=n(586733),p=n(726329),h=n(803489),m=n(53279),g=n(562615);let _=({componentType:e,contextLogData:t,article:n,slotIndex:i,viewParameter:r,viewType:l,width:o})=>{let{action:s,content_type:d,cover_images:c,dominant_colors:h,id:m,title:_}=n,f=c?.[0],y=!!f&&("user"===d?f["150x150"]?.url||f["90x90"]?.url:f["236x"]?.url||f["474x"]?.url),{logContextEvent:x}=(0,u.o)(),v=(0,p.bi)({componentType:e||void 0,contextLogData:t,impressionType:"Article",loggingId:m,slotIndex:i,viewParameter:r,viewType:l});return(0,g.jsx)(a.az,{ref:v,paddingX:1,width:o,children:(0,g.jsx)(a.pp,{children:(0,g.jsx)(a.$A,{href:s?.url??"",onTap:()=>{x({aux_data:t,component:e,event_type:102,view_parameter:r,view_type:l})},rounding:400,children:(0,g.jsxs)(a.so,{alignItems:"center",direction:"column",gap:{row:0,column:2},children:[(0,g.jsx)(a.az,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},overflow:"hidden",rounding:"circle",children:(0,g.jsx)(a.n1,{height:o,rounding:"circle",wash:!0,width:o,children:y&&(0,g.jsx)(a._V,{alt:_.format,color:h[0],fit:"cover",naturalHeight:1,naturalWidth:1,src:y})})}),(0,g.jsx)(a.KJ,{align:"center",lineClamp:2,weight:"bold",children:_.format})]})})})})};function f({componentType:e,slot:t,story:n,viewParameter:l,viewType:o}){(0,i.useEffect)(()=>{(0,d.A)("ExploreByXStory","/app/www/ExploreByXStory.tsx")},[]);let{title:s,objects:u,id:f,story_type:y}=n,{q:x}=(0,h.A)((0,c.zy)().search),v={grid_index:t,story_id:f,story_type:y,...(0,m.A)({query:x})},b=(0,p.bi)({componentType:e||void 0,contextLogData:v,impressionType:"Story",loggingId:f,slotIndex:t,viewParameter:l,viewType:o}),A=(0,r.d4)(({articles:e})=>u?.map(t=>e[t.id||""])||[]),w=(window.innerWidth-8)/3-8;return(0,g.jsx)(a.az,{ref:b,marginBottom:2,marginTop:2,paddingX:1,width:"100%",children:(0,g.jsxs)(a.so,{direction:"column",gap:{row:0,column:4},children:[(0,g.jsx)(a._Y,{align:"center",size:"400",children:s?.format}),(0,g.jsx)(a.so,{justifyContent:"between",wrap:!0,children:A.map(n=>(0,g.jsx)(_,{article:n,componentType:e,contextLogData:v,slotIndex:t,viewParameter:l,viewType:o,width:w},n.id))})]})})}var y=n(526014);let x=(0,i.lazy)(()=>Promise.resolve().then(n.bind(n,57123))),v=["search_article_landing_page_more_ideas_header","search_explore_by_attributes","search_explore_by_brand","search_explore_by_category"];function b({resultsFeed:e,setShowOneBar:t}){let n=(0,s.qJ)();return(0,r.d4)(({stories:i,articles:r})=>{if(n)return null;let s=Array.isArray(e)&&e.length>0?e.findIndex(e=>"story"===e.type&&v.includes(i[e.id].story_type||"")):-1;if(s<=0)return null;let d=i[e[s].id],c="search_explore_by_brand"===d.story_type,u="search_article_landing_page_more_ideas_header"===d.story_type,p={componentType:d.display_options?.content_display?.component_type,slot:s,story:d,viewParameter:43,viewType:2};if(c){let e={...d,objects:d.objects?.map(e=>r[e.id||""])};return{content:(0,g.jsx)(l.A,{name:"SafeSuspense_StructuredFeedStoryModule",children:(0,g.jsx)(o.A,{children:(0,g.jsx)(x,{...p,story:e,storyKey:{type:"Legacy",data:e}})})}),index:s}}return u?{content:(0,g.jsx)(a.az,{marginBottom:4,children:(0,g.jsx)(y.A,{setShowOneBar:t,storyId:d.id||""})}),index:s}:{content:(0,g.jsx)(f,{...p}),index:s}})}},198729(e,t,n){function i({cropSource:e,viewType:t}){return 2===t?"search":e&&5!==e?4===e?"stela":null:"related_products"}n.d(t,{A:()=>i})},752450(e,t,n){n.d(t,{A:()=>er});var i=n(859471),r=n(863730),a=n.n(r),l=Math.sqrt(50),o=Math.sqrt(10),s=Math.sqrt(2);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){var i;i=n[t],t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function h(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function f(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){var t=function(){if("u"<typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=g(e);if(n=t?Reflect.construct(i,arguments,g(this).constructor):i.apply(this,arguments),n&&("object"==typeof n||"function"==typeof n))return n;if(void 0!==n)throw TypeError("Derived constructors may only return object or undefined");return f(this)}}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,i,r=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a=[],l=!0,o=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);l=!0);}catch(e){o=!0,i=e}finally{try{l||null==r.return||r.return()}finally{if(o)throw i}}return a}}(e,t)||b(e,t)||function(){throw TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function v(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("u">typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||b(e)||function(){throw TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function b(e,t){if(e){if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var w="react-compound-slider:";function S(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n){return t.val>n.val?e?-1:1:n.val>t.val?e?1:-1:0}}function j(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=e.findIndex(function(e){return e.key===t});if(-1!==r){var a=e[r],l=a.key;return a.val===n?e:[].concat(v(e.slice(0,r)),[{key:l,val:n}],v(e.slice(r+1))).sort(S(i))}return e}function k(e,t){if(!e)return[0,0];var n=e.getBoundingClientRect();return[t?n.top:n.left,t?n.bottom:n.right]}function I(e){var t=e.type,n=e.touches;return!n||n.length>1||"touchend"===(void 0===t?"":t).toLowerCase()&&n.length>0}function P(e,t){return e?t.touches[0].clientY:t.touches[0].pageX}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,r=0;return{handles:e.map(function(e){var t=n.getValue(e);return e!==t&&(r+=1,a()(!i,"".concat(w," Invalid value encountered. Changing ").concat(e," to ").concat(t,"."))),t}).map(function(e,t){return{key:"$$-".concat(t),val:e}}).sort(S(t)),changes:r}}function T(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.forEach(function(t){return t&&t(e)})}}var C=function(){return{value:0,percent:0}},z=function(e){m(n,e);var t=y(n);function n(){var e;u(this,n);for(var i=arguments.length,r=Array(i),a=0;a<i;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).getRailProps=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.props,i=n.emitMouse,r=n.emitTouch;return c(c({},t),{},{onMouseDown:T(t&&t.onMouseDown,i),onTouchStart:T(t&&t.onTouchStart,r)})},e}return h(n,[{key:"render",value:function(){var e=this.getRailProps,t=this.props,n=t.getEventData,r=t.activeHandleID,a=(0,t.children)({getEventData:n||C,activeHandleID:void 0===r?"":r,getRailProps:e});return a&&i.Children.only(a)}}]),n}(i.Component),F=function(e){m(n,e);var t=y(n);function n(){var e;u(this,n);for(var i=arguments.length,r=Array(i),a=0;a<i;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).autofocus=function(e){e.target instanceof HTMLElement&&e.target.focus()},e.getHandleProps=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.props,r=i.emitKeyboard,a=i.emitMouse,l=i.emitTouch;return c(c({},n),{},{onKeyDown:T(n&&n.onKeyDown,function(e){return r&&r(e,t)}),onMouseDown:T(n&&n.onMouseDown,e.autofocus,function(e){return a&&a(e,t)}),onTouchStart:T(n&&n.onTouchStart,function(e){return l&&l(e,t)})})},e}return h(n,[{key:"render",value:function(){var e=this.getHandleProps,t=this.props,n=t.activeHandleID,r=t.children,a=t.handles,l=r({handles:void 0===a?[]:a,activeHandleID:void 0===n?"":n,getHandleProps:e});return l&&i.Children.only(l)}}]),n}(i.Component),R=function(){function e(){u(this,e),this.interpolator=void 0,this.domain=[0,1],this.range=[0,1],this.domain=[0,1],this.range=[0,1],this.interpolator=null}return h(e,[{key:"createInterpolator",value:function(e,t){var n=this,i=e[0],r=e[1],a=t[0],l=t[1];return r<i?function(e){return n.interpolateValue(l,a)(n.deinterpolateValue(r,i)(e))}:function(e){return n.interpolateValue(a,l)(n.deinterpolateValue(i,r)(e))}}},{key:"interpolateValue",value:function(e,t){return e*=1,t-=e,function(n){return e+t*n}}},{key:"deinterpolateValue",value:function(e,t){return(t-=e*=1)?function(n){return(n-e)/t}:function(){return t}}},{key:"rescale",value:function(){return this.interpolator=null,this}},{key:"getValue",value:function(e){var t=this.domain,n=this.range;return(this.interpolator||(this.interpolator=this.createInterpolator(t,n)))(+e)}},{key:"setDomain",value:function(e){return this.domain=[e[0],e[1]],this.rescale(),this}},{key:"getDomain",value:function(){return this.domain}},{key:"setRange",value:function(e){return this.range=[e[0],e[1]],this}},{key:"getRange",value:function(){return this.range}},{key:"getTicks",value:function(e){var t=this.domain;return function(e,t,n){var i,r,a,d,c,u,p,h=-1;if(n*=1,(e*=1)==(t*=1)&&n>0)return[e];if((d=t<e)&&(c=e,e=t,t=c),0==(r=Math.floor(Math.log(i=(t-e)/Math.max(0,n))/Math.LN10),a=i/Math.pow(10,r),p=r>=0?(a>=l?10:a>=o?5:a>=s?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(a>=l?10:a>=o?5:a>=s?2:1))||!isFinite(p))return[];if(p>0){let n=Math.round(e/p),i=Math.round(t/p);for(n*p<e&&++n,i*p>t&&--i,u=Array(c=i-n+1);++h<c;)u[h]=(n+h)*p}else{let n=Math.round(e*(p=-p)),i=Math.round(t*p);for(n/p<e&&++n,i/p>t&&--i,u=Array(c=i-n+1);++h<c;)u[h]=(n+h)/p}return d&&u.reverse(),u}(t[0],t[t.length-1],e||10)}}]),e}(),O=function(){return{value:0,percent:0}},L=function(e){m(n,e);var t=y(n);function n(){return u(this,n),t.apply(this,arguments)}return h(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.values,r=e.scale,a=void 0===r?new R:r,l=e.count,o=e.getEventData,s=e.activeHandleID,d=t({getEventData:void 0===o?O:o,activeHandleID:void 0===s?"":s,ticks:(n||a.getTicks(void 0===l?10:l)).map(function(e){return{id:"$$-".concat(e),value:e,percent:a.getValue(e)}})});return d&&i.Children.only(d)}}]),n}(i.Component),M=function(){return{value:0,percent:0}},B=function(e){m(n,e);var t=y(n);function n(){var e;u(this,n);for(var i=arguments.length,r=Array(i),a=0;a<i;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).getTrackProps=function(t){var n=e.props,i=n.emitMouse,r=n.emitTouch;return c(c({},t||{}),{},{onMouseDown:T(t&&t.onMouseDown,i),onTouchStart:T(t&&t.onTouchStart,r)})},e}return h(n,[{key:"render",value:function(){for(var e=this.getTrackProps,t=this.props,n=t.children,r=t.left,a=void 0===r||r,l=t.right,o=void 0===l||l,s=t.scale,d=void 0===s?new R:s,c=t.handles,u=void 0===c?[]:c,p=t.getEventData,h=t.activeHandleID,m=d.getDomain(),g=[],_=0;_<u.length+1;_++){var f=u[_-1],y=u[_];0===_&&!0===a?f={id:"$",value:m[0],percent:0}:_===u.length&&!0===o&&(y={id:"$",value:m[1],percent:100}),f&&y&&g.push({id:"".concat(f.id,"-").concat(y.id),source:f,target:y})}var x=n({getEventData:void 0===p?M:p,activeHandleID:void 0===h?"":h,tracks:g,getTrackProps:e});return x&&i.Children.only(x)}}]),n}(i.Component);function D(e,t,n){return Math.min(Math.max(e,t),n)}var N=h(function e(){var t=this;u(this,e),this.step=1,this.domain=[0,1],this.range=[0,1],this.setDomain=function(e){return t.domain=[e[0],e[1]],t},this.setRange=function(e){return t.range=[e[0],e[1]],t},this.setStep=function(e){return t.step=e,t},this.getValue=function(e){var n=x(t.domain,2),i=n[0],r=n[1],a=x(t.range,2),l=a[0],o=a[1],s=t.step,d=s*Math.round((D(e,i,r)-i)/(r-i)*(o-l)/s)+l;return D(d,l<o?l:o,o>l?o:l)}}),K="u">typeof window&&"u">typeof document,U=function(){},$=function(e){if(!(0,i.isValidElement)(e))return!1;var t=e.type,n=t?t.name:"";return n===F.name||n===z.name||n===L.name||n===B.name},H=function(e,t,n,i){var r=i?e-t:e+t;return i?Math.max(n[0],r):Math.min(n[1],r)},V=function(e,t,n,i){var r=i?e+t:e-t;return i?Math.min(n[1],r):Math.max(n[0],r)},W=[0,100],q=function(e){m(n,e);var t=y(n);function n(){var e;u(this,n);for(var r=arguments.length,a=Array(r),l=0;l<r;l++)a[l]=arguments[l];return(e=t.call.apply(t,[this].concat(a))).state={step:.1,values:[],domain:W,handles:[],reversed:!1,activeHandleID:"",valueToPerc:null,valueToStep:null,pixelToStep:null},e.slider=i.createRef(),e.onKeyDown=function(t,n){var i=["ArrowRight","ArrowUp"],r=["ArrowDown","ArrowLeft"],a=f(e),l=a.state.handles,o=a.props,s=o.step,d=void 0===s?.1:s,c=o.reversed,u=void 0!==c&&c,p=o.vertical,h=o.domain,m=void 0===h?[0,100]:h,g=t.key||"".concat(t.keyCode);if(i.concat(r).includes(g)){if(void 0!==p&&p){var _=[r,i];i=_[0],r=_[1]}t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault();var y=l.find(function(e){return e.key===n});if(y){var x=y.val,v=x;i.includes(g)?v=H(x,d,m,u):r.includes(g)&&(v=V(x,d,m,u));var b=l.map(function(e){return e.key===n?{key:e.key,val:v}:e});e.submitUpdate(b,!0)}}},e.onMouseDown=function(t,n){e.onStart(t,n,!1)},e.onTouchStart=function(t,n){I(t)||e.onStart(t,n,!0)},e.getEventData=function(t,n){var i,r=f(e),a=r.state,l=a.pixelToStep,o=a.valueToPerc,s=r.props.vertical;return l.setDomain(k(e.slider.current,s)),n&&t instanceof TouchEvent?i=l.getValue(P(s,t)):t instanceof MouseEvent&&(i=l.getValue(s?t.clientY:t.pageX)),{value:i,percent:o.getValue(i)}},e.onMouseMove=function(t){var n=f(e),i=n.state,r=i.handles,a=i.pixelToStep,l=i.activeHandleID,o=n.props,s=o.vertical,d=o.reversed;a.setDomain(k(e.slider.current,s));var c=j(r,void 0===l?"":l,a.getValue(s?t.clientY:t.pageX),void 0!==d&&d);e.submitUpdate(c)},e.onTouchMove=function(t){var n=f(e),i=n.state,r=i.handles,a=i.pixelToStep,l=i.activeHandleID,o=n.props,s=o.vertical,d=o.reversed;if(!(null===a||I(t))){a.setDomain(k(e.slider.current,s));var c=j(r,l,a.getValue(P(s,t)),d);e.submitUpdate(c)}},e.onMouseUp=function(){var t=f(e),n=t.state,i=n.handles,r=void 0===i?[]:i,a=n.activeHandleID,l=t.props,o=l.onChange,s=void 0===o?U:o,d=l.onSlideEnd,c=void 0===d?U:d;s(r.map(function(e){return e.val})),c(r.map(function(e){return e.val}),{activeHandleID:a}),e.setState({activeHandleID:""}),K&&(document.removeEventListener("mousemove",e.onMouseMove),document.removeEventListener("mouseup",e.onMouseUp))},e.onTouchEnd=function(){var t=f(e),n=t.state,i=n.handles,r=n.activeHandleID,a=t.props,l=a.onChange,o=void 0===l?U:l,s=a.onSlideEnd,d=void 0===s?U:s;o(i.map(function(e){return e.val})),d(i.map(function(e){return e.val}),{activeHandleID:r}),e.setState({activeHandleID:""}),K&&(document.removeEventListener("touchmove",e.onTouchMove),document.removeEventListener("touchend",e.onTouchEnd))},e}return h(n,[{key:"componentDidMount",value:function(){var e=this.state.pixelToStep,t=this.props.vertical;e.setDomain(k(this.slider.current,t))}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"removeListeners",value:function(){K&&(document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"onStart",value:function(e,t,n){var i=this.state.handles,r=this.props.onSlideStart,a=void 0===r?U:r;!n&&e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),i.find(function(e){return e.key===t})?(this.setState({activeHandleID:t}),a(i.map(function(e){return e.val}),{activeHandleID:t}),n?this.addTouchEvents():this.addMouseEvents()):(this.setState({activeHandleID:""}),this.handleRailAndTrackClicks(e,n))}},{key:"handleRailAndTrackClicks",value:function(e,t){var n,i=this,r=this.state,a=r.handles,l=r.pixelToStep,o=this.props,s=o.vertical,d=o.reversed,c=this.slider;l.setDomain(k(c.current,s)),n=t?l.getValue(P(s,e)):l.getValue(s?e.clientY:e.pageX);for(var u="",p=1/0,h=0;h<a.length;h++){var m=a[h],g=m.key,_=Math.abs(m.val-n);_<p&&(u=g,p=_)}var f=j(a,u,n,void 0!==d&&d);this.setState({activeHandleID:u},function(){i.submitUpdate(f,!0),t?i.addTouchEvents():i.addMouseEvents()})}},{key:"addMouseEvents",value:function(){K&&(document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp))}},{key:"addTouchEvents",value:function(){K&&(document.addEventListener("touchmove",this.onTouchMove),document.addEventListener("touchend",this.onTouchEnd))}},{key:"submitUpdate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.props,i=n.mode,r=void 0===i?1:i,l=n.step,o=void 0===l?.1:l,s=n.onUpdate,d=void 0===s?U:s,c=n.onChange,u=void 0===c?U:c,p=n.reversed,h=void 0!==p&&p,m=this.state.valueToStep.getValue;this.setState(function(n){var i=n.handles,l=[];if("function"==typeof r)l=r(i,e,o,h,m),a()(Array.isArray(l),"Custom mode function did not return an array.");else switch(r){case 1:l=e;break;case 2:l=function(e,t){for(var n=0;n<e.length;n++)if(e[n].key!==t[n].key||t[n+1]&&t[n].val===t[n+1].val)return e;return t}(i,e);break;case 3:l=function e(t,n,i,r,a){for(var l=-1,o=!0,s=0;s<t.length;s++){var d=t[s],c=n[s];if(!c||c.key!==d.key)return t;c.val!==d.val&&(l=s,o=c.val-d.val>0)}if(-1===l)return t;for(var u=o?i:-i,p=0;p<n.length;p++){var h=n[p],m=n[p+1];if(m&&h.val===m.val)if(p===l){var g=m.val+u;if(a(g)!==g)return t;var _=j(n,m.key,m.val+u,r),f=e(n,_,i,r,a);if(f===n)return t;return f}else{var y=h.val+u;if(a(y)!==y)return t;var x=j(n,h.key,h.val+u,r),v=e(n,x,i,r,a);if(v===n)return t;return v}}return n}(i,e,o,h,m);break;default:l=e,a()(!1,"".concat(w," Invalid mode value."))}return d(l.map(function(e){return e.val})),t&&u(l.map(function(e){return e.val})),{handles:l}})}},{key:"render",value:function(){var e=this,t=this.state,n=t.handles,r=t.valueToPerc,a=t.activeHandleID,l=this.props,o=l.className,s=l.rootStyle,d=void 0===s?{}:s,u=l.rootProps,p=void 0===u?{}:u,h=l.component,m=void 0===h?"div":h,g=l.disabled,_=void 0!==g&&g,f=l.flatten,y=n.map(function(e){var t=e.key,n=e.val;return{id:t,value:n,percent:r.getValue(n)}}),x=i.Children.map(this.props.children,function(t){return!0===$(t)?i.cloneElement(t,{scale:r,handles:y,activeHandleID:a,getEventData:e.getEventData,emitKeyboard:_?U:e.onKeyDown,emitMouse:_?U:e.onMouseDown,emitTouch:_?U:e.onTouchStart}):t});return void 0!==f&&f?i.createElement(i.Fragment,null,i.createElement(m,c(c({},p),{},{style:d,className:o,ref:this.slider})),x):i.createElement(i.Fragment,null,i.createElement(m,c(c({},p),{},{style:d,className:o,ref:this.slider}),x))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n,i,r=e.step,l=void 0===r?.1:r,o=e.values,s=e.domain,d=void 0===s?W:s,c=e.reversed,u=void 0!==c&&c,p=e.onUpdate,h=void 0===p?U:p,m=e.onChange,g=void 0===m?U:m,_=e.warnOnChanges,f=void 0!==_&&_,y=t.valueToPerc,b=t.valueToStep,A=t.pixelToStep,S={};if(y&&b&&A||(y=new R,b=new N,A=new N,S.valueToPerc=y,S.valueToStep=b,S.pixelToStep=A),t.domain===W||null===t.step||null===t.domain||null===t.reversed||l!==t.step||d[0]!==t.domain[0]||d[1]!==t.domain[1]||u!==t.reversed){var j=x(d,2),k=j[0],I=j[1];b.setStep(l).setRange([k,I]).setDomain([k,I]),!0===u?(y.setDomain([k,I]).setRange([100,0]),A.setStep(l).setRange([I,k])):(y.setDomain([k,I]).setRange([0,100]),A.setStep(l).setRange([k,I])),a()(I>k,"".concat(w," Max must be greater than min (even if reversed). Max is ").concat(I,". Min is ").concat(k,"."));var P=E(o||t.values,u,b,f),T=P.handles;(P.changes||void 0===o||o===t.values)&&(h(T.map(function(e){return e.val})),g(T.map(function(e){return e.val}))),S.step=l,S.values=o,S.domain=d===W?v(d):d,S.handles=T,S.reversed=u}else{if(!((n=o)===(i=t.values)||n.length===i.length&&n.reduce(function(e,t,n){return e&&i[n]===t},!0))){var C=E(o,u,b,f),z=C.handles;C.changes&&(h(z.map(function(e){return e.val})),g(z.map(function(e){return e.val}))),S.values=o,S.handles=z}}return Object.keys(S).length?S:null}}]),n}(i.PureComponent),G=n(19821),Y=n(743372),J=n(201593),Q=n(538329),X=n(183756),Z=n(844255),ee=n(895493),et=n(562615);let en=({domain:[e,t],handle:{id:n,value:i,percent:r},getHandleProps:a,touched:l,activeHandleID:o})=>{let{onKeyDown:s,onMouseDown:d,onTouchStart:c}=a(n);return(0,et.jsx)(G.az,{"aria-valuemax":t,"aria-valuemin":e,"aria-valuenow":i,dangerouslySetInlineStyle:{__style:{left:`${r}%`,marginLeft:"-11px",marginTop:"-6px",border:"1px solid white",cursor:"pointer",backgroundColor:"black",transform:l&&o===n?"scale(2)":"scale(1)",transition:"transform 0.2s"}},height:15,onKeyDown:s,onMouseDown:d,onTouchStart:c,position:"absolute",role:"slider",rounding:"circle",tabIndex:0,width:15,zIndex:new G.rk(2)})},ei=({source:e,target:t,getTrackProps:n,backgroundColor:i})=>(0,et.jsx)("div",{style:{position:"absolute",height:5,zIndex:1,backgroundColor:i||"black",borderRadius:7,cursor:"pointer",left:`${e.percent}%`,width:`${t.percent-e.percent}%`},...n()}),er=function({cropSource:e,currencyType:t,minPrice:n,maxPrice:r,lowerBound:a,upperBound:l,handlePriceChange:o,withTitle:s,instructions:d}){let c=(0,Q.A)(),{isDarkMode:u}=(0,J.D2)(),p=(0,X.A)(),h=(0,Y.A)(),{locale:m}=(0,Z._8)(),g={position:"absolute",width:"100%",height:5,borderRadius:7,cursor:"pointer",backgroundColor:u?"#454545":"lightGrey"},_=[Math.ceil(a),Math.ceil(l)],f=[Math.ceil(n),Math.ceil(r)],[y,x]=(0,i.useState)([!1,!1]);(0,i.useEffect)(()=>{h({event_type:120,component:13468,view_parameter:3396,view_type:72,aux_data:{commerce_data:JSON.stringify({source:(0,ee.A)(e)})}})},[]);let v={currency:t,style:"currency",minimum_fraction_digits:0,maximum_fraction_digits:2};return(0,et.jsxs)(i.Fragment,{children:[s&&(0,et.jsx)(G.az,{"data-test-id":"price-filter-label",paddingY:4,children:(0,et.jsx)(G.KJ,{children:c.bt("Price range", "Price range", "FeedFiltering.PriceFilter.PriceRange", undefined, true)})}),(0,et.jsxs)(G.az,{alignItems:"center",display:"flex",justifyContent:"between",marginBottom:3,children:[(0,et.jsx)(G.KJ,{weight:"bold",children:(0,et.jsx)(G.az,{dangerouslySetInlineStyle:{__style:{transform:y[0]?"translateZ(0) translateY(0) scale(1.25)":""}},"data-test-id":"min-price-filter",children:p(m,f[0],v)})}),(0,et.jsx)(G.KJ,{weight:"bold",children:(0,et.jsx)(G.az,{dangerouslySetInlineStyle:{__style:{transform:y[1]?"translateZ(0) translateY(0) scale(1.25)":"",textAlign:"right"}},"data-test-id":"max-price-filter",children:p(m,f[1],{...v,uplimit:l})})})]},"priceSliderValues"),(0,et.jsxs)(q,{domain:_,mode:2,onChange:()=>{x([!1,!1])},onUpdate:e=>{o(e);let[t,n]=f,[i,r]=e;t!==i?x([!0,!1]):n!==r&&x([!1,!0])},rootStyle:{margin:"5%",position:"relative",width:"90%"},step:1,values:f,children:[(0,et.jsx)(z,{children:({getRailProps:e})=>(0,et.jsx)("div",{"data-test-id":"slider-handles-rail",style:g,...e()})}),(0,et.jsx)(F,{children:({handles:e,getHandleProps:t,activeHandleID:n})=>(0,et.jsx)("div",{className:"slider-handles","data-test-id":"slider-handles",children:e.map((e,i)=>(0,et.jsx)(en,{activeHandleID:n,domain:_,getHandleProps:t,handle:e,touched:y[i]},e.id))})}),(0,et.jsx)(B,{left:!1,right:!1,children:({tracks:e,getTrackProps:t})=>(0,et.jsx)("div",{className:"slider-tracks",children:e.map(({id:e,source:n,target:i})=>(0,et.jsx)(ei,{backgroundColor:u?"white":"black",getTrackProps:t,source:n,target:i},e))})})]}),(0,et.jsx)(G.az,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginTop:12,children:(0,et.jsx)(G.KJ,{children:d||c.bt("Drag to change price", "Drag to change price", "FeedFiltering.PriceFilter.PriceDragText", undefined, true)})})]})}},368670(e,t,n){n.d(t,{A:()=>f,Q:()=>m});var i=n(61163),r=n(859471),a=n(106386),l=n(19821),o=n(932369),s=n(578670),d=n(464498),c=n(287803),u=n(408738),p=n(562615);let h=(0,u.A)(()=>Promise.all([n.e("44175"),n.e("81956")]).then(n.bind(n,498910)),void 0,e=>498910,"app-www-storyPins-duplo-HlsVideoContainer",e=>["44175","81956"]),m=Object.freeze({white:"inverse",black:"default"}),g={backgroundColor:"rgba(0, 0, 0, 0.4)"};function _({titleText:e,videoPin:t,videoPlaceholderImage:n}){return(0,p.jsx)(h,{aspectRatio:d.tI,controls:!1,fallback:(0,p.jsx)(l._V,{alt:e||"",color:"rgb(111, 91, 77)",fit:"cover",naturalHeight:3,naturalWidth:2,src:n||t.metadata.thumbnail}),poster:n||t.metadata.thumbnail,src:t.url})}function f({buttonAction:e,buttonCustomization:t,buttonText:n,experience:u,hideCompleteButton:h,imageAlt:m,imageUrl:f,openNewTab:y,storyType:x,titleText:v,titleTextColor:b,titleTextCustomization:A,videoPin:w,videoPlaceholderImage:S}){(0,r.useEffect)(()=>{(0,i.A)("FeedCard","/app/www/stories/FeedCard.tsx")},[]);let j=(0,a.wA)(),k=(0,o.Hy)(),I=(0,o.Dz)(),{experience_id:P,placement_id:E}=u||{},T=(0,c.A)({onVisibilityChanged:e=>{e&&u&&"viewed"!==u.status&&void 0!==E&&void 0!==P&&(u.status="viewed",j(I(E,P,!1,!0)))}}),C=(0,d.y3)(x),z=C?s.UV:s.Zk,F=C?s.ws:s.qZ,{color:R,fontStyle:O,fontWeight:L,horizontalAlignment:M,fontSize:B}=(0,d.R2)(A||{},"mweb");return(0,p.jsx)(l.az,{ref:T,marginBottom:2,padding:1,position:"relative",children:(0,p.jsxs)(l.N_,{accessibilityLabel:v,href:e,onClick:({dangerouslyDisableOnNavigation:e})=>{e(),u&&j(k(E,P,!1,!0))},target:y?"blank":null,children:[(0,p.jsx)(l.az,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(150%)"}},position:"relative",children:(0,p.jsxs)(l.az,{bottom:!0,dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},left:!0,overflow:"hidden",position:"absolute",right:!0,rounding:400,top:!0,children:[(0,p.jsx)(l.az,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:"feed_card_video"===x&&w?(0,p.jsx)(_,{titleText:v,videoPin:w,videoPlaceholderImage:S}):f&&(0,p.jsx)(l._V,{alt:m||v||"",color:"rgb(111, 91, 77)",fit:"cover",naturalHeight:4,naturalWidth:3,src:f})}),!C&&(0,p.jsx)(l.az,{dangerouslySetInlineStyle:{__style:g},height:"100%",left:!0,position:"absolute",top:!0,width:"100%"}),(0,p.jsx)(z,{children:(0,p.jsx)(l.KJ,{align:M,color:b,italic:"italics"===O,weight:L,children:(0,p.jsx)(l.az,{dangerouslySetInlineStyle:{__style:{color:(R||b)??void 0,fontSize:B}},children:v})})})]})}),!h&&(0,p.jsx)(F,{children:(0,p.jsx)(l.$n,{color:(0,d.sG)(t),text:n})})]})})}},134820(e,t,n){n.d(t,{A:()=>P});var i=n(106386),r=n(19821),a=n(464498),l=n(136897),o=n(747839),s=n(985279),d=n(368670),c=n(61163),u=n(859471),p=n(979638),h=n(743372),m=n(194046),g=n(699613),_=n(562615);function f({pin:e,width:t,height:n,showDivider:i}){let a=e.images?.["236x"];return(0,_.jsx)(r.az,{dangerouslySetInlineStyle:{__style:i?{borderRight:"2px solid #fff"}:{}},children:(0,_.jsx)(r.iX,{contentAspectRatio:(a?.width??1)/(a?.height??1),height:n,width:t,children:a?.url&&(0,_.jsx)(r._V,{alt:e.description??"",naturalHeight:a?.height??1,naturalWidth:a?.width??1,src:a.url})})})}function y({storyId:e,slotIndex:t}){(0,u.useEffect)(()=>{(0,c.A)("FlashlightProductStory","/app/www/stories/FlashlightProductStory.tsx")},[]);let n=(0,p.Zp)(),a=(0,p.zy)(),[l,o]=(0,u.useState)(0),s=(0,u.useRef)(null),d=(0,h.A)(),y=(0,g.HR)();(0,u.useLayoutEffect)(()=>{let e=s.current;e&&o(e.offsetWidth)},[]);let x=(0,i.d4)(({stories:t})=>t[e]),v=x?.objects?.map(e=>y(e?.id)).filter(Boolean).slice(0,2),{story_type:b,action:A}=x,w=`${a.pathname}products/${a.search}`,S=()=>{d({component:200,event_type:102,view_parameter:3050,view_type:72}),n(w)};return(0,_.jsx)(m.zU,{auxData:{story_type:b,content_ids:v?.map(e=>e?.id),story_id:e},component:200,loggingId:e,objectIdStr:e,slotIndex:t,viewParameter:3050,viewType:72,children:({impressionTrackerRef:e})=>l?(0,_.jsx)(r.az,{ref:e,padding:2,children:(0,_.jsx)(r.n1,{rounding:200,children:(0,_.jsxs)(r.Rp,{onTap:S,children:[(0,_.jsx)(r.az,{alignItems:"center",color:"secondary",display:"flex",justifyContent:"center",children:v?.map((e,t)=>(0,_.jsx)(f,{height:l-16,pin:e,showDivider:!t,width:(l-16)/2-1},e?.id))}),(0,_.jsx)(r.az,{height:"100%",left:!0,position:"absolute",top:!0,width:"100%",children:(0,_.jsx)(r.so,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,_.jsx)(r.az,{alignItems:"center",color:"secondary","data-test-id":"flashlight-story-action-pill",display:"flex",justifyContent:"center",paddingX:4,paddingY:2,rounding:"pill",children:(0,_.jsx)(r.KJ,{weight:"bold",children:A?.text})})})})]})})}):(0,_.jsx)(r.az,{ref:s,dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative"})})}var x=n(550021),v=n(57123);function b({storyId:e,viewType:t,viewParameter:n}){(0,u.useEffect)(()=>{(0,c.A)("SearchBubbleStructuredFeedWrapper","/app/www/stories/SearchBubbleStructuredFeedWrapper.tsx")},[]);let a=(0,i.d4)(({stories:e})=>e),l=(0,i.d4)(({articles:e})=>e),o=a[e],s=(o.objects||[]).map(e=>{if("article"===e.schema){let t=l[e.id];return{action:{url:t.action?.url},cover_images:[{"236x":{url:t.cover_images?.[0]["236x"]?.url??""}}],title:{format:t.title.format},type:"explorearticle"}}return"story"===e.schema?a[e.id]:e}),d=o.display_options,p=d?.content_display,h=d?.header_display,m={container_type:o.container_type,display_options:{num_columns_requested:d?.num_columns_requested,content_display:{grid_layout:p?.grid_layout,model_type:p?.model_type},header_display:{text_alignment:h?.text_alignment,header_size:h?.header_size},item_view_rep_style:d?.item_view_rep_style},id:e,objects:s,story_type:o.story_type,title:{format:o.title?.format}};return(0,_.jsx)(r.az,{padding:1,children:(0,_.jsx)(v.default,{story:m,storyKey:{type:"Legacy",data:m},view:t,viewParameter:n,width:"100%"})})}var A=n(803489),w=n(890922);function S({guides:e,query:t}){return(0,u.useEffect)(()=>{(0,c.A)("SearchGuides","/app/www/search/SearchGuides.tsx")},[]),(0,_.jsx)(r.az,{padding:2,children:(0,_.jsx)(r.so,{alignItems:"start",direction:"column",gap:{row:0,column:1},width:"100%",children:e.map(({display:e,position:n,term:i,color:a})=>{let l;return(0,_.jsx)(r.dL,{color:a,href:(l=-1===n?i:0===n?`${i} ${t}`:`${t} ${i}`,`/search/pins/?rs=${w.I.VANILLA_GUIDE}&q=${encodeURIComponent(l)}`),text:e},e)})})})}let j=["greenStrong","blueStrong","purpleWeak","blueWeak","redWeak","orangeWeak","greenWeak"];function k({guides:e,storyId:t,slotIndex:n,titleFormat:i}){(0,u.useEffect)(()=>{(0,c.A)("SearchGuidesStory","/app/www/stories/SearchGuidesStory.tsx")},[]);let a=(0,A.A)((0,p.zy)().search).q??"";return(0,_.jsx)(m.zU,{auxData:{story_type:"search_guides"},component:200,loggingId:t,objectIdStr:t,slotIndex:n,viewParameter:43,viewType:2,children:({impressionTrackerRef:t})=>(0,_.jsxs)(r.az,{ref:t,children:[i&&(0,_.jsx)(r.az,{marginTop:2,paddingY:1,children:(0,_.jsx)(r.KJ,{align:"center",children:i})}),(0,_.jsx)(S,{guides:e.map(({display:e,term:t})=>({display:e,color:j[e.charCodeAt(0)%j.length],position:-1,term:t})),query:a})]})})}var I=n(216420);let P=function({slotIndex:e,storyId:t,viewParameter:n,viewType:c}){let u=(0,i.d4)(({stories:e})=>e[t]);if(!u||!u.story_type)return null;let p=(0,I.A)({containerTypeIsItemGrid:u?.container_type===56,storyType:u?.story_type??""})?"BUBBLE_ONE_COL":u?.story_type,h=u.objects,m=h?.filter(e=>"contextual_search"===e.schema||"contextual_search"===e.type).map(e=>({schema:"contextual_search",display:e.display??"",term:e.term??""})),g=u.action?.text,f=u.action?.url,v=u.display_options?{numColumnsRequested:u.display_options.num_columns_requested||1,titleTextColor:u.display_options.title_text_color||""}:null,A=u.experience,w=u.title&&u.title.format,S=u.description?.format,j=u.custom_properties;switch(p){case s.e9:{if(!j||!v)return null;let{numColumnsRequested:e,titleTextColor:t}=v;if(2===e)return null;return(0,_.jsx)(l.A,{actionType:j.actionType,avatarImageDetails:j.avatar_image_details??{},buttonAction:f??"",buttonText:g??"",descriptionText:S??"",descriptionTextCustomization:j.description_text_customization,examplePinImage:j.example_pin_image_details?.originals??{},experience:A??void 0,hideCompleteButton:j.hide_complete_button,imageAlt:j.image_alt,imageUrl:j.image,isFullWidth:!1,openNewTab:j.open_new_tab,titleText:w??"",titleTextColor:TITLE_COLORS[t],titleTextCustomization:j.title_text_customization})}case"feed_card_default":case"feed_card_video":return(0,_.jsx)(d.A,{buttonAction:f??"",buttonCustomization:j.button_customization,buttonText:g??"",experience:A??void 0,hideCompleteButton:j.hide_complete_button,imageAlt:j.image_alt,imageUrl:j.image,openNewTab:j.open_new_tab,storyType:p,titleText:w??"",titleTextColor:(0,a.WV)(j,v?.titleTextColor),titleTextCustomization:j.title_text_customization,videoPin:j.video_pin,videoPlaceholderImage:j.video_placeholder_image});case"general_shopping_upsell":return(0,_.jsx)(d.A,{buttonAction:f??"",buttonText:g??"",imageAlt:j?.image_alt,imageUrl:j?.image,storyType:p,titleText:w??"",titleTextColor:v?.titleTextColor?(0,a.WV)(void 0,v.titleTextColor):"black"});case"BUBBLE_ONE_COL":return(0,_.jsx)(r.az,{padding:2,children:(0,_.jsx)(o.A,{slotIndex:e,storyKey:{type:"Legacy",data:u},viewParameter:n,viewType:c})});case"pinner_authority":case"pinner_authority_unified":return(0,_.jsx)(x.A,{slotIndex:e,storyId:t});case"stela_in_flashlight_onecol":return(0,_.jsx)(y,{slotIndex:e,storyId:t});case"search_guides":return(0,_.jsx)(k,{guides:m??[],slotIndex:e,storyId:t,titleFormat:w??""});case"related_searches_organic":case"related_searches":return(0,_.jsx)(b,{storyId:t,viewParameter:n,viewType:c});default:return null}}},550021(e,t,n){n.d(t,{A:()=>u});var i=n(61163),r=n(859471),a=n(106386),l=n(19821),o=n(194046),s=n(699613),d=n(785953),c=n(562615);function u({slotIndex:e,storyId:t,exactMatch:n=!1}){(0,r.useEffect)(()=>{(0,i.A)("PinnerAuthority","/app/www/stories/PinnerAuthority.tsx")},[]);let u=(0,s.HR)(),{action:p,aux_fields:h,objects:m,story_type:g,title:_}=(0,a.d4)(({stories:e})=>e[t]),f=(m?.[0]).id,y=m?.slice(1,3).map(({id:e})=>u(e||""))||[];return!n&&y.length<2?null:(0,c.jsx)(o.zU,{auxData:{content_ids:y.map(e=>e?.id),story_id:t,story_type:g,...h},component:200,loggingId:t,objectIdStr:t,slotIndex:e,viewParameter:43,viewType:2,children:({impressionTrackerRef:e})=>(0,c.jsxs)(l.az,{ref:e,children:[_&&(0,c.jsx)(l.az,{marginTop:2,paddingY:1,children:(0,c.jsx)(l.KJ,{align:"center",children:_.format})}),(0,c.jsx)(d.A,{action:p,auxData:h,isPinnerAuthorityHero:n,userId:f||"",userPinsImages236x:n?void 0:y.map(e=>e?.images?.["236x"]),userSearchRepStyle:n,viewParameter:43,viewType:2})]})})}},623987(e,t,n){n.d(t,{A:()=>r});var i=n(106386);function r({children:e,storyId:t}){let n=(0,i.d4)(({stories:e})=>e[t]);return n&&e(n)}},364074(e,t,n){n.d(t,{Ay:()=>f,F_:()=>g,k0:()=>_});var i=n(61163),r=n(859471),a=n(19821),l=n(989457),o=n(693154),s=n(538329),d=n(205392),c=n(733048),u=n(67765),p=n(971289),h=n(691159),m=n(562615);let g={large:"large",medium:"medium",small:"small",extra_small:"extra_small",article:"article",interest:"interest",responsive:"responsive"},_={bubbleOverlay:{__style:{backgroundColor:"rgba(0, 0, 0, 0.3)"}},bubbleOverlayHovered:{__style:{backgroundColor:"rgba(0, 0, 0, 0.6)"}}};function f({backgroundColor:e,bubbleId:t,bubbleUrl:n,coverImageUrl:f,curator:y,font:x,format:v,height:b,identifierIconType:A,onTap:w,pwtSurfaceContext:S,referringSource:j,subtitle:k,title:I,buttonFormat:P,contentAlign:E="center",textAlign:T="center",width:C="100%"}){(0,r.useEffect)(()=>{(0,i.A)("Bubble","/app/www/stories/bubbles/Bubble.tsx")},[]);let z=(0,s.A)(),F=(0,u.A)(),R=(0,p.qJ)(),[O,L]=(0,r.useState)(!1),M=(0,o.A)(),B=M.isAuth?M?.avatar_color_index:void 0,[D,N]=(0,r.useState)("string"==typeof b?void 0:b);if(!D)return(0,m.jsx)(a.az,{ref:e=>{e&&N(e.offsetWidth*("string"==typeof b?Number.parseFloat(b):100)/100)},dangerouslySetInlineStyle:{__style:{paddingBottom:"string"==typeof b?Number.parseFloat(b)+"%":"100%",width:C}}});let K=v===g.article,U=v===g.interest,$=x||D>250&&"lg"||D>140&&v&&[g.medium,g.small,g.article].includes(v)&&"md"||D<120&&v&&v===g.small&&"xs"||"sm",H=!!A&&(0,c.A)(A);return(0,m.jsx)(a.az,{"data-test-id":"search-suggestion","data-test-type":j,onMouseEnter:()=>R?L(!0):void 0,onMouseLeave:()=>R?L(!1):void 0,position:"relative",children:(0,m.jsx)(h.l,{isAppUpsellDisabled:!0,onTouch:()=>{w&&(F({action:"click",item:"search-suggestion"}),w(t))},rounding:400,to:n,children:(0,m.jsxs)(a.n1,{rounding:400,children:[(0,m.jsx)(a.az,{height:D,width:C,children:f&&(0,m.jsx)(a._V,{alt:"",color:e,fit:"cover",naturalHeight:1,naturalWidth:1,onLoad:()=>{(0,d.Uy)("RenderSearchLandingPageBubbles"),S&&S.markConstraintComplete("RenderSearchLandingPageBubbles")},role:"presentation",src:f})}),(0,m.jsx)(a.az,{dangerouslySetInlineStyle:O?_.bubbleOverlayHovered:_.bubbleOverlay,height:D,left:!0,position:"absolute",top:!0,width:C}),y&&!K&&(0,m.jsx)(a.az,{left:!0,padding:2,position:"absolute",top:!0,children:(0,m.jsx)(l.eu,{color:B,name:y.full_name,outline:!0,size:"xs",src:y.image_small_url})}),H&&(0,m.jsx)(a.az,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",left:!0,margin:2,opacity:80,position:"absolute",rounding:"circle",top:!0,width:24,children:(0,m.jsx)(a.In,{accessibilityLabel:z.bt("Shopping icon", "Shopping icon", "bubble.shoppingIcon.label", undefined, true),color:"default",icon:H,size:12})}),(0,m.jsx)(a.az,{alignItems:K||U?"end":"center",display:"flex",height:D,justifyContent:E,padding:K||U?6:D>100?3:1,position:"absolute",top:!0,width:C,children:(0,m.jsxs)(a.so,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[k&&(0,m.jsx)(a.KJ,{align:T,color:"light",overflow:"normal",size:"lg"===$?"300":"100",children:k}),["lg","md"].includes($)?(0,m.jsx)(a._Y,{align:T,color:"light",overflow:"normal",size:"md"===$&&U?"600":"lg"===$?"700":"400",children:I}):(0,m.jsx)(a.KJ,{align:T,color:"light",overflow:"normal",size:"sm"===$?"300":"100",weight:"bold",children:I}),y&&K&&(0,m.jsxs)(a.az,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:4,children:[(0,m.jsx)(a.az,{marginEnd:2,children:(0,m.jsx)(l.eu,{name:y.full_name,outline:!0,size:"xs",src:y.image_small_url})}),(0,m.jsx)(a.KJ,{color:"light",size:"100",weight:"bold",children:y.full_name})]}),P&&(0,m.jsx)(a.az,{marginTop:4,children:(0,m.jsx)(a.vx,{accessibilityLabel:P.accessibilityLabel,href:P.href,size:P.size,text:P.text})})]})})]})})})}},747839(e,t,n){n.d(t,{A:()=>g});var i,r=n(61163),a=n(859471);n(825193);var l=n(19821),o=n(743372),s=n(535273),d=n(733048),c=n(386379),u=n(194046),p=n(345850),h=n(562615);let m=(void 0!==i||(i=n(475978)).hash&&"c6be2bfa9e282b6036307fb17958ce3d"!==i.hash&&console.error("The definition of 'BubbleStory_story' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function g({auxData:e,pattern:t,slotIndex:n,viewType:i,viewParameter:g,storyKey:_,titleAlignment:f="center",omitTitle:y=!1,titleMarginBottom:x=2,titleMarginStart:v=0,titleSize:b="300"}){(0,a.useEffect)(()=>{(0,r.A)("BubbleStory","/app/www/stories/bubbles/BubbleStory.tsx")},[]);let A=(0,s.A)(m,_),w=(0,o.A)();if(null==A)return null;let S=!!A.storyTitle,j=A.storyTitle?.format,k=A.displayOptions?.identifierIconName,I=A.action?.url,P=A.action?.text||void 0,E=(A.objects?.filter(e=>"ExploreArticle"===e.__typename)??[]).map(({type:e,entityId:t})=>e+":"+t).join("|"),T={story_type:A.storyType,story_id:A.storyId,content_ids:E,...e},C=!!k&&"number"==typeof k&&(0,d.A)(k);return(0,h.jsx)(u.zU,{auxData:T,component:200,loggingId:A.storyId??"",objectIdStr:A.storyId??"",slotIndex:n,viewParameter:g,viewType:i,children:({impressionTrackerRef:e})=>(0,h.jsxs)(l.az,{ref:e,children:[S&&!y&&(0,h.jsxs)(l.az,{alignItems:"center",display:"flex",justifyContent:f,marginBottom:x,marginStart:v,children:[C&&-1!==k&&(0,h.jsx)(l.az,{dangerouslySetInlineStyle:{__style:{paddingTop:1}},marginEnd:2,children:(0,h.jsx)(l.In,{accessibilityLabel:"",color:"default",icon:C,size:14})}),(0,h.jsx)(l.KJ,{size:b,weight:"bold",children:j})]}),(0,h.jsx)(p.A,{pattern:t,referringSource:A.referringSource,storyKey:A,viewParameter:g,viewType:i}),I&&P&&(0,h.jsx)(l.az,{display:"flex",justifyContent:"center",marginTop:1,width:"100%",children:(0,h.jsx)(l.vx,{accessibilityLabel:P,color:"secondary",href:I,onClick:()=>{w({view_type:i,view_parameter:g,aux_data:T,event_type:102})},rel:(0,c.A)({url:I})?"nofollow":void 0,size:"md",target:(0,c.A)({url:I})?"blank":void 0,text:P})})]})})}},345850(e,t,n){n.d(t,{A:()=>g});var i,r=n(61163),a=n(859471);n(825193);var l=n(19821),o=n(210909),s=n(535273),d=n(364074),c=n(157209),u=n(562615);let p=(void 0!==i||(i=n(526929)).hash&&"1820448f293b4452fdd957a1b02dd23b"!==i.hash&&console.error("The definition of 'BubblesGridRep_story' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function h({storyData:e,onTouch:t,pattern:n=[d.F_.medium],pwtSurfaceContext:i,referringSource:r,viewParameter:a,viewType:o}){let s=e.objects?.filter(e=>"ExploreArticle"===e.__typename)??[],p=s.map(({type:e,entityId:t})=>e+":"+t).join("|");return(0,u.jsx)(l.so,{alignItems:"stretch",justifyContent:"between",width:"100%",wrap:!0,children:s.map((s,h)=>{let m=n[h%n.length];return(0,u.jsx)(l.az,{"data-test-id":`bubble-${h}`,paddingY:1,width:[d.F_.small,d.F_.extra_small].includes(m)?"calc(50% - 4px)":"100%",children:(0,u.jsx)(c.A,{auxData:{content_ids:p,story_type:e.storyType,grid_index:h},bubbleKey:s,format:m,height:[d.F_.medium,d.F_.extra_small].includes(m)&&"50%"||m===d.F_.article&&"73%"||"100%",onTouch:t,pwtSurfaceContext:i,referringSource:r,slotIndex:h,storyId:e.storyId??"",viewParameter:a,viewType:o})},`bubble-${h}`)})})}function m({storyData:e,onTouch:t,pwtSurfaceContext:n,referringSource:i,viewParameter:r,viewType:a}){let s=e.objects?.filter(e=>"ExploreArticle"===e.__typename)??[],d=s.map(({type:e,entityId:t})=>e+":"+t).join("|");return(0,u.jsx)(l.az,{"data-test-id":"masonry-bubbles-grid-rep-responsive-wrapper",margin:"auto",width:"100%",children:(0,u.jsx)(o.default,{columnWidth:236,gutterWidth:16,items:s,minCols:1,renderItem:({data:o,itemIdx:s})=>(0,u.jsx)(l.az,{"data-test-id":`bubble-${o.entityId}`,children:(0,u.jsx)(c.A,{auxData:{content_ids:d,story_type:e.storyType,grid_index:s},bubbleKey:o,height:118,onTouch:t,pwtSurfaceContext:n,referringSource:i,slotIndex:s,storyId:e.storyId??"",viewParameter:r,viewType:a,width:236})})})})}function g({storyKey:e,...t}){(0,a.useEffect)(()=>{(0,r.A)("BubblesGridRep","/app/www/stories/bubbles/BubblesGridRep.tsx")},[]);let n=(0,s.A)(p,e);return n&&(t.pattern?.includes(d.F_.responsive)?(0,u.jsx)(m,{...t,storyData:n}):(0,u.jsx)(h,{...t,storyData:n}))}},157209(e,t,n){n.d(t,{A:()=>_});var i,r=n(61163),a=n(859471);n(825193);var l=n(19821),o=n(326550),s=n(743372),d=n(535273),c=n(736091),u=n(956384),p=n(194046),h=n(364074),m=n(562615);let g=(void 0!==i||(i=n(662844)).hash&&"ee837caaba80f67c3ccb2223d20c7649"!==i.hash&&console.error("The definition of 'ExploreBubble_exploreArticle' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function _({auxData:e,bubbleKey:t,font:n,format:i,height:_,onTouch:f,pwtSurfaceContext:y,referringSource:x,slotIndex:v,storyId:b,viewParameter:A,viewType:w,width:S="100%"}){(0,a.useEffect)(()=>{(0,r.A)("ExploreBubble","/app/www/stories/bubbles/ExploreBubble.tsx")},[]);let j=(0,d.A)(g,t),k=(0,s.A)();if(null==j||!j.coverImage236x?.[0]?.url&&!j.coverImage474x?.[0]?.url||!j.articleTitle?.format)return null;let I=j.curator?.fullName&&j.curator.imageSmallUrl?{full_name:j.curator.fullName,image_small_url:j.curator.imageSmallUrl}:void 0,P=j.coverImage474x?.[0]?.url||j.coverImage236x?.[0]?.url,E=j.action?.url||(({storyCategory:e,query:t,referringSource:n,bubbleId:i,storyId:r,title:a})=>{let l=null!=e&&(0,o.I)(e),s=(0,u.A)({q:t,rs:n||void 0,b_id:i,source_id:r}),d=l&&a?(0,o.k)({title:a,id:i,articleType:"discover"}):`/discover/article/${i}/`;return l?d:`/search/pins/${s?"?"+s:""}`})({storyCategory:j.storyCategory,query:j.articleTitle?.format,referringSource:x,bubbleId:j.entityId,storyId:b,title:j.articleTitle?.format}),T=i===h.F_.article?13865:200,C=i===h.F_.article?102:6940,z=t=>{k({component:T,event_type:C,object_id_str:t,view_parameter:A,view_type:w,aux_data:{article_id:t,grid_index:v,story_id:b,module_image_signature:(0,c.A)(P)||null,...e}}),f&&f({query:j.articleTitle?.format??""})},F=j.dominantColors&&j.dominantColors.length?j.dominantColors[0]:void 0;return(0,m.jsx)(p.iu,{auxData:{story_id:b,...e},impressionData:{storyCategory:j.storyCategory,storyIdStr:b},loggingId:b,slotIndex:v,viewParameter:A,viewType:w,children:({impressionTrackerRef:e})=>(0,m.jsx)(l.az,{ref:e,children:(0,m.jsx)(h.Ay,{backgroundColor:F,bubbleId:j.entityId,bubbleUrl:E,coverImageUrl:P,curator:I,font:n,format:i,height:_,identifierIconType:j.identifierIconType,onTap:z,pwtSurfaceContext:y,referringSource:x,title:j.articleTitle?.format??"",width:S})})})}},985279(e,t,n){n.d(t,{MP:()=>i,Re:()=>a,SH:()=>l,e9:()=>r});let i=["board_shop_tool_module","shop_tab_upsell","story_pins_search_upsell","structured_search_bubble","user_style_story_v2","search_story_separator","search_story_landing_page_header"],r="checklist_education_feed_card",a=["#CFFFCA","#D7EDFF","#DAD4FF","#DAFFF6","#FFE2EB","#FFE4C1","#FFFD92"],l={"#d7edff":"blueStrong","#002966":"blueStrong","#cfffca":"greenStrong","#ffe0e0":"redStrong","#800000":"redStrong","#dafff6":"blueWeak","#fffd92":"greenWeak","#c3f9c2":"greenWeak","#005f3e":"greenWeak","#ffe4c1":"orangeWeak","#842000":"orangeWeak","#ffe2eb":"redWeak","#e9e4ff":"purpleWeak","#400387":"purpleWeak","#dad4ff":"purpleWeak","#efefef":"base"}},216420(e,t,n){n.d(t,{A:()=>r});var i=n(459967);let r=({containerTypeIsItemGrid:e,storyType:t})=>"BUBBLE_ONE_COL"===t||e&&!(0,i.A)({storyType:t})},459967(e,t,n){n.d(t,{A:()=>r});var i=n(985279);let r=({storyType:e})=>i.MP.includes(e)},526014(e,t,n){n.d(t,{A:()=>c});var i=n(61163),r=n(859471),a=n(106386),l=n(19821),o=n(284966),s=n(971289),d=n(562615);function c({storyId:e,setShowOneBar:t}){(0,r.useEffect)(()=>{(0,i.A)("HeaderSection","/app/www/todayTab/duplo/HeaderSection.tsx")},[]);let n=(0,s.qJ)(),c=(0,a.d4)(({stories:t})=>t[e]),u=(0,r.useRef)(null),p="search_article_landing_page_more_ideas_header"===c.story_type;return(0,r.useEffect)(()=>{let e=(0,o.A)(()=>{let e=u.current?.getBoundingClientRect().top;t&&"number"==typeof e&&t(e<=100)},100);return t&&u.current&&window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[u,t]),(0,d.jsx)(l.az,{ref:p?u:null,"data-test-id":c.story_type,marginTop:4,padding:n?4:void 0,width:n?560:"100%",children:(0,d.jsxs)(l.so,{direction:"column",justifyContent:"center",children:[c.title&&c.title.format&&(0,d.jsx)(l._Y,{accessibilityLevel:2,align:"center",size:n?"600":"400",children:c.title.format}),c.subtitle&&c.subtitle.format&&(0,d.jsx)(l.KJ,{overflow:"normal",size:"300",children:(0,d.jsx)(l.az,{dangerouslySetInlineStyle:{__style:{lineHeight:1.5}},marginStart:n?void 0:1,marginTop:3,children:c.subtitle.format})})]})})}},39412(e,t,n){n.d(t,{A:()=>k});var i,r,a=n(61163),l=n(859471),o=n(106386),s=n(825193),d=n(19821),c=n(743372),u=n(844255),p=n(466245),h=n(676130),m=n(538329),g=n(183756),_=n(327210),f=n(562615);let y=({backgroundColor:e,decreaseNamePadding:t,isHomefeedTuner:n,isLego:i,isSelected:r,locale:a,nameTextSize:l,renderAsPill:o,showFollowerCount:s,topicName:c,followerCount:u,image:p})=>{let h=(0,m.A)(),y=(0,g.A)(),x=(0,f.jsx)(d.In,{accessibilityLabel:h.bt("Selected", "Selected", " - ", undefined, true),color:"light",icon:i?"check":"circle-check",size:i?12:24});return o?(0,f.jsx)(_.A,{color:e||"#767676",image:p,isSelected:r??!1,title:c}):(0,f.jsxs)(d.az,{"aria-selected":r,position:"relative",children:[(0,f.jsx)(d.n1,{rounding:i||n?400:200,children:(0,f.jsxs)(d.az,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative",children:[(0,f.jsx)(d.az,{bottom:!0,left:!0,padding:i&&r?1:0,position:"absolute",right:!0,rounding:i&&r?400:0,top:!0,children:p.url&&(0,f.jsx)(d._V,{alt:c,color:e||"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:p.url})}),(0,f.jsx)(d.az,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:r?"rgba(0,0,0,0.6)":"rgba(0,0,0,0.3)",border:i&&r?"4px solid #767676":"none"}},left:!0,position:"absolute",right:!0,rounding:i?400:void 0,top:!0}),i&&r&&(0,f.jsx)(d.az,{bottom:!0,dangerouslySetInlineStyle:{__style:{border:"2px solid #111"}},left:!0,position:"absolute",right:!0,rounding:400,top:!0})]})}),n?(0,f.jsx)(d.az,{alignContent:"center",alignItems:"center",bottom:!0,display:"flex",justifyContent:"center",left:!0,padding:2,position:"absolute",right:!0,top:!0,children:(0,f.jsx)(d.KJ,{align:"center",color:"light",size:l,weight:"bold",children:c})}):(0,f.jsxs)(d.az,{bottom:!0,left:!0,padding:t?1:2,position:"absolute",right:!0,children:[(0,f.jsx)(d.KJ,{color:"light",size:l,weight:"bold",children:c}),s&&u>=0&&(0,f.jsx)(d.az,{paddingY:1,children:(0,f.jsxs)(d.KJ,{color:"inverse",size:"100",children:[(0,f.jsx)(d.KJ,{color:"inverse",inline:!0,size:"100",weight:"bold",children:y(a,u,{shortform:!0,shortform_maximum_fraction_digits:1})}),h.bt("followers", "followers", " - ", undefined, true)]})})]}),r&&(0,f.jsx)(d.az,{margin:2,position:"absolute",right:!0,top:!0,children:i?(0,f.jsx)(d.az,{alignItems:"center",color:"selected",display:"flex",height:24,justifyContent:"center",rounding:200,width:24,children:x}):x})]})},x=(void 0!==i||(i=n(352762)).hash&&"b5b71fb4390c1d3835e468a25f687669"!==i.hash&&console.error("The definition of 'TopicImageWithText_topic' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),v=({topicRef:e,...t})=>{(0,l.useEffect)(()=>{(0,a.A)("TopicImageWithText","/app/www/topic/TopicImageWithText.tsx")},[]);let n=(0,s.useFragment)(x,e),i=n.images?{url:n.images.url??"",width:n.images.width??0,height:n.images.height??0,dominant_color:"",type:""}:{dominant_color:"",height:0,type:"",url:"",width:0};return(0,f.jsx)(y,{backgroundColor:n.background_color??"",followerCount:n.follower_count??0,image:i,topicName:n.name??"",...t})},b=({topic:e,topicBlob:t,topicInfoForContextualExp:n,...i})=>{(0,l.useEffect)(()=>{(0,a.A)("TopicImageWithText","/app/www/topic/TopicImageWithText.tsx")},[]);let r=n||e||t,o=r?.images?.["236x"]||r?.images?.["400x"]||r?.images?.["474x"]||r?.images?.orig||{height:1,url:"",width:1},s=r&&"follower_count"in r&&void 0!==r.follower_count?r.follower_count:-1;return(0,f.jsx)(y,{backgroundColor:r?.background_color||"",followerCount:s,image:o,topicName:r?.name||"",...i})},A=({decreaseNamePadding:e=!1,isHomefeedTuner:t,isLego:n,isSelected:i=!1,markForRefresh:r,nameTextSize:a="lg",onTouch:l,padding:s=2,renderAsPill:m,showFollowButton:g=!1,showFollowerCount:_=!1,shouldClickthrough:y=!1,topic:x,viewParameter:A,viewType:w})=>{let S=(0,o.wA)(),j=(0,c.A)(),{locale:k}=(0,u._8)(),I=(0,f.jsxs)(d.az,{"data-test-id":"nux-picker-topic",children:["graphql"!==x.type?(0,f.jsx)(b,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:n,isSelected:i,locale:k,nameTextSize:a,renderAsPill:m,showFollowerCount:_,topic:x.topic,topicBlob:x.topicBlob,topicInfoForContextualExp:x.topicInfoForContextualExp}):(0,f.jsx)(v,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:n,isSelected:i,locale:k,nameTextSize:a,renderAsPill:m,showFollowerCount:_,topicRef:x.topicRef}),!!x&&g&&(0,f.jsx)(d.az,{paddingY:2,children:(0,f.jsx)(p.A,{followEventType:601,id:x.id,inline:t,invertColors:t,isFollowed:x.is_followed,onFollow:e=>{S((0,h.e6)(e,j)),r&&r()},onUnfollow:e=>{S((0,h.X2)(e,j)),r&&r()},pinKey:null,size:"md",textType:t?"AddRemove":"FollowFollowing",unfollowEventType:602,viewParameter:A||void 0,viewType:w||void 0})})]}),P="/";return x&&(P=`/topics/${x.id}`),y&&x.slug?(0,f.jsx)(d.$A,{href:P,onTap:({event:e})=>{l?.(e)},rounding:200,tapStyle:"compress",children:(0,f.jsx)(d.az,{padding:s,children:I})}):I},w=(void 0!==r||(r=n(196635)).hash&&"e5a0b7dce2aa2313e4cf2c9871cbedf7"!==r.hash&&console.error("The definition of 'TopicRepFragment_topic' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),S=({topicRef:e,decreaseNamePadding:t=!1,isHomefeedTuner:n,isLego:i,isSelected:r=!1,markForRefresh:a,nameTextSize:l="lg",onTouch:o,padding:d=2,renderAsPill:c,showFollowButton:u=!1,showFollowerCount:p=!1,shouldClickthrough:h=!1,viewParameter:m,viewType:g})=>{let _=(0,s.useFragment)(w,e);return(0,f.jsx)(A,{decreaseNamePadding:t,isHomefeedTuner:n,isLego:i,isSelected:r,markForRefresh:a,nameTextSize:l,onTouch:o,padding:d,renderAsPill:c,shouldClickthrough:h,showFollowButton:u,showFollowerCount:p,topic:{id:_.entityId??"",type:"graphql",is_followed:_.is_followed??!1,topicRef:_},viewParameter:m,viewType:g})},j=({id:e,topic:t,topicBlob:n,topicInfoForContextualExp:i,decreaseNamePadding:r=!1,isHomefeedTuner:a,isLego:l,isSelected:s=!1,markForRefresh:d,nameTextSize:c="lg",onTouch:u,padding:p=2,renderAsPill:h,showFollowButton:m=!1,showFollowerCount:g=!1,shouldClickthrough:_=!1,viewParameter:y,viewType:x})=>{let v=(0,o.d4)(({topics:t})=>t[e]),b=t??v;return(0,f.jsx)(A,{decreaseNamePadding:r,isHomefeedTuner:a,isLego:l,isSelected:s,markForRefresh:d,nameTextSize:c,onTouch:u,padding:p,renderAsPill:h,shouldClickthrough:_,showFollowButton:m,showFollowerCount:g,topic:{id:e,is_followed:!!b?.is_followed,topic:b,topicBlob:n,topicInfoForContextualExp:i,type:"resource"},viewParameter:y,viewType:x})},k=({decreaseNamePadding:e=!1,isHomefeedTuner:t,isLego:n,isSelected:i=!1,markForRefresh:r,nameTextSize:o="lg",onTouch:s,padding:d=2,renderAsPill:c,showFollowButton:u=!1,showFollowerCount:p=!1,shouldClickthrough:h=!1,viewParameter:m,viewType:g,..._})=>((0,l.useEffect)(()=>{(0,a.A)("TopicRep","/app/www/topic/TopicRep.tsx")},[]),_.topicRef?(0,f.jsx)(S,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:n,isSelected:i,markForRefresh:r,nameTextSize:o,onTouch:s,padding:d,renderAsPill:c,shouldClickthrough:h,showFollowButton:u,showFollowerCount:p,topicRef:_.topicRef,viewParameter:m,viewType:g}):(0,f.jsx)(j,{decreaseNamePadding:e,id:_.id,isHomefeedTuner:t,isLego:n,isSelected:i,markForRefresh:r,nameTextSize:o,onTouch:s,padding:d,renderAsPill:c,shouldClickthrough:h,showFollowButton:u,showFollowerCount:p,topic:_.topic,topicBlob:_.topicBlob,topicInfoForContextualExp:_.topicInfoForContextualExp,viewParameter:m,viewType:g}))},785953(e,t,n){n.d(t,{A:()=>j});var i=n(61163),r=n(859471),a=n(106386),l=n(19821),o=n(743372),s=n(989457),d=n(538329),c=n(183756),u=n(542975),p=n(844255),h=n(386379),m=n(691159),g=n(466245),_=n(194046),f=n(987093),y=n(871481),x=n(562615);let v={__style:{backgroundColor:"rgba(0, 0, 0, 0.04)"}},b=({height:e,image:t,width:n})=>{(0,r.useEffect)(()=>{(0,i.A)("FeedUserRepContextualPinImage","/app/www/user/duplo/FeedUserRepContextualPinImage.tsx")},[]);let a=(0,d.A)();return(0,x.jsx)(l.az,{dangerouslySetInlineStyle:{__style:{borderRight:"1px solid white"}},children:t?(0,x.jsxs)(l.az,{position:"relative",children:[(0,x.jsx)(l.iX,{contentAspectRatio:"number"==typeof t.height&&"number"==typeof t.width?t.width/t.height:1,height:e,width:n,children:t.url&&(0,x.jsx)(l._V,{alt:a.bt("Pin image", "pin image", "alt text for pin image", undefined, true),color:t.dominant_color||void 0,naturalHeight:t.height??1,naturalWidth:t.width??1,src:t.url})}),(0,x.jsx)(l.az,{dangerouslySetInlineStyle:v,height:e,left:!0,position:"absolute",top:!0,width:n})]}):(0,x.jsx)(l.az,{color:"secondary",height:e,width:n})})};var A=n(971289),w=n(851105);let S=function({badgeSize:e,badgeSpacing:t,fullName:n,verifiedType:i,truncate:a=!1}){let o=n.split(" "),s=o.slice(0,o.length-1).join(" "),d=" ".concat(o[o.length-1]),c=!(0,A.qJ)(),u=(0,x.jsx)(w.A,{isVerifiedMerchant:"verifiedMerchant"===i,showVerifiedIdentity:"verifiedIdentity"===i,size:e});return a?(0,x.jsxs)(l.so,{alignItems:"stretch",justifyContent:"start",children:[(0,x.jsx)(l.KJ,{lineClamp:1,weight:"bold",children:n}),(0,x.jsx)(l.az,{dangerouslySetInlineStyle:{__style:{top:t}},flex:"none",paddingX:1,position:"relative",children:c&&u})]}):(0,x.jsxs)(r.Fragment,{children:[(0,x.jsx)("span",{children:s}),(0,x.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[d,"",(0,x.jsx)(l.az,{dangerouslySetInlineStyle:{__style:{top:t}},display:"inlineBlock",flex:"none",position:"relative",children:c&&u})]})]})};function j({action:e,auxData:t,isPinnerAuthorityHero:n=!1,userSearchRepStyle:v=!1,onFollowUser:A,onUnfollowUser:w,userId:j,userPinsImages236x:k,viewParameter:I,viewType:P,truncateName:E=!1}){(0,r.useEffect)(()=>{(0,i.A)("FeedUserRep","/app/www/user/duplo/FeedUserRep.tsx")},[]);let T=(0,d.A)(),C=(0,c.A)(),z=(0,a.wA)(),{locale:F}=(0,p._8)(),R=(0,o.A)(),[O,L]=(0,r.useState)(v?window.innerWidth-16:null),M=(0,y.DF)()(j);if(!M)return null;let{contextual_pin_image_urls:B,explicitly_followed_by_me:D,follower_count:N=0,full_name:K,image_medium_url:U,is_verified_merchant:$,recent_pin_images:H,username:V,verified_identity:W}=M,q=e=>O?(O-(e-1))/e:0,G=v?1.6*q(4):117,Y=H?.["222x"]||H?.["192x"]||[],J=B?.["222x"]||B?.["192x"]||[];n&&0===J.length&&(J=Y);let Q=v&&J.length<=0,X=v?J.concat(Y).slice(0,4):(k||[]).concat(Y).slice(0,2);0===X.length&&(X=[void 0,void 0]);let Z=!Q&&(O?(0,x.jsx)(l.n1,{rounding:400,children:(0,x.jsx)(l.so,{children:X.map((e,t)=>(0,x.jsx)(b,{height:G,image:e,width:q(X.length)},`pinImage-${t}`))})}):(0,x.jsx)(l.az,{ref:e=>{e&&L(e.offsetWidth)},height:G,width:"100%"})),ee=e=>(0,x.jsx)(l.so,{justifyContent:"center",children:(0,x.jsx)(l.az,{height:60,marginTop:e,width:60,children:(0,x.jsx)(s.eu,{color:M.avatar_color_index,name:K??"",outline:!0,src:U??""})})}),et=e=>(0,x.jsxs)(l.so,{alignItems:e,direction:"column",gap:{row:0,column:1},children:[(0,x.jsx)(l.so,{alignItems:"stretch",maxWidth:(v?(O||0)/2:O)||void 0,children:(0,x.jsx)(l.KJ,{align:e,lineClamp:E?1:void 0,weight:"bold",children:$||W?.verified?(0,x.jsx)(S,{badgeSize:"md",badgeSpacing:2,fullName:K??"",truncate:E,verifiedType:$?"verifiedMerchant":"verifiedIdentity"}):K})}),(0,x.jsx)(l.KJ,{align:e,inline:!0,size:"100",children:(0,u.vQ)(T.nbt(["{{followers}} follower", "{{followers}} followers"], N, "PinnerAuthority.followersCount", true),{followers:C(F,N,{shortform:!0})})})]}),en=(0,x.jsx)(l.so,{justifyContent:"center",children:e&&e.url?(0,x.jsx)(l.vx,{accessibilityLabel:e.text,color:"secondary",href:e.url,onClick:()=>{R({event_type:9029,object_id_str:j,view_type:P,view_parameter:I,aux_data:t})},rel:(0,h.A)({url:e.url})?"nofollow":void 0,size:"lg",target:(0,h.A)({url:e.url})?"blank":void 0,text:e.text||""}):(0,x.jsx)(g.A,{followEventType:45,id:j,isFollowed:D,isSecondaryButton:!0,onFollow:e=>{A&&A(),z((0,f.e6)(e))},onUnfollow:e=>{w&&w(),z((0,f.X2)(e))},pinKey:null,size:"lg",unfollowEventType:46,viewParameter:I,viewType:P})});return(0,x.jsx)(_.Tq,{loggingId:j,objectIdStr:j,slotIndex:0,viewParameter:I,viewType:P,children:({impressionTrackerRef:e})=>(0,x.jsx)(l.az,{ref:e,"data-test-id":"user-rep",marginBottom:6,padding:1,children:(0,x.jsx)(m.l,{onTouch:()=>{R({event_type:43,object_id_str:j,view_parameter:I,view_type:P})},to:`/${V}/`,children:(0,x.jsxs)(l.so,{direction:"column",gap:{row:0,column:2},width:"100%",children:[Z,v?(0,x.jsx)(l.az,{width:"100%",children:(0,x.jsxs)(l.so,{alignItems:"center",justifyContent:"between",children:[(0,x.jsxs)(l.so,{alignItems:"center",gap:{row:2,column:0},children:[ee(),et("start")]}),en]})}):(0,x.jsxs)(l.so,{direction:"column",gap:{row:0,column:2},children:[ee(-10),et("center"),en]})]})})})})}},52828(e,t,n){n.d(t,{A:()=>ic});var i,r,a,l,o,s,d,c,u,p,h=n(61163),m=n(859471),g=n(844255),_=n(971289),f=n(979638),y=n(19821),x=n(106386),v=n(987628),b=n(33658),A=n(224723),w=n(307079),S=n(106301),j=n(562615);let{Provider:k,get:I}=(0,v.A)("SearchBookmark");function P({children:e}){(0,m.useEffect)(()=>{(0,h.A)("SearchBookmarkContext","/app/common/react/components/discover/AuthSearchPage/SearchBookmarkContext.tsx")},[]);let t=(0,S.u)(),{scope:n,query:i}=t,[r,a]=(0,m.useState)(void 0),[l,o]=(0,m.useState)(null),[s,d]=(0,m.useState)(null),[c,u]=(0,m.useState)(null),p=(0,m.useCallback)(e=>{let p=Number((0,w.A)().filter_location);r!==e&&(!r||l!==i||s!==n&&[s,n].some(e=>e&&[A.cO.PINS_BUYABLE,A.cO.PINS_MINE].includes(e))||0===p&&!(0,b.Ay)(c,t))&&(a(e),l!==i&&o(i),s!==n&&d(n),(0,b.Ay)(c,t)||u(t))},[r,l,s,c,i,n,t]),g=(0,m.useMemo)(()=>({bookmark:r,setBookmark:p}),[r,p]);return(0,j.jsx)(k,{value:g,children:e})}var E=n(825193),T=n(614377),C=n(714364);n(481714);var z=n(535273),F=n(726329),R=n(781560);let O=(void 0!==i||(i=n(806086)).hash&&"0724ecc2ad23f6d726ce726d4e1e3033"!==i.hash&&console.error("The definition of 'PinnerAuthority_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function L({action:e,auxData:t,storyId:n,storyType:i,slotIndex:r,title:a,userPinsKey:l,user:o}){(0,m.useEffect)(()=>{(0,h.A)("PinnerAuthority","/app/common/react/components/discover/PinnerAuthority/PinnerAuthority.tsx")},[]);let s=(0,z.A)(O,l),{scope:d}=(0,S.u)(),c=(0,A._n)(d),{explicitly_followed_by_me:u,full_name:p,follower_count:g,image_large_url:_,username:f,id:x,verified_identity:v,is_verified_merchant:b}=o,w=s?.map(({entityId:e})=>e),k=s?.map(e=>({dominant_color:e.images_236x?.dominantColor??void 0,height:e.images_236x?.height??0,url:e.images_236x?.url??"",width:e.images_236x?.width??0}));return(0,j.jsx)(F.g$,{componentType:200,contextLogData:{story_type:i,story_id:n,content_ids:w},impressionType:"Story",loggingId:n,slotIndex:r,viewParameter:c,viewType:2,children:({impressionTrackerRef:n})=>(0,j.jsx)(y.az,{ref:n,marginBottom:2,marginTop:2,children:(0,j.jsx)(y.pp,{children:(0,j.jsxs)(y.az,{paddingY:2,children:[a&&(0,j.jsx)(y.az,{marginBottom:4,children:(0,j.jsx)(y.KJ,{align:"center",children:a.format})}),(0,j.jsx)(R.A,{action:e,auxData:t,avatarUrl:_,followedByMe:!!u,followersCount:g??0,fullName:p,isVerifiedIdentity:!!v?.verified,isVerifiedMerchant:b,userId:x||"",username:f||"",userPinsImages236x:k,viewParameter:c,viewType:2})]})})})})}var M=n(681358),B=n(483940),D=n(998365),N=n(649811),K=n(586733),U=n(538329),$=n(131094);let H=`
@keyframes tapAnimation {
  0% {
    opacity: 0;
    transform: scale(0.96);
  }

  100% {
    opacity: 1;
    transform: scale(1);
  }
}

.SearchAddPin {
    min-height: 280px;
    width: 236px;
}

.SearchAddPin::before {
    background: rgba(0, 0, 0, 0.05);
    border-radius: 8px;
    content: ' ' !important;
    height: 100%;
    left: 0;
    margin: -10px;
    opacity: 0;
    padding: 10px;
    pointer-events: none;
    position: absolute;
    top: 0;
    transform: scale(0.96);
    width: 100%;
    z-index: 3;
}

.SearchAddPin:hover::before {
    animation: tapAnimation 0.25s cubic-bezier(0.31, 1, 0.34, 1) forwards;
}
`;function V({text:e}){(0,m.useEffect)(()=>{(0,h.A)("SearchAddPin","/app/common/react/components/partner/SearchAddPin/SearchAddPin.tsx")},[]);let{logContextEvent:t}=(0,K.o)(),n=(0,U.A)(),i=(0,f.Zp)(),r=(0,N.A)()?(0,D.A)(!0):"/pin-builder/";return(0,j.jsxs)(m.Fragment,{children:[(0,j.jsx)($.A,{unsafeCSS:H}),(0,j.jsxs)("button",{className:"SearchAddPin","data-gestalt-valid-html":"TapArea",onClick:()=>{t({event_type:101,component:206,aux_data:{query:(0,B.A)("q")}}),i(r)},style:{backgroundColor:"#fff",position:"relative",border:"1px solid #efefef",borderRadius:8},children:[(0,j.jsx)(y.az,{marginBottom:3,children:(0,j.jsx)(y.In,{accessibilityLabel:n.bt("Add a pin", "add a pin", "accessible label for add a pin icon", undefined, true),color:"error",icon:"circle-plus",inline:!0,size:40})}),(0,j.jsx)(y.KJ,{align:"center",weight:"bold",children:e||n.bt("Create Pin", "Create Pin", " - ", undefined, true)})]})]})}var W=n(180229),q=n(326376),G=n(442911),Y=n(729617),J=n(296221),Q=n(693154),X=n(601185),Z=n(57123),ee=n(168079),et=n(743372),en=n(357016),ei=n(989209),er=n(653956),ea=n(184175),el=n(194046),eo=n(543128);function es({board:e,display:t,slotIndex:n,viewParameter:i,viewType:r}){(0,m.useEffect)(()=>{(0,h.A)("SearchResultBoardsRep","/app/www/discover/AuthSearchPage/searchResult/SearchResultBoardsRep.tsx")},[]);let a=(0,et.A)(),l=(0,_.qJ)(),[o,s]=(0,m.useState)(!1),{board_order_modified_at:d,collaborating_users:c,id:u,image_cover_hd_url:p,image_cover_url:g,name:f,owner:x,pin_count:v,pin_thumbnail_urls:b,section_count:A,should_show_board_collaborators:w,url:S}=e,k={url:p||g},I=b?.map(e=>({name:"",url:e})),P=()=>{a({aux_data:{board_id:e.id,board_pin_count:e.pin_count??0,board_section_count:e.section_count??0},component:1,element:36,event_type:101,view_parameter:44})},E=()=>{s(!0)},T=()=>{s(!1)},C=l?2:1,z=l?"300":"400";return(0,j.jsx)(el.Wt,{auxData:{board_id:u,board_pin_count:v??0,board_section_count:A??0},impressionData:{imageURL:k.url},loggingId:u,slotIndex:n||0,viewParameter:i,viewType:r,children:({impressionTrackerRef:n})=>(0,j.jsxs)(y.az,{ref:n,dangerouslySetInlineStyle:{__style:{boxSizing:"content-box"}},height:"responsive"===t?"100%":"unset",padding:2,width:"responsive"===t?"100%":236,children:[(0,j.jsx)(y.az,{"data-test-id":"board-card",children:(0,j.jsxs)(y.$A,{href:S||"",onTap:P,children:["responsive"===t?(0,j.jsx)(y.az,{onMouseEnter:E,onMouseLeave:T,children:(0,j.jsx)(er.A,{boardKey:null,coverPhoto:k,coverPinKey:null,images:I??[],isActive:o,isSecret:!1,layout:"square",renderAsImage:!0})}):(0,j.jsx)(eo.A,{boardThumbs:I||[],cover:k,editButton:null,isActive:!0,isSecret:!1,layout:"square"}),(0,j.jsxs)(y.az,{direction:"column",display:"flex",marginTop:l?2:void 0,overflow:"hidden",paddingX:2,paddingY:+!l,position:"relative",children:[(0,j.jsx)(y._Y,{accessibilityLevel:2,lineClamp:C,size:z,children:f}),(0,j.jsx)(y.az,{marginTop:1,children:(0,j.jsx)(ei.A,{numberOfCollaborators:c?.length??0,ownerFullName:x?.full_name??"",ownerIsVerifiedIdentity:!!x?.verified_identity?.verified,ownerIsVerifiedMerchant:!!x?.is_verified_merchant,showBoardCollaborators:!!w})}),(0,j.jsx)(ea.A,{boardOrderModifiedAt:d,pinCount:v??0,sectionCount:A??0})]})]})}),!!e.debug&&(0,j.jsx)(en.f,{data:e.debug})]})})}var ed=n(53279),ec=n(762512),eu=n(937176),ep=n(189851),eh=n(699613),em=n(8627),eg=n(753115),e_=n(81920);function ef({id:e,isImageOnly:t,itemIdx:n,type:i}){(0,m.useEffect)(()=>{(0,h.A)("SearchItem","/app/common/react/components/discover/AuthSearchPage/SearchItem.tsx")},[]);let r=(0,m.useRef)(null),a=(0,J.Du)(),l=(0,G.A)(),{query:o,scope:s,rs:d,debD:c}=(0,S.u)(),u=(0,ed.A)({query:o}),{isAuth:p}=(0,Q.A)(),{auxData:g}=(0,ec.A)(),_=g.metadata?.query_shopping_intent_score,{checkExperiment:f}=(0,X.A)(),v=(0,eg.A)(f,"search"),{width:b=0}=(0,Y.A)()||{},w=(0,eh.zy)(),k=(0,ep.MI)(),I=(0,x.d4)(({desktopStories:t,modules:n})=>{switch(i){case"pin":return w[e];case"board":return k[e];case"story":return t[e];case"module":return n[e]}return null});if((0,ee.A)(()=>{if(I&&"story"===I.type&&I.experience){let e="number"==typeof I.experience.experience_id?I.experience.experience_id:null,t="number"==typeof I.experience.placement_id?I.experience.placement_id:null;e&&t&&a.viewExperience(t,e,!1,!0)}}),!I)return null;let P=null;switch(I.type){case"module":"SearchAddPinWrapper"===I.name&&(P=(0,j.jsx)(V,{text:I.options.text}));break;case"board":P=(0,j.jsx)(es,{board:I,display:"responsive",slotIndex:n,viewParameter:44,viewType:2});break;case"pin":let E={data:{query:o},type:"search"},C=s===A.cO.PINS&&_>=.55,z=s===A.cO.PINS_BUYABLE,F={type:"Legacy",data:I},R=p?(0,j.jsx)(eu.A,{attributionOption:"hide",feedback:E,imageOnlyOption:t?"image-only":"default",parentPinKey:null,pinKey:F,shouldWrapOnProfiler:!0,slotIndex:n,surface:z||l||"product_metadata_all"===c?"ProductOnlySearchItem":C?"SearchItemHighShoppingIntent":"SearchItem",trackingParams:I.tracking_params,viewParameter:(0,A._n)(s),viewType:2}):(0,j.jsx)(eu.A,{feedback:E,imageOnlyOption:t?"image-only":"default",parentPinKey:null,pinKey:F,shouldWrapOnProfiler:!0,slotIndex:n,trackingParams:I.tracking_params,viewParameter:(0,A._n)(s),viewType:2});P=v?(0,j.jsx)(em.A,{headerHeightModifier:70,children:R}):R;break;case"story":(0,e_.GV)("web_story_card_type",{sampleRate:1,tags:{story_type:I.story_type||"unknown",surface:"search"}});let{story_type:O}=I;if(["feed_card_default","feed_card_video","general_shopping_upsell","related_query_shop_upsell_search"].includes(O||""))P=(0,j.jsx)(q.default,{itemIdx:n,story:I,viewParameter:(0,A._n)(s),viewType:2});else if(["pinner_authority","pinner_authority_unified"].includes(O||"")){let{action:e,aux_fields:t,objects:i,title:r,story_type:a,id:l}=I;if(i&&i.length>=3){let o=i.slice(1,3);if(2===o.length){let s=i[0];P=(0,j.jsx)(L,{action:e,auxData:t,slotIndex:n,storyId:l,storyType:a,title:r,user:s,userPinsKey:{type:"Legacy",data:o}})}}}else if("featured_boards"===I.story_type)P=(0,j.jsx)(M.default,{slotIndex:n,story:I,surface:"SearchItem",viewParameter:(0,A._n)(s),viewType:2});else if(154===I.container_type)P=(0,j.jsx)(W.A,{auxData:{rs:d,...u},slotIndex:n,story:I,viewParameter:(0,A._n)(s),viewType:2});else{let e=["no_results_header","inclusive_fallback_related_searches"].includes(I.story_type??"");P=(0,j.jsx)(y.az,{ref:r,display:e?"flex":"block",justifyContent:e?"center":"start",children:(0,j.jsx)(Z.default,{auxData:{rs:d,...u},initialSlotIndex:n,itemWidth:"search_3p_ad_only_module"===I.story_type?236:void 0,showExpanded:!1,story:I,storyKey:{type:"Legacy",data:I},styleOverrides:{showModuleBorder:I.display_options?.num_columns_requested!==0||!!(I.story_type&&T.D.has(I.story_type))},view:2,width:function({storyType:e,structuredFeedStoryModuleRef:t,windowWidth:n}){switch(e){case"search_3p_ad_only_module":return t?.clientWidth??n;case"no_results_header":case"inclusive_fallback_related_searches":return 533;default:return}}({storyType:I.story_type,structuredFeedStoryModuleRef:r.current,windowWidth:b})})})}}return P}var ey=n(48373),ex=n(210909),ev=n(411805),eb=n(355710),eA=n(861929),ew=n(978149),eS=n(538678),ej=n(813985),ek=n(284247),eI=n(319571),eP=n(570090),eE=n(878913);function eT({clientTrackingParams:e,fetchMoreResults:t,isAtEnd:n,isFetching:i,refreshData:r,searchResults:a}){(0,m.useEffect)(()=>{(0,h.A)("SearchResultNormalizedGrid","/app/common/react/components/discover/AuthSearchPage/searchResult/SearchResultNormalizedGrid.tsx")},[]);let l=(0,U.A)(),o=(0,Q.A)(),s=(0,eP.A)(),{isAuthenticated:d}=(0,g._8)(),{options:c}=(0,ec.Y)(),{query:u,scope:p}=(0,S.u)(),_=(0,m.useRef)(void 0),{isFiltersDrawerOpen:f,isSidebarPresent:x}=(0,C.M)()||{isFiltersDrawerOpen:!1,isSidebarPresent:!1},v=f||x,b=(0,m.useRef)(v),w=(0,m.useCallback)(()=>{o.isAuth&&"my_pins"===p&&r()},[r,o.isAuth,p]),k=(0,m.useMemo)(()=>({onPinCreate:w,onPinDelete:w}),[w]),I=!(o.isAuth&&o.isPartner)&&((0,eb.A)(s)||o.isAuth&&((0,eA.A)(o.createdAt)||(0,ew.A)(null,o)));b.current!==v&&(_.current?.handleResize(),b.current=v);let P=(0,m.useCallback)(({data:e,itemIdx:t})=>(0,j.jsx)(ef,{feedWidth:_?.current?.state.width||0,id:e.id??"",isImageOnly:I,itemIdx:t,type:e.type}),[I,_]),E=(0,m.useCallback)(e=>{if("story"===e.type){let{display_options:t,container_type:n,story_type:i,objects:r}=e,a=t?.num_columns_requested??1;if(154===n)return 2;if(i&&T.D.has(i)){let e=r?.length||0;return{sm:2,md:2,lg:Math.min(3,e),xl:Math.min(4,e)}}let{checkExperiment:l}=(0,X.A)();return"related_searches"===i&&l("dweb_search_results_window_shop",{dangerouslySkipActivation:!0}).anyEnabled?{sm:2,md:2,lg:a,xl:a}:0===a?1/0:-1===a?1:a}return 1},[]),z=(0,m.useCallback)(()=>{i||t()},[i,t]),F=(0,ej.n1)(c),{experimentalGutter:R}=(0,ev.A)(),O=p===A.cO.BOARDS?236:void 0;return(0,j.jsx)(eE.P,{value:k,children:(0,j.jsx)(eI.A,{clientTrackingParams:e,view:2,viewParameter:(0,A._n)(p),children:(0,j.jsxs)(y.az,{"data-test-id":"search-feed",children:[(0,j.jsx)(y.az,{"data-test-id":"masonry",children:(0,j.jsx)(eS.A,{includeBackgroundImages:!0,includeVideos:!0,isAtEndOfFeed:n,isPlaceholderGrid:i&&!a.length,itemCount:a.length,pinData:a,children:(0,j.jsx)(ex.default,{cacheKey:F,columnWidth:O,getColumnSpanConfig:E,gutterWidth:R,initialLoadingStatePinCount:d?void 0:25,isFetching:i,isLoadedAccessibilityLabel:a.length>0?(0,ek.A)(l.bt("Showing more search results for {{ query }}", "Showing more search results for {{ query }}", "search.loadedMore", undefined, true),{query:u}):(0,ek.A)(l.bt("Showing search results for {{ query }}", "Showing search results for {{ query }}", "search.firstLoad", undefined, true),{query:u}),isLoadingAccessibilityLabel:a.length>0?(0,ek.A)(l.bt("Loading more search results for {{ query }}", "Loading more search results for {{ query }}", "search.fetchingMore", undefined, true),{query:u}):(0,ek.A)(l.bt("Loading search results for {{ query }}", "Loading search results for {{ query }}", "search.firstFetch", undefined, true),{query:u}),isLoadingStateEnabled:!0,items:a,layout:p===A.cO.BOARDS?"uniformRow":"basic",loadItems:z,masonryRef:_,renderItem:P},F)})}),a.length>0&&(0,j.jsx)(ey.A,{surface:"search"})]})})})}var eC=n(393320),ez=n(430705),eF=n(227835),eR=n(72047),eO=n(736091),eL=n(198943),eM=n(653472),eB=n(542975),eD=n(721268);function eN({pinCount:e,sectionCount:t}){(0,m.useEffect)(()=>{(0,h.A)("PinSectionCounts","/app/www/profile/ProfileBoardCard/ProfileBoardCardFooter/PinSectionCounts.tsx")},[]);let n=(0,U.A)();return(0,j.jsxs)(y.so,{alignItems:"center",justifyContent:"start",children:[(0,j.jsx)(y.az,{overflow:"hidden",children:(0,j.jsx)(y.KJ,{lineClamp:1,size:"100",children:(0,eB.vQ)(n.nbt(["{{ count }} Pin", "{{ count }} Pins"], e, "label for n amount of pins", true),{count:(0,j.jsx)(eM.A,{value:e},"pin_count")})})}),t?(0,j.jsxs)(m.Fragment,{children:[(0,j.jsx)(eD.A,{}),(0,j.jsx)(y.az,{display:"none",overflow:"hidden",smDisplay:"flex",children:(0,j.jsx)(y.KJ,{inline:!0,lineClamp:1,size:"100",children:(0,eB.vQ)(n.nbt(["{{ count }} section", "{{ count }} sections"], t, "label for n amount of sections", true),{count:(0,j.jsx)(eM.A,{value:t},"section_count")})})})]}):null]})}function eK({board:e,isCompact:t,isOwnProfile:n,subtitle:i}){(0,m.useEffect)(()=>{(0,h.A)("DefaultContent","/app/www/profile/ProfileBoardCard/ProfileBoardCardFooter/DefaultContent.tsx")},[]);let{is_collaborative:r,name:a,pin_count:l,section_count:o}=e;return(0,j.jsxs)(y.az,{padding:2,children:[(0,j.jsxs)(y.so,{alignItems:"start",justifyContent:"between",children:[(0,j.jsx)(y._Y,{accessibilityLevel:2,lineClamp:1,size:"400",children:a}),r&&(0,j.jsx)(eL.A,{board:e,isCompact:t})]}),(0,j.jsx)(y.az,{marginTop:1,children:(0,j.jsxs)(y.so,{alignItems:"center",gap:{row:2,column:0},justifyContent:"start",wrap:!0,children:[(0,j.jsx)(eN,{pinCount:l??0,sectionCount:o??0}),n&&(0,j.jsx)(y.KJ,{align:"center",color:"subtle",lineClamp:1,size:"100",children:i})]})})]})}function eU({board:e,handleInviteResponse:t,invite:n,isBoardInviteAccepted:i,isCompact:r}){(0,m.useEffect)(()=>{(0,h.A)("InviteContent","/app/www/profile/ProfileBoardCard/ProfileBoardCardFooter/InviteContent.tsx")},[]);let a=(0,U.A)(),{name:l,url:o}=e,s=(0,j.jsx)(y.az,{marginBottom:1,marginTop:0,children:(0,j.jsx)(y._Y,{accessibilityLevel:2,lineClamp:1,size:"400",children:l})}),d=i?(0,j.jsx)(y.KJ,{lineClamp:1,size:"200",children:a.bt("Youve joined", "Youve joined", "boardRep.invite.invitationAcceptedText", undefined, true)}):(0,j.jsx)(y.KJ,{size:"200",children:function(e,t){let{full_name:n,username:i}=e,r=(0,j.jsx)(y.N_,{display:"inlineBlock",href:`/${i}`,underline:"hover",children:n});return(0,eB.vQ)(t.bt("{{ linkToUser }} invited you to join this board", "{{ linkToUser }} invited you to join this board", "boardRep.invite.invitationText", undefined, true),{linkToUser:r})}(n.invited_by_user,a)});return(0,j.jsxs)(m.Fragment,{children:[(0,j.jsxs)(y.az,{alignItems:"start",display:"flex",padding:2,children:[(0,j.jsx)(y.so,{alignItems:"start",direction:"column",flex:"grow",justifyContent:"start",overflow:"hidden",children:(0,j.jsxs)(y.az,{width:"100%",children:[(0,j.jsx)(y.N_,{href:o??"",children:s}),d]})}),(0,j.jsx)(y.az,{marginStart:2,children:(0,j.jsx)(eL.A,{board:e,forceViewer:!0,isCompact:r,ownerOnly:!i})})]}),i?(0,j.jsx)(y.az,{direction:"row",display:"flex",paddingX:2,children:(0,j.jsx)(y.az,{flex:"grow",marginBottom:3,paddingX:1,children:(0,j.jsx)(y.vx,{fullWidth:!0,href:o??"",size:"lg",text:a.bt("See board", "See board", "boardRep.invite.seeBoardButton", undefined, true)})})}):(0,j.jsxs)(y.so,{direction:"row",flex:"grow",justifyContent:"start",wrap:!0,children:[(0,j.jsx)(y.az,{flex:"grow",marginBottom:3,paddingX:1,children:(0,j.jsx)(y.$n,{fullWidth:!0,onClick:()=>{t(!1)},size:"lg",text:a.bt("Decline", "Decline", "boardRep.invite.declineButton", undefined, true)})}),(0,j.jsx)(y.az,{flex:"grow",marginBottom:3,paddingX:1,children:(0,j.jsx)(y.$n,{color:"primary",fullWidth:!0,onClick:()=>{t(!0)},size:"lg",text:a.bt("Accept", "Accept", "boardRep.invite.acceptButton", undefined, true)})})]})]})}function e$({board:e,handleInviteResponse:t,invite:n,isBoardInviteAccepted:i,isCompact:r,isOwnProfile:a,subtitle:l}){return(0,m.useEffect)(()=>{(0,h.A)("ProfileBoardCardFooter","/app/www/profile/ProfileBoardCard/ProfileBoardCardFooter/ProfileBoardCardFooter.tsx")},[]),n?(0,j.jsx)(eU,{board:e,handleInviteResponse:t,invite:n,isBoardInviteAccepted:i,isCompact:r}):(0,j.jsx)(eK,{board:e,isCompact:r,isOwnProfile:a,subtitle:l})}let eH=()=>{},eV="222x";function eW({board:e,canEdit:t,handleInviteResponse:n=eH,images:i,invite:r,isActive:a,isBoardInviteAccepted:l=!1,isOwnProfile:o,layout:s,onEditClick:d=eH,subtitle:c}){(0,m.useEffect)(()=>{(0,h.A)("ProfileBoardCardGridView","/app/www/profile/ProfileBoardCard/ProfileBoardCardGridView.tsx")},[]);let u=(0,U.A)(),{cover_images:p,cover_pin:g,has_custom_cover:_,url:f}=e,x=(0,Q.A)(),v=(0,eR.A)(e.collaborated_by_me,e.owner?.id,x),b=!!e.sensitivity_screen?.show_warning&&!v,A=(g&&g.crop&&g.size&&{x:g.crop[0],y:g.crop[1],width:g.size[0],height:g.size[1]})??{x:0,y:0,width:0,height:0},w=g?.image_url||p?.[eV]?.url?{isCustom:_,position:A,url:g?.image_url??p?.[eV]?.url}:void 0,S=i?.["170x"]??[],k=[];if(w){let e=(0,eO.A)(p?.[eV]?.url)||g?.image_signature||(0,eO.A)(g?.image_url);k=S.filter(t=>!(t.url??"").includes(e??""))}else k=S,r&&"square"!==s&&S.length&&(w={isCustom:_,position:A,url:S[0].url},k=S.slice(1));let I=t?(0,j.jsx)(y.K0,{accessibilityLabel:u.bt("Edit", "Edit", " - ", undefined, true),bgColor:"default",icon:"pencil",iconColor:"default",onClick:({event:e})=>d(e),size:"sm"}):null,P="list"!==s?(0,j.jsx)(y.az,{"aria-hidden":"true",children:(0,j.jsx)(eo.A,{boardThumbs:k,cover:w,editButton:I,isActive:a,isSecret:(0,eF.A)(e.privacy),layout:s,sensitivityScreenAuxData:{board_id:e.id,reason:e.sensitivity_screen?.reason||""},showSensitivityScreen:b})}):null;return(0,j.jsxs)(m.Fragment,{children:[r&&"list"!==s?(0,j.jsx)(y.$A,{href:f??"",children:P}):P,(0,j.jsx)(e$,{board:e,handleInviteResponse:n,invite:r,isBoardInviteAccepted:l,isCompact:"square"===s,isOwnProfile:o,subtitle:c})]})}function eq({board:e}){let t=(0,eC.A)(),[n,i]=(0,m.useState)(!1),r=t(e.board_order_modified_at??"",!0);return(0,j.jsx)(y.N_,{href:e.url??"",underline:"none",children:(0,j.jsx)(y.az,{onMouseEnter:()=>{i(!0)},onMouseLeave:()=>{i(!1)},children:(0,j.jsx)(eW,{board:e,canEdit:!1,images:e.images,isActive:n,isOwnProfile:!0,layout:"square",subtitle:r})})})}function eG({query:e}){(0,m.useEffect)(()=>{(0,h.A)("SearchResultUserBoards","/app/www/discover/AuthSearchPage/searchResult/SearchResultUserBoards.tsx")},[]);let t=(0,U.A)(),{data:n,fetchMore:i,isLoaded:r}=(0,ez.A)({name:"SearchResource",options:{field_set_key:"profile_grid_item",query:e,scope:"my_boards"}});return r&&n&&0!==n.length?(0,j.jsxs)(y.az,{children:[(0,j.jsx)(y.az,{display:"flex",justifyContent:"center",paddingY:6,children:(0,j.jsx)(y._Y,{size:"400",children:t.bt("Results from your boards", "Results from your boards", "searchPage.searchResultUserBoards.yourBoardsHeading", undefined, true)})}),(0,j.jsx)(y.az,{marginTop:2,children:(0,j.jsx)("div",{className:"gridCentered",children:(0,j.jsx)(y.a,{gutterWidth:16,items:n,layout:"basicCentered",loadItems:i,minCols:1,renderItem:({data:e})=>(0,j.jsx)(eq,{board:e}),scrollContainer:()=>window})})})]}):null}let eY=[];function eJ({query:e}){(0,m.useEffect)(()=>{(0,h.A)("SearchResultFeed","/app/common/react/components/discover/AuthSearchPage/searchResult/SearchResultFeed.tsx")},[]);let t=(0,U.A)(),{scope:n}=(0,S.u)(),{fetchMore:i,isAtEnd:r,isFetching:a,refresh:l,data:o}=(0,ec.A)(),{clientTrackingParams:s,results:d}=o||{};return(0,j.jsxs)(m.Fragment,{children:[n===A.cO.PINS_MINE&&(0,j.jsxs)(m.Fragment,{children:[(0,j.jsx)(eG,{query:e}),(0,j.jsx)(y.az,{display:"flex",justifyContent:"center",paddingY:6,children:(0,j.jsx)(y._Y,{size:"400",children:t.bt("Results from your Pins", "Results from your Pins", "searchPage.searchResult.yourPinsHeading", undefined, true)})})]}),(0,j.jsx)(eT,{clientTrackingParams:s,fetchMoreResults:i,isAtEnd:r,isFetching:a,refreshData:l,searchResults:d||eY})]})}var eQ=n(681986);function eX({query:e}){let t=(0,U.A)();return(0,j.jsx)(y.az,{marginBottom:4,children:(0,j.jsx)(y.KJ,{color:"subtle",children:(0,eB.vQ)(t.bt("Youve reached the end of your saved Pins about {{ query }}", "Youve reached the end of your saved Pins about {{ query }}", "searchPage.searchResult.endOfSearchResultsText", undefined, true),{query:(0,j.jsx)(y.KJ,{inline:!0,weight:"bold",children:e})})})})}function eZ(){let e=(0,U.A)();return(0,j.jsx)(y.az,{marginBottom:12,marginTop:8,children:(0,j.jsxs)(y.so,{alignItems:"center",direction:"column",gap:6,justifyContent:"center",children:[(0,j.jsx)(y.KJ,{size:"400",children:e.bt("You've reached the end!", "You've reached the end!", "searchPage.searchResult.endOfShoppingSearchResults", undefined, true)}),(0,j.jsx)(eQ.A,{})]})})}function e0(){let e=(0,U.A)();return(0,j.jsx)(y.In,{accessibilityLabel:e.bt("Pinterest logo", "Pinterest logo", "Accessible label for Pinterest logo in site footer", undefined, true),icon:"pinterest",size:32})}function e1({hasNext:e,isLoadingNext:t,query:n}){(0,m.useEffect)(()=>{(0,h.A)("SearchResultEnd","/app/www/discover/AuthSearchPage/searchResult/SearchResultEnd.tsx")},[]);let i=(0,U.A)(),{isAtEnd:r,isFetching:a}=(0,ec.A)(),{scope:l}=(0,S.u)(),o=(0,G.A)(),s=l===A.cO.PINS_MINE?(0,j.jsx)(eX,{query:n}):o?(0,j.jsx)(eZ,{}):(0,j.jsx)(e0,{});return("users"===l?!e:r)?(0,j.jsx)(y.az,{"data-test-id":"search-results-end",display:"flex",justifyContent:"center",paddingY:4,children:s}):(0,j.jsx)(y.az,{height:"300px",paddingY:6,children:(0,j.jsx)(y.y$,{accessibilityLabel:i.bt("Search results", "Search Results", "accessible label for search results loading spinner", undefined, true),show:("users"===l?!!t:a)&&l!==A.cO.PINS})})}function e2({isOriginallySyop:e,query:t,queryHasResults:n}){(0,m.useEffect)(()=>{(0,h.A)("GlobalSearchResults","/app/common/react/components/discover/AuthSearchPage/GlobalSearchResults.tsx")},[]);let i=(0,U.A)();return(0,j.jsxs)(m.Fragment,{children:[(0,j.jsx)(y.az,{marginBottom:5,children:(0,j.jsx)(y.cG,{})}),e?(0,j.jsxs)(y.az,{alignItems:"center",direction:"column",display:"flex",marginBottom:4,marginTop:12,children:[(0,j.jsx)(y._Y,{size:"600",children:i.bt("More ideas", "More ideas", "searchPage.globalSearchResults.moreIdeasHeading", undefined, true)}),(0,j.jsx)(y.az,{paddingY:2,children:(0,j.jsx)(y.KJ,{children:n?(0,eB.vQ)(i.bt("Here are some other ideas you might like about {{ query }}", "Here are some other ideas you might like about {{ query }}", "searchPage.globalSearchResults.moreIdeasTextWithQuery", undefined, true),{query:(0,j.jsx)(y.KJ,{inline:!0,weight:"bold",children:t},"query-term")}):i.bt("Here are some other ideas you might like.", "Here are some other ideas you might like.", "searchPage.globalSearchResults.moreIdeasText", undefined, true)})})]}):(0,j.jsxs)(y.az,{paddingX:8,children:[(0,j.jsx)(y._Y,{children:i.bt("More ideas for you", "More ideas for you", "Title for section of results showing search results from all of Pinterest rather than filtered results", undefined, true)}),(0,j.jsx)(y.az,{paddingY:2,children:(0,j.jsx)(y.KJ,{children:(0,eB.vQ)(i.bt("Here are some other {{query}} Pins you might like", "Here are some other {{query}} Pins you might like", "Heading before alternate search results ", undefined, true),{query:(0,j.jsx)(y.KJ,{inline:!0,weight:"bold",children:t},"query-term")})})})]}),(0,j.jsx)(eJ,{query:t}),(0,j.jsx)(e1,{query:t})]})}function e6({query:e}){(0,m.useEffect)(()=>{(0,h.A)("GlobalSearchResults","/app/common/react/components/discover/AuthSearchPage/GlobalSearchResults.tsx")},[]);let{data:t,isLoaded:n,isAtEnd:i}=(0,ec.A)(),r=(0,S.u)(),{scope:a}=r,l=a===A.cO.PINS_MINE,o=(0,m.useMemo)(()=>({...r,inGlobalSearch:!0,query:e,scope:"pins"}),[r,e]);return t&&n&&i&&t.shouldAppendGlobalSearch?(0,j.jsx)(S.n,{value:o,children:(0,j.jsx)(e2,{isOriginallySyop:l,query:e,queryHasResults:t.results.length>0})}):null}var e4=n(265599);function e5(){let{checkExperiment:e}=(0,X.A)(),{group:t}=e("dweb_guided_search");return{isGrayBackground:"employees"===t||t.includes("background"),isLargerRep:t.includes("large")}}var e3=n(890922),e8=n(11925),e9=n(803489),e7=n(385800);function te({item:e,index:t}){(0,m.useEffect)(()=>{(0,h.A)("GuidedSearchSidebarItem","/app/common/react/components/discover/AuthSearchPage/GuidedSearch/GuidedSearchSidebarItem.tsx")},[]);let n=(0,f.Zp)(),i=(0,f.zy)(),{query:r,scope:a,rs:l,guidedSearchQuery:o}=(0,S.u)(),{logContextEvent:s}=(0,K.o)(),{isGrayBackground:d,isLargerRep:c}=e5(),u=(0,A._n)(a),p=(0,F.bi)({componentType:14789,contextLogData:{rs:l,entered_query:o||r,grid_index:t},impressionType:"Story",loggingId:e.id,slotIndex:t,viewParameter:u,viewType:2}),g=e.action?.url||"",{q:_,guided_search_query:x}=(0,e9.A)(g.split("?")[1]),v=JSON.parse(e.action?.request_params||"{}").query||!!x&&_||"",b=e.objects[0],k=c?"216x146":"60x60",I=b.cover_images[0]?.[k].url||"",P=b.dominant_colors[0],E=r===v||!o&&!v,T=(0,j.jsx)(y.KJ,{size:"300",weight:E?"bold":void 0,children:e.title.format}),C=c?124:60,z=c?200:60,R=c?500:400,O=c?400:300,L=(0,j.jsx)(y._V,{alt:"",color:P,fit:"cover",naturalHeight:1,naturalWidth:1,role:"presentation",src:I}),M=d?(0,j.jsx)(y.az,{dangerouslySetInlineStyle:{__style:{border:"1px solid #cdcdcd"}},height:C,rounding:c?400:300,width:z,children:(0,j.jsx)(y.n1,{height:C-2,rounding:O,width:z-2,children:L})}):(0,j.jsx)(y.n1,{height:C,rounding:O,width:z,children:L}),B=d||c?212:232;return(0,j.jsx)(e7.e,{children:({hovered:e,onMouseEnter:t,onMouseLeave:r})=>(0,j.jsx)(y.az,{ref:p,dangerouslySetInlineStyle:e&&!c?{__style:{backgroundColor:"#e2e2e2"}}:void 0,rounding:R,width:B,children:(0,j.jsxs)(y.Rp,{onMouseEnter:t,onMouseLeave:r,onTap:()=>{!function(e){let t=(0,w.A)(),r=t.q;if(e){if(e!==t.q){t.guided_search_query||(t.guided_search_query=t.q),t.q=e,t.rs=e3.I.GUIDED_SEARCH_LANDING;let a=(0,e8.A)(i.pathname,t);s({event_type:101,view_type:2,component:14789,view_parameter:u,aux_data:{rs:l,entered_query:r,query:e}}),n(a,{replace:!0})}}else if(t.guided_search_query){t.q=t.guided_search_query,delete t.guided_search_query,t.rs=e3.I.GUIDED_SEARCH_LANDING;let e=(0,e8.A)(i.pathname,t);s({event_type:8722,view_type:2,component:14789,view_parameter:u,aux_data:{rs:l,entered_query:r,query:t.guided_search_query}}),n(e,{replace:!0})}}(E?null:v)},rounding:R,children:[(0,j.jsx)(y.az,{dangerouslySetInlineStyle:{__style:{border:`solid ${E&&"black"||e&&c&&"lightgray"||"transparent"} 2px`}},rounding:R,width:B,children:(0,j.jsx)(y.az,{padding:1,children:(0,j.jsxs)(y.so,{alignItems:"center",gap:3,children:[c?(0,j.jsx)(y.n1,{height:C,rounding:O,width:z,children:(0,j.jsx)(y.pp,{children:M})}):M,!c&&T]})})}),c&&(0,j.jsx)(y.az,{paddingX:2,paddingY:1,children:T})]})})},v||"BrowseAll")}var tt=n(317908),tn=n(808571),ti=n(856865),tr=n(788446);function ta({children:e,isDrawerOpen:t,width:n,topOffset:i=0,accessibilityLabel:r}){(0,m.useEffect)(()=>{(0,h.A)("Drawer","/app/common/react/components/UnifiedFilters/ui/Drawer.tsx")},[]);let a=(0,tn.g)(),{isRTL:l}=(0,g._8)(),o=t?0:-n,{enabled:s}=(0,ti.A)(),d=(0,tr.A)(),c=(0,m.useRef)(null),{isFiltersDrawerFocused:u,setFiltersDrawerFocused:p}=(0,C.M)()||{isFiltersDrawerFocused:!1,setFiltersDrawerFocused:()=>{}};return(0,m.useEffect)(()=>{u&&c.current?.focus()},[u]),(0,j.jsx)(y.az,{ref:c,"aria-label":r,bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{marginRight:l?void 0:o,marginLeft:l?o:void 0,visibility:t?"visible":"hidden",top:a+i,[l?"right":"left"]:s?d:void 0}},"data-test-id":"drawer-container",id:tt.d,left:!l&&!s,onBlur:e=>{let{currentTarget:t}=e;!t.contains(e.relatedTarget)&&u&&p(!1)},paddingX:7,position:"fixed",right:l,tabIndex:-1,width:n,children:e})}var tl=n(668014),to=n(618243);function ts({topOffset:e}){(0,m.useEffect)(()=>{(0,h.A)("GuidedSearchSidebar","/app/common/react/components/discover/AuthSearchPage/GuidedSearch/GuidedSearchSidebar.tsx")},[]);let{query:t,guidedSearchQuery:n,coverPinSig:i,interestId:r}=(0,S.u)(),a=(0,U.A)(),{setSidebarPresent:l}=(0,C.M)()||{setSidebarPresent:()=>{}},{data:o,isLoaded:s}=(0,ez.A)({name:"ApiResource",options:{url:"/v3/search/guided/",data:{query:n||t,guide_type:3,cover_pin_sig:i,interest_id:r},field_sets:["explorearticle.cover_images","explorearticle.dominant_colors"]}}),d=o&&o.length>=2;s&&!d&&l(!1);let c=o?.[0],u=o?.slice(1),{isGrayBackground:p,isLargerRep:g}=e5(),_=p||g?5:0;return(0,j.jsx)(tl.A,{name:"SafeSuspense_SearchPage_FiltersDrawer",children:(0,j.jsx)(to.A,{children:(0,j.jsx)(ta,{isDrawerOpen:!0,topOffset:e,width:e4.g,children:s?d&&(0,j.jsx)(y.az,{dangerouslySetInlineStyle:{__style:{backgroundColor:p?"#F1F1F1":void 0}},height:`calc(100% - ${4*_}px)`,marginStart:-2,padding:_,rounding:400,width:`calc(100% + ${4*_}px)`,children:(0,j.jsxs)(y.so,{alignItems:"stretch",direction:"column",gap:0,height:"100%",width:"100%",children:[c&&(0,j.jsx)(y.az,{marginBottom:2,paddingX:1,paddingY:1,children:(0,j.jsx)(y._Y,{size:"600",children:c.title.format})}),(0,j.jsx)(y.so.Item,{flex:"grow",children:(0,j.jsxs)(y.so,{alignItems:"stretch",direction:"column",gap:0,height:`calc(100% + ${4*_}px)`,justifyContent:"start",overflow:"auto",width:`calc(100% + ${4*_}px)`,children:[c&&(0,j.jsx)(y.az,{marginBottom:4,marginTop:-1,paddingX:1,width:`calc(100% - ${4*_}px)`,children:(0,j.jsx)(y.KJ,{color:"subtle",size:"300",children:c.description?.format})}),u?.map((e,t)=>(0,j.jsx)(y.az,{marginBottom:4,marginTop:-1,children:(0,j.jsx)(te,{index:t,item:e})},e.title.format))]})})]})}):(0,j.jsx)(y.y$,{accessibilityLabel:a.bt("Sidebar is loading", "Sidebar is loading", "Search.GuidedSearchSidebar.LoadingSpinner", undefined, true),show:!0})})})})}var td=n(450810),tc=n(754150),tu=n(62963),tp=n(307424);let th=(void 0!==r||(r=n(985357)).hash&&"0c363322e78a499d41d5da6d7e543fd1"!==r.hash&&console.error("The definition of 'SearchOneBar_oneBarModules' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r);function tm({hasProductFiltersApplied:e,oneBarModulesKey:t,onFilterButtonClick:n,paddingX:i}){(0,m.useEffect)(()=>{(0,h.A)("SearchOneBar","/app/common/react/components/discover/AuthSearchPage/OneBar/SearchOneBar.tsx")},[]);let{data:r,isFetching:a}=(0,ec.A)(),{oneBarModules:l}=r||{},o=(0,E.useFragment)(th,t?.[0]??null)??null,{width:s}=(0,Y.A)()??{},d=l&&l.map(e=>(0,tu.A)(tp.A,!0)(e))||[];return a&&!r&&(d=[td.Zr].concat(Array(s?Math.ceil(s/120):10).fill(td.Gb))),(0,j.jsx)(tc.default,{hasProductFiltersApplied:e,oneBarModulesKey:o,oneBarModulesRest:d,onFilterButtonClick:n,paddingBottom:12,paddingX:i})}var tg=n(874929),t_=n(406218),tf=n(989457),ty=n(994795);function tx({domainFilters:e,handleDomain:t}){(0,m.useEffect)(()=>{(0,h.A)("DomainFilter","/app/www/shopping/duplo/productFilters/DomainFilter.tsx")},[]);let n=(0,U.A)(),i=(0,Q.A)(),r=i.isAuth?i?.avatar_color_index:void 0,a=(0,et.A)();return(0,m.useEffect)(()=>{a({event_type:120,component:13469,view_parameter:3396,view_type:72,aux_data:{commerce_data:JSON.stringify({source:null})}})},[]),(0,j.jsxs)(y.so,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[(0,j.jsx)(y.az,{"data-test-id":"multi-select-filter-Sellers",paddingY:4,children:(0,j.jsx)(y.KJ,{children:n.bt("Merchants", "Merchants", "FeedFiltering.DomainFilter.Merchants", undefined, true)})}),e.map((e,i)=>(0,j.jsx)(ty.A,{onTouch:()=>{t(i),a({event_type:102,component:13469,view_parameter:3396,view_type:72,element:11376,aux_data:{pin_id:void 0,commerce_data:JSON.stringify({select:!0,domain:e.domain??""})}})},pressState:"none",children:(0,j.jsxs)(y.az,{alignItems:"center","data-test-id":"multi-select-option",display:"flex",marginBottom:3,children:[(0,j.jsx)(y.az,{marginEnd:2,children:(0,j.jsx)(tf.eu,{color:r,name:e.label||"",size:"sm",src:e.image_url})}),(0,j.jsx)(y.az,{flex:"grow",children:(0,j.jsx)(y.KJ,{children:e.label})}),e.selected?(0,j.jsx)(y.az,{children:(0,j.jsx)(y.In,{accessibilityLabel:n.bt("ticked merchant filter", "checked merchant filter", "FeedFiltering.DomainFilters.MerchantsCheckmark", undefined, true),color:"default",icon:"check"})}):null]},e.domain)},e.domain))]})}var tv=n(752450);function tb({domains:e,prices:t}){return!!e&&""!==e||!!t&&t.length>0}function tA(e){return e?e.filter(e=>e.selected).map(e=>e.domain).join(","):null}function tw({minPrice:e,maxPrice:t,priceFilters:n}){let{min_value:i,suggested_max_value:r}=n||{};return e!==i||t!==r?[e,t]:[]}let tS=({domains:e,prices:t})=>{let n={...(0,w.A)()};return e?n.domains=e:delete n.domains,t&&t[0]?n.price_min=t[0]:delete n.price_min,t&&t[1]?n.price_max=t[1]:delete n.price_max,n};function tj({currentPrice:e,currencyType:t,lowerBound:n,upperBound:i,handlePriceChange:r,cropSource:a}){let l=e[0],o=e[1];return(0,j.jsx)(tv.A,{cropSource:a,currencyType:t,handlePriceChange:r,lowerBound:n,maxPrice:o,minPrice:l,upperBound:i,withTitle:!0})}function tk({initialProductFilters:e,productFilters:t,submitButtonMarginTop:n,submitButtonText:i,submitFilters:r,updateShowIndicator:a}){(0,m.useEffect)(()=>{(0,h.A)("ProductFiltersContent","/app/www/shopping/duplo/productFilters/ProductFiltersContent.tsx")},[]);let l=(0,U.A)(),o=(0,et.A)(),{domainFilters:s}=t,{priceFilters:d}=t,{min_value:c,suggested_max_value:u,currency_type:p}=d||{},g=e?.domains,_=[];g&&(_=g.split(",")),s&&s.forEach(e=>{e.selected=_.includes(e.domain||"")});let[f,x]=e?.prices||[],v=f||c,b=x||u,[A,w]=(0,m.useState)(s),[S,k]=(0,m.useState)([v,b]);return(0,m.useEffect)(()=>{w(s),k([v,b]),a(tb({domains:tA(s)||"",prices:tw({minPrice:v,maxPrice:b,priceFilters:d})}))},[s,v,b]),(0,j.jsxs)(m.Fragment,{children:[(0,j.jsxs)(y.az,{"data-test-id":"drawer-container",marginBottom:n,children:[d&&Object.values(d).length>0&&(0,j.jsx)(tj,{currencyType:p,currentPrice:S,handlePriceChange:e=>{k(e)},lowerBound:c,upperBound:u}),A&&(0,j.jsx)(tx,{domainFilters:A,handleDomain:e=>{if(!A)return;let t=!A[e].selected;w([...A.slice(0,e),{...A[e],selected:t},...A.slice(e+1)])}})]}),(0,j.jsx)(y.so,{alignItems:"center",justifyContent:"center",children:(0,j.jsx)(y.$n,{color:"primary",onClick:()=>{o({event_type:102,view_parameter:3396,view_type:72,element:11546});let e=tA(A)||"",[t,n]=S,i={domains:e,prices:tw({minPrice:t,maxPrice:n,priceFilters:d})};r(i),a(tb(i))},size:"lg",text:i||l.bt("Apply", "Apply", "FeedFilterContainer.FeedFiltering.ConfirmButton", undefined, true),type:"submit"})})]})}let tI=(0,m.lazy)(()=>n.e("83226").then(n.bind(n,408152))),tP=()=>{},tE=({updateShowIndicator:e})=>{let{scope:t,query:n}=(0,S.u)(),i=(0,f.Zp)(),r=(0,U.A)(),a=(0,x.d4)(({search:e})=>e.productFilters[`${n}-${t}`]??{}),l=Object.keys(a).length>0,o=(0,f.zy)().search,{domains:s,price_min:d,price_max:c}=(0,e9.A)(o),u={domains:s,prices:[d,c].map(e=>parseInt(e??"",10))};return l?(0,j.jsxs)(y.so,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"start",overflow:"auto",width:"100%",children:[(0,j.jsx)(y.KJ,{weight:"bold",children:r.bt("Filters", "Filters", "shopping.filters.header", undefined, true)}),(0,j.jsx)(y.az,{marginBottom:2,marginTop:2,children:(0,j.jsx)(tk,{initialProductFilters:u,productFilters:a,submitFilters:({domains:e,prices:t})=>{let n=tS({domains:e,prices:t});i((0,e8.A)(window.location.pathname,n),{replace:!0})},updateShowIndicator:e})})]}):null};function tT({isOpen:e,isOldContentTypeFilter:t,topOffset:n=0,updateShowIndicator:i}){(0,m.useEffect)(()=>{(0,h.A)("SearchFiltersDrawer","/app/common/react/components/discover/AuthSearchPage/SearchFiltersDrawer.tsx")},[]);let r=(0,f.Zp)(),a=(0,U.A)(),{scope:l,query:o,viewType:s,viewParameter:d}=(0,S.u)(),c=(0,ed.A)({query:o}),u=(0,tg.bn)(),{logContextEvent:p}=(0,K.o)(),{isAuthenticated:_}=(0,g._8)();if(!u)return null;let{dispatch:y,filterState:x}=u,v=_||l!==A.cO.PINS_BUYABLE?(0,j.jsx)(tI,{handleFilterChange:t?(e,t)=>{y({type:"SUBMIT_FILTER"});let n=e.string_value;n&&(p({event_type:8721,component:14048,view_type:s,view_parameter:d,aux_data:{label:e.label,onebar_module_type:0,grid_index:t,module_ids:(0,t_.Vr)(x.models,x.filters),...c}}),r(n))}:void 0,hideReset:t,hideSubmit:t,offsetHeight:n+100,viewParameter:d,viewType:s}):(0,j.jsx)(tE,{updateShowIndicator:i||tP});return(0,j.jsx)(tl.A,{name:"SafeSuspense_SearchPage_FiltersDrawer",children:(0,j.jsx)(to.A,{children:(0,j.jsx)(ta,{accessibilityLabel:a.bt("Filters", "Filters", "shopping.filters.header", undefined, true),isDrawerOpen:e,topOffset:n,width:348,children:v})})})}var tC=n(444772),tz=n(739428),tF=n(392026),tR=n(306964),tO=n(798902),tL=n(675609),tM=n(171768),tB=n(777275),tD=n(323510),tN=n(205392),tK=n(676692);function tU({query:e,rs:t,scope:n,inlineSuggestion:i,windowHeight:r,windowWidth:a},l){let o=(0,tK.Cs)(),s=!o?.viewType&&!o?.viewParameter,d=(0,A.yI)(n);if(!s&&d){let{viewType:n,viewParameter:s}=o??{};l({event_type:d,view_type:n,view_parameter:s,aux_data:{query:e,rs:t||e3.I.UNKNOWN,inline_suggestion:i,screen_size_height:r,screen_size_width:a}})}t===e3.I.HASHTAG_CLOSEUP?l({event_type:101,component:135,element:10273,view_type:142}):t===e3.I.HASHTAG_PINREP&&l({event_type:101,component:0,element:10349,view_type:142})}var t$=n(510489),tH=n(236503),tV=n(998317);function tW({scope:e,typo:t}){(0,m.useEffect)(()=>{(0,h.A)("DesktopSearchAutoCorrect","/app/www/pages/SearchPage/DesktopSearchAutoCorrect.tsx")},[]);let n=(0,U.A)(),{corrected:i,correction:r,original:a}=t,l=i?`/search/${e}/?q=${encodeURIComponent(a)}&rs=${e3.I.TYPO_AUTO_ORIGINAL}&auto_correction_disabled=true`:`/search/${e}/?q=${encodeURIComponent(r)}&rs=${e3.I.TYPO_SUGGESTION}&auto_correction_disabled=true`;return(0,j.jsx)(y.az,{"data-test-id":"search-autocorrect",children:(0,j.jsx)(y.KJ,{align:e===A.cO.PINS_MINE?"center":"start",children:i?(0,eB.vQ)(n.bt("Here's what we found for {{ correctionLink }}. Search for {{ originalLink }} instead?", "Here's what we found for {{ correctionLink }}. Search {{ originalLink }} instead?", "Misspelled search query has been auto-corrected. Offer to search for the original query.", undefined, true),{correctionLink:(0,j.jsx)(y.KJ,{inline:!0,children:r},"correctionLink"),originalLink:(0,j.jsx)(y.KJ,{inline:!0,weight:"bold",children:(0,j.jsx)(y.N_,{display:"inlineBlock",href:l,underline:"hover",children:a})},"originalLink")}):(0,eB.vQ)(n.bt("Did you mean {{ correctionLink }}?", "Did you mean {{ correctionLink }}?", "Search term seems to be misspelled. Offer to search for the correct spelling.", undefined, true),{correctionLink:(0,j.jsx)(y.KJ,{inline:!0,weight:"bold",children:(0,j.jsx)(y.N_,{display:"inlineBlock",href:l,underline:"hover",children:r})},"correctionLink")})})})}function tq(){(0,m.useEffect)(()=>{(0,h.A)("SearchAutocorrect","/app/www/discover/AuthSearchPage/SearchAutocorrect.tsx")},[]);let{data:e}=(0,ec.A)(),{scope:t}=(0,S.u)();return e&&e.typo?(0,j.jsx)(y.az,{color:"default",minHeight:20,paddingX:8,paddingY:4,children:(0,j.jsx)(tW,{scope:t,typo:e.typo})}):null}function tG(){(0,m.useEffect)(()=>{(0,h.A)("SearchDebugInfo","/app/www/discover/AuthSearchPage/SearchDebugInfo.tsx")},[]);let{data:e,isLoaded:t}=(0,ec.A)();return t&&e?.debug?(0,j.jsx)(en.A,{data:e.debug}):null}function tY({connectionKey:e}){(0,m.useEffect)(()=>{(0,h.A)("SearchDebugInfo","/app/www/discover/AuthSearchPage/SearchDebugInfo.tsx")},[]);let t=(0,E.useFragment)((void 0!==a||(a=n(477447)).hash&&"aeb48360ee5d513adb09a327107f8558"!==a.hash&&console.error("The definition of 'SearchDebugInfo_searchUsersConnection' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a),e);return t.debugData?(0,j.jsx)(en.A,{data:JSON.parse(t.debugData)}):null}var tJ=n(609805);function tQ({messages:e}){(0,m.useEffect)(()=>{(0,h.A)("DesktopSearchNag","/app/www/pages/SearchPage/DesktopSearchNag.tsx")},[]);let{logContextEvent:t}=(0,K.o)(),n=e=>{if(e.target&&"A"===e.target.tagName){let n=e.target.getAttribute("href");n&&t({event_type:101,view_type:2,element:10578,aux_data:{url:n}})}};return(0,j.jsxs)(y.KJ,{children:[(0,j.jsx)($.A,{unsafeCSS:`
        .searchNagContainer a {
          color: #333; /* dark-gray */
          text-decoration: underline;
        }
        `}),(0,j.jsx)("span",{className:"searchNagContainer",dangerouslySetInnerHTML:{__html:e.join(" ")},"data-test-id":"warning-our-policies",onClick:n,onKeyPress:n})]})}function tX({advisoryDetails:e,advisoryLevel:t,severityLevel:n,...i}){(0,m.useEffect)(()=>{(0,h.A)("DesktopSearchNag","/app/www/pages/SearchPage/DesktopSearchNag.tsx")},[]);let r=(0,f.zy)(),{logContextEvent:a}=(0,K.o)();return(0,ee.A)(()=>{a({event_type:120,component:19,view_type:2,aux_data:{entered_query:(0,tJ.A)(r).query,advisory_details:e,advisory_level:t,severity_level:n}})}),(0,j.jsx)(tQ,{...i})}function tZ(){(0,m.useEffect)(()=>{(0,h.A)("SearchNag","/app/www/discover/AuthSearchPage/SearchNag.tsx")},[]);let{data:e}=(0,ec.A)();if(!e||e.typo||(0,tV.Ay)(e.sensitivity).hasNotices||!e.nag?.messages?.length)return null;let{messages:t}=e.nag;return(0,j.jsx)(y.az,{color:"default",minHeight:20,paddingX:8,paddingY:4,children:e.sensitivity?(0,j.jsx)(tX,{advisoryDetails:e.sensitivity.advisory_details,advisoryLevel:e.sensitivity.advisory,messages:t,severityLevel:e.sensitivity.severity}):(0,j.jsx)(tQ,{messages:t})})}let t0=(void 0!==l||(l=n(389790)).hash&&"0aca8197fe3c30942928ba66223698c1"!==l.hash&&console.error("The definition of 'SearchNagWithCheckGQL_searchUsersConnection' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l);function t1({connectionKey:e}){(0,m.useEffect)(()=>{(0,h.A)("SearchNag","/app/www/discover/AuthSearchPage/SearchNag.tsx")},[]);let t=(0,E.useFragment)(t0,e),n=(0,tV.z1)(t.sensitivity);if(!t||n||!t.searchNag?.nag?.messages?.length)return null;let i=t.searchNag.nag.messages||[];return(0,j.jsx)(y.az,{color:"default",minHeight:20,paddingX:8,paddingY:4,children:t.sensitivity?(0,j.jsx)(tX,{advisoryDetails:t.sensitivity.advisory_details,advisoryLevel:t.sensitivity.advisory,messages:i,severityLevel:t.sensitivity.severity}):(0,j.jsx)(tQ,{messages:i})})}var t2=n(695171),t6=n(820382);function t4({suggestions:e,rs:t,source_id:n}){(0,m.useEffect)(()=>{(0,h.A)("PinsNotFoundMessage","/app/www/discover/AuthSearchPage/PinsNotFoundMessage.tsx")},[]);let i=(0,U.A)();return(0,j.jsxs)(y.az,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",marginTop:12,paddingY:12,width:"100%",children:[(0,j.jsx)(y.KJ,{weight:"bold",children:i.bt("Sorry, we couldn't find any Pins for this search.", "Sorry, we couldn't find any Pins for this search.", "Search result page", undefined, true)}),e&&e.length>0&&(0,j.jsxs)(m.Fragment,{children:[(0,j.jsx)(y.KJ,{weight:"bold",children:i.bt("You could give one of these a try?", "Maybe give one of these a try?", "Instruction on no search results page", undefined, true)}),(0,j.jsx)(y.az,{display:"flex",justifyContent:"center",marginTop:3,width:"80%",wrap:!0,children:e.map((e,i)=>(0,j.jsx)(y.az,{paddingX:1,paddingY:1,children:(0,j.jsx)(t6.A,{bubble:e,height:84,referringSource:t,slotIndex:i,storyId:n,viewParameter:43,viewType:2,width:192})},e))})]})]})}var t5=n(696683);function t3(){(0,m.useEffect)(()=>{(0,h.A)("PinsNotFoundShoppingFilter","/app/www/discover/AuthSearchPage/PinsNotFoundShoppingFilter.tsx")},[]);let e=(0,U.A)();return(0,j.jsx)(y.az,{marginTop:12,paddingY:12,width:"100%",children:(0,j.jsxs)(y.so,{alignItems:"center",direction:"column",gap:4,justifyContent:"center",children:[(0,j.jsx)(y.az,{display:"flex",justifyContent:"center",marginBottom:5,width:"100%",children:(0,j.jsx)(t5.A,{containerSize:320,description:e.bt("There are no Pins matching your search right now. Try editing or removing filters to get results.", "There arent Pins that match your search right now. Try editing or removing filters to get results.", "PinsNotFoundShoppingFilter.popsicle.illustrations.description", undefined, true),illustrationSize:186,message:e.bt("Tweak your search", "Tweak your search", "PinsNotFoundShoppingFilter.popsicle.illustrations.message", undefined, true),name:"popsicle"})}),(0,j.jsx)(eQ.A,{})]})})}function t8(e){return((0,m.useEffect)(()=>{(0,h.A)("PinsNotFound","/app/www/discover/AuthSearchPage/PinsNotFound.tsx")},[]),(0,G.A)())?(0,j.jsx)(t3,{}):(0,j.jsx)(t4,{...e})}let t9=()=>{(0,m.useEffect)(()=>{(0,h.A)("SearchResultNotFound","/app/www/discover/AuthSearchPage/searchResult/SearchResultNotFound.tsx")},[]);let e=(0,U.A)(),{data:t}=(0,ec.A)(),{currentlyAppliedFiltersParamTerm:n,scope:i,query:r}=(0,S.u)(),a=i===A.cO.PINS_MINE,l=(0,t2.A)(r),o=!!t?.shouldAppendGlobalSearch,s=t?.noResultsPivotsInfo;return(0,j.jsx)(y.az,{children:(0,j.jsx)(eI.A,{view:2,viewParameter:(0,A._n)(i),children:(i!==A.cO.PINS||n)&&i!==A.cO.PINS_BUYABLE?(0,j.jsx)(y.az,{dangerouslySetInlineStyle:{__style:{fontSize:a?16:18,fontWeight:"normal",margin:a?"32px auto":"54px auto",textAlign:"center"}},"data-test-id":"search-result-not-found-container",width:"50%",children:(0,j.jsx)(y.az,{children:(0,eB.vQ)((({hasFilters:e,isSearchMyPins:t,myPinsMsgOverride:n,scope:i},r)=>{if(t)return r.bt("Cannot find any saved Pins for {{ formattedSearchTerm }}.", "Cant find any saved Pins for {{ formattedSearchTerm }}.", "searchPage.searchResultNotFound.noSavedPinsText", undefined, true);if(n)return r.bt("You haven't saved any Pins about {{ formattedSearchTerm }}. Check out these ideas instead...", "You haven't saved any Pins about {{ formattedSearchTerm }}. Check out these ideas instead...", "Message when searching your own pins returns no results", undefined, true);switch(i){case A.cO.PINS_MINE:return r.bt(" Sorry, we couldn't find any Pins with '{{ formattedSearchTerm }}' in the description. {{ newLine }} Tip: try searching for words you've used in your Pin description. ", " Sorry, we couldn't find any Pins with '{{ formattedSearchTerm }}' in the description. {{ newLine }} Tip: Try searching for words you've used in your Pin description. ", " - ", undefined, true);case A.cO.PINS_BUYABLE:return r.bt(" Sorry, we couldn't find any Product Pins for {{ formattedSearchTerm }}. ", " Sorry, we couldn't find any Product Pins for {{ formattedSearchTerm }}. ", " - ", undefined, true);case A.cO.BOARDS:case A.cO.BOARDS_MINE:return r.bt(" Sorry, we couldn't find any boards about {{ formattedSearchTerm }}. {{ newLine }} Please try another search. ", " Sorry, we couldn't find any boards about {{ formattedSearchTerm }}. {{ newLine }} Please try another search. ", " - ", undefined, true);case A.cO.USERS:return r.bt(" Sorry, we couldn't find anyone named {{ formattedSearchTerm }}. ", " Sorry, we couldn't find anyone named {{ formattedSearchTerm }}. ", " - ", undefined, true);case A.cO.PINS:case A.cO.PINS_VIDEO:case A.cO.MY_CONTENT:case A.cO.SHOP_TOOL:if(e)return r.bt(" Hmm...we didn't find anything. Try some different search filters for {{ formattedSearchTerm }}. ", " Hmm...we didn't find anything. Try some different search filters for {{ formattedSearchTerm }}. ", " - ", undefined, true);return r.bt(" Sorry, we couldn't find any Pins for {{ formattedSearchTerm }}. {{ newLine }} Please try another search. ", " Sorry, we couldn't find any Pins for {{ formattedSearchTerm }}. {{ newLine }} Please try another search. ", " - ", undefined, true);default:return""}})({hasFilters:!!n,isSearchMyPins:a,myPinsMsgOverride:o,scope:i},e),{searchTerm:l,formattedSearchTerm:(0,j.jsx)(y.KJ,{inline:!0,weight:"bold",children:l},"formattedSearchTerm"),newLine:(0,j.jsx)("br",{},"br")})})}):(0,j.jsx)(t8,{rs:s&&s.rs?s.rs:e3.I.NO_RESULTS_SEARCH_STORY,source_id:s&&s.source_id?s.source_id:"",suggestions:s?s.queries:void 0})})})};var t7=n(259490);let ne=(void 0!==o||(o=n(749324)).hash&&"94c417483d1d9a206652ef6d783a3331"!==o.hash&&console.error("The definition of 'SearchSensitiveContentNotice_sensitivity' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o);function nt({query:e,viewParameter:t}){let{data:n,isLoaded:i}=(0,ec.A)();if(!i||!n)return null;let{sensitivity:r}=n,{hasNotices:a}=(0,tV.Ay)(r);return a?(0,j.jsx)(y.az,{paddingY:2,children:(0,j.jsx)(y.so,{direction:"column",gap:8,children:r?.notices?.map(n=>(0,j.jsx)(t7.A,{notice:n,query:e,sensitivity:r,viewParameter:t,viewType:2},n.id))})}):null}function nn({query:e,sensitivityKey:t,viewParameter:n}){let i=(0,E.useFragment)(ne,t);return i?(0,j.jsx)(y.az,{paddingY:2,children:(0,j.jsx)(y.so,{direction:"column",gap:8,children:(0,j.jsx)(t7.d,{query:e,sensitivityKey:{type:"GraphQL",data:i},viewParameter:n})})}):null}function ni({query:e,sensitivityKey:t}){(0,m.useEffect)(()=>{(0,h.A)("SearchSensitiveContentNotice","/app/www/discover/AuthSearchPage/SearchSensitiveContentNotice.tsx")},[]);let{scope:n,viewParameter:i}=(0,S.u)(),r=(0,E.useFragment)(ne,t)??null,{hasNotices:a}=(0,tV.fG)(r);return a?n===A.cO.USERS?(0,j.jsx)(nn,{query:e,sensitivityKey:t,viewParameter:i}):(0,j.jsx)(nt,{query:e,viewParameter:i}):null}var nr=n(694804),na=n(521344);let nl=(0,m.lazy)(()=>n.e("32825").then(n.bind(n,193024)));function no(){(0,m.useEffect)(()=>{(0,h.A)("SkinToneFiltersEducationCheck","/app/www/inclusiveProduct/SkinToneFilters/SkinToneFiltersEducationCheck.tsx")},[]);let[e,t]=(0,m.useState)(!1),{isLoaded:n,data:i}=(0,ec.A)(),{filters:r,modifiedFilterEligibility:a}=i||{},l=!!(!r&&a?.skin_tone),o=(0,m.useCallback)(()=>{!e&&l?t(!0):e&&!l&&t(!1)},[e,l]);return((0,m.useEffect)(()=>{n&&i&&o()},[i,n,o]),(0,m.useEffect)(()=>{let e=setTimeout(()=>o(),5e3);return()=>{clearTimeout(e)}},[o]),n&&i&&e)?(0,j.jsx)(tl.A,{name:"SafeSuspense_SkinToneFiltersEducationCheck_SkinToneFiltersEducationModal",children:(0,j.jsx)(to.A,{children:(0,j.jsx)(nl,{})})}):null}var ns=n(464224);function nd(){let e;(0,m.useEffect)(()=>{(0,h.A)("SearchTipHeader","/app/www/partner/SearchTipHeader/SearchTipHeader.tsx")},[]);let t=(0,U.A)(),{locale:n}=(0,g._8)(),i=(0,Q.A)(),{query:r,scope:a}=(0,S.u)(),{data:l,isLoaded:o}=(0,ec.A)();return o&&l&&a===A.cO.PINS_MINE&&i.isAuth&&i.isPartner&&"en-US"===n?(e=l.results&&l.results.length>1?t.bt("Boost traffic to your website by promoting your Pins", "Boost traffic to your website by promoting your Pins", " - ", undefined, true):(0,eB.vQ)(t.bt("0 results found for {{query}}, try adding some now.", "0 results found for {{query}}, try adding some now.", " - ", undefined, true),{query:r}),(0,j.jsx)(y.az,{marginBottom:7,paddingX:8,children:(0,j.jsxs)(y._Y,{align:a===A.cO.PINS_MINE?"center":"start",color:"error",size:"600",children:[t.bt("Tip:", "Tip:", "Prefix for a \"tip\" header which gives some guidance on the search results page", undefined, true)," ",e]})})):null}var nc=n(408738);let nu=(0,nc.A)(()=>Promise.all([n.e("17694"),n.e("25174")]).then(n.bind(n,34605)),void 0,e=>34605,"ColorSeasonsQuiz",e=>["17694","25174"]),np=(void 0!==s||(s=n(617507)).hash&&"3eee1316a81c5d4b4c612e0114f1363e"!==s.hash&&console.error("The definition of 'SearchContainer_searchUsersConnection' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),s);function nh({children:e,generatedQueryForResults:t,hasResults:n,containerKey:i,hasNext:r,isLoadingNext:a,isLoadedGQL:l}){(0,m.useEffect)(()=>{(0,h.A)("SearchContainer","/app/common/react/components/discover/AuthSearchPage/SearchContainer.tsx")},[]);let o=(0,U.A)(),{logContextEvent:s}=(0,K.o)(),{isRTL:d}=(0,g._8)(),{query:c,quiz:u,scope:p,rs:_,viewType:x,viewParameter:v,placementId:b,inlineSuggestion:k}=(0,S.u)(),{checkExperiment:I}=(0,X.A)(),{data:P,isLoaded:T,isAtEnd:z}=(0,ec.A)(),{width:F=0,height:R=0}=(0,Y.A)()??{},[O,L]=(0,m.useState)(!1),M=l||T,B=(0,f.zy)(),D=(0,e9.A)(B.search),N=u||D.quiz;(0,m.useEffect)(()=>{let e=()=>{let e=(0,e9.A)(window.location.search),t=u||e.quiz,n=I("web_fmc_seasons_quiz").anyEnabled;!O&&"colorseasons"===t&&n?L(!0):!t&&O&&L(!1)};e();let t=()=>{e()};window.addEventListener("popstate",t);let n=setInterval(e,100);return()=>{window.removeEventListener("popstate",t),clearInterval(n)}},[O,u,B.search,B.pathname,I,N]),(0,m.useEffect)(()=>{M&&tU({query:c,rs:_,scope:p,inlineSuggestion:k,windowHeight:R,windowWidth:F},s)},[M]);let $=(0,tD.Y)(),H=(0,E.useFragment)(np,i),V=H?H.sensitivity:null,{hasNotices:W,advisory:q,severity:G}=(0,tV.fG)(V),Z=W&&q!==tH.im.CONDITIONAL&&G===tH.k9.ABUSIVE&&!n,ee=H?H.oneBarModules:null,{filters:et,queryL1VerticalIds:en}=M&&P?P:{},ei=p===A.cO.USERS,er=p===A.cO.PINS_BUYABLE,ea=e4.S.includes(_||""),{isFiltersDrawerOpen:el,setFiltersDrawerOpen:eo,setFiltersDrawerFocused:es,isSidebarPresent:ed}=(0,C.M)()||{isFiltersDrawerOpen:!1,setFiltersDrawerOpen:()=>{},setFiltersDrawerFocused:()=>{},isSidebarPresent:!1},{filterState:eu,dispatch:ep}=(0,tg.bn)()||{},eh=(0,tL.A)(),em=!eh&&p!==A.cO.PINS_BUYABLE,[eg,e_]=(0,m.useState)(eu?.status===tz.c.APPLIED);(0,m.useEffect)(()=>{let e=eu?.status;[tz.c.APPLIED,tz.c.CLEARED].includes(e??"")&&e_(e===tz.c.APPLIED)},[eu?.status]),(0,m.useEffect)(()=>{W&&eo(!1)},[W,eo]),(0,m.useEffect)(()=>{$&&en&&($.addBinaryAnnotation("vertical",en.join(","),"STRING"),(0,tN.tL)("vertical",en.join(","),"STRING"))},[!!$,t,en]);let ef=et?.hair_pattern||et?.skin_tone;(0,m.useEffect)(()=>{function e(){el&&(eo(!1),e_(!1),ep?.({type:"CLEAR_FILTERS"})),s({event_type:14888,view_type:x,view_parameter:v})}return window.addEventListener("popstate",e),()=>{window.setTimeout(()=>{window.removeEventListener("popstate",e)},1e3)}},[ep,el,s,eo,v,x]),function(){let{logContextEvent:e}=(0,K.o)(),{scope:t}=(0,S.u)(),n=(0,tF.A)(),{isFiltersDrawerOpen:i,setFiltersDrawerOpen:r}=(0,C.M)()||{isFiltersDrawerOpen:!1,setFiltersDrawerOpen:()=>{}},{filterState:a,refreshFiltersData:l,dispatch:o}=(0,tg.bn)()||{},s=(a?.models||[]).length>0,d=(0,m.useRef)(null),c=(0,m.useRef)(3);(0,m.useEffect)(()=>{if(!n)return(!s||a?.isFetching)&&i&&!d.current?d.current=setInterval(()=>{c.current?(l&&l(),c.current-=1):(o&&o({type:"LOADING_COMPLETED_OR_FAILED"}),setTimeout(()=>{r(!1)},1e3),e({event_type:14704,view_type:2,view_parameter:(0,A._n)(t)}),u())},2e3):s&&d.current&&u(),u;function u(){d.current&&clearInterval(d.current),d.current=null,c.current=3}},[a,s,i,r,d,l,e,t,o,n])}(),function(){let{checkExperiment:e}=(0,X.A)(),{scope:t}=(0,S.u)(),n=(0,f.Zp)(),i=(0,f.zy)(),r=(0,tR.A)(),a=(0,Q.A)(),{isAuth:l}=a,o=l?a.country:"",{filterState:s,dispatch:d}=(0,tg.bn)()||{},c=(0,tL.A)(),u=(s?.models||[]).length>0,p=!c&&t!==A.cO.PINS_BUYABLE&&u,h="US"===o||e("hundred_percent_product_load_i8n",{dangerouslySkipActivation:!0}).anyEnabled;(0,m.useEffect)(()=>{if(!s||!d)return;let{status:e,filters:t,models:a}=s;if(e===tz.c.SUBMITTED)if(p)d({type:"SUBMIT_COMPLETE"});else{r(1);let e=(0,w.A)(),{brands:s,colors:c,commerce_only:u,domains:p,max:m,min:g,scope:_,on_sale:f}=(0,t_.b_)({filterMap:t,isInWebHundredPercentProductLoadExp:h,models:a}),y=h&&_===A.cO.PINS_BUYABLE?A.cO.PINS:_;if(tO.Y.forEach(t=>{delete e[t]}),delete e.category,"number"==typeof m&&(e.price_max=m),"number"==typeof g&&(e.price_min=g),p&&p.length>0&&(e.domains=p.join(",")),s&&s.length>0&&(e.brands=s.join(",")),c&&c.length>0&&(e.colors=c.join(",")),"number"==typeof f&&(e.on_sale=f),h&&u&&(e.commerce_only=u),_!==A.cO.PINS&&e.filters){var l,o;let t=(l=e.filters,o=["pin_fashion_styles","pin_home_decor_styles"],l.split(",").filter(e=>!o.find(t=>e.includes(t))).join(","));t?e.filters=t:delete e.filters}tO.Y.some(t=>"commerce_only"!==t&&t in e)?e.rs=e3.I.SHOPPING_FILTER:e.rs=e3.I.CONTENT_TYPE_FILTER;let x=(0,e8.A)("string"==typeof y?`/search/${y}/`:i.pathname,e);`${i.pathname}${i.search}`!==x&&(n(x),d({type:"SUBMIT_COMPLETE"}))}},[r,e,d,s,n,h,p,i,t])}();let ey=(0,m.useRef)(null),ex=ey.current?.offsetHeight,{experimentalGutter:eb}=(0,ev.A)(),eA=ed&&e4.g||el&&348,ew=p===A.cO.USERS;return(0,j.jsxs)(m.Fragment,{children:[(0,j.jsx)(nr.A,{text:o.bt("Search results page", "Search Results Page", "searchContainer.accessibilityHiddenHeading", undefined, true)}),(0,j.jsx)(J.aR,{placementId:b}),(0,j.jsx)(tC.A,{placementId:b}),(0,j.jsx)(J.j9,{placementId:b}),(0,j.jsx)(J.Vj,{placementId:b}),(0,j.jsx)(J.nU,{placementId:b}),(0,j.jsx)(J.r8,{placementId:b}),(0,j.jsx)(tM.A,{placementId:1000506}),(0,j.jsx)(tB.A,{placementId:1000542}),(0,j.jsxs)(t$.A,{dataLayoutShiftBoundaryId:"SearchContentHeader",forwardRef:ey,offset:0,position:"sticky",shouldShowShadow:!0,stickyZIndex:new y.K5([new y.rk(2)]),children:[!ea&&(0,j.jsx)(tq,{}),ei?(0,j.jsx)(t1,{connectionKey:H}):(0,j.jsx)(tZ,{}),!ea&&!W&&(0,j.jsx)(y.az,{dangerouslySetInlineStyle:{__style:eb?{padding:`0 ${eb}px`}:{}},children:(0,j.jsx)(tm,{hasProductFiltersApplied:eg,oneBarModulesKey:ee,onFilterButtonClick:()=>{let e=!el;eo(e),e&&es(!0),er&&s({event_type:101,view_type:x,component:eh?14391:13467,element:eh?12020:11735,view_parameter:v})},paddingX:0})})]}),!ea&&(0,j.jsx)(tT,{dataLayoutShiftBoundaryId:"SearchFiltersDrawer",isOldContentTypeFilter:em,isOpen:el,topOffset:ex}),ea&&(0,j.jsx)(ts,{topOffset:ex}),(0,j.jsxs)(y.az,{dangerouslySetInlineStyle:{__style:eA?{marginLeft:d?void 0:eA,marginRight:d?eA:void 0}:{}},overflow:"hidden",width:"unset",children:[ef&&(0,j.jsx)(na.default,{dataLayoutShiftBoundaryId:"SearchInclusiveProductFilters",filters:et,moduleType:ns.P4.SEARCH_FEED,query:t,viewParameter:v,viewType:x}),ei?(0,j.jsx)(tY,{connectionKey:H}):(0,j.jsx)(tG,{}),!W&&(0,j.jsx)(nd,{}),(0,j.jsx)(ni,{query:t,sensitivityKey:V}),!Z&&(0,j.jsxs)(m.Fragment,{children:[e?(0,j.jsxs)(y.az,{children:[e,(ew&&a||ew&&!r||z)&&(0,j.jsx)(e1,{dataLayoutShiftBoundaryId:"SearchResultEnd",hasNext:r,isLoadingNext:a,query:t})]}):(0,j.jsx)(t9,{}),(0,j.jsx)(no,{})]}),(0,j.jsx)(e6,{query:t})]}),(0,j.jsx)(J.Gl,{placementId:b}),O&&(0,j.jsx)(to.A,{children:(0,j.jsx)(nu,{handleDismiss:()=>L(!1)})})]})}var nm=n(836664);let ng=()=>{},n_=({bookmark:e="",children:t,generateInitFilterCb:n})=>{let i=(0,tF.A)(),{data:r=null,refresh:a,isLoaded:l}=(0,ez.A)(!i&&e?{name:"ApiResource",options:{url:"/v3/filters/",data:{bookmark_string:e}}}:null),{cachedProductFilterOneBarModules:o}=(0,nm.x)(),s=o.map(t_.ch).filter(Boolean);return(0,j.jsx)(tg.N_,{applyInitFilters:n,filterModels:(i?s:r)||[],isFetching:i?0===s.length:!l||!e,refreshFiltersData:a,children:t})},nf=(void 0!==d||(d=n(667303)).hash&&"8f78e256e0576ff75e10faecd9f6a8cf"!==d.hash&&console.error("The definition of 'UnifiedFiltersContextProvider_oneBarModules' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),d),ny=({children:e,oneBarModulesKey:t})=>{let{data:n,isFetching:i,isLoaded:r}=(0,ec.A)(),{oneBarModules:a}=n||{},l=(0,E.useFragment)(nf,t),o=(0,m.useMemo)(()=>({dispatch:()=>{},filterState:{models:[],availableFilterModels:[],appliedFilters:{},filters:{},isFetching:i,pendingDeletedSelections:{},status:tz.c.CLEARED},refreshFiltersData:ng}),[i]),s=(l?[l]:a?.map(e=>e&&{action:e.action?{filters:e.action.filters?e.action.filters.map(e=>({isSelected:e.is_selected??null,id:e.id??null,display:e.display?{displayText:e.display.display_text??null}:null,action:e.action?{feedUrl:e.action.feed_url??null}:null})):null}:null,id:e.id??null,moduleType:e.module_type??null}))?.find(({moduleType:e})=>0===e),d=s?.action?.filters;if(!s||!d)return(0,j.jsx)(tg.Kq,{value:o,children:e});let c=s.id||"",u={[c]:{id:c,selectedOptionId:d.find((e,t)=>e?.isSelected&&0!==t)?.id||"",type:"single",lastChangedLocation:1}};return(0,j.jsx)(tg.N_,{filterModels:[{filter_component_type:2,filter_options:d.map((e,t)=>({label:e?.display?.displayText||"",id:e?.id||"",string_value:e?.action?.feedUrl||"",is_selected:"boolean"==typeof e?.isSelected?e.isSelected:0===t})),id:c,title:"",product_filter_type:4}],filters:u,isFetching:!r,refreshFiltersData:ng,children:e})};var nx=n(845736);function nv(){let{currentlyAppliedFiltersParamTerm:e,query:t,scope:n}=(0,S.u)(),{setBookmark:i}=I(),{cacheOneBarModules:r}=(0,nm.x)(),{data:a,isLoaded:l,nextBookmark:o}=(0,ec.A)(),s=(0,tF.A)();(0,m.useEffect)(()=>{i(o)},[o,i]),(0,m.useEffect)(()=>{let e=a?.oneBarModules;s&&a?.oneBarFilters?.forEach(t=>{let n=e?.find(e=>"number"==typeof e.action?.product_filter_type?e.action.product_filter_type===t.product_filter_type:4===t.product_filter_type&&0===e.module_type);n?.action&&(n.action.filter=t)}),r({baseCacheKey:t,oneBarModules:e})},[a?.oneBarModules,r,t,a?.oneBarFilters,s]);let{skinToneQueryUses:{lastQuery:d}}=(0,nx.PW)(),{updateSkinToneFilterQueryUses:c,updateShowSkinToneFilters:u}=(0,nx.U_)(),{filters:p,results:h,typo:g}=a??{};(0,m.useEffect)(()=>{e&&d!==t&&c(t)},[e,d,t,c]);let _=!!p;(0,m.useEffect)(()=>{u(_)},[u,_]);let f=g?.corrected?g.correction:t,y=null;switch(n){case A.cO.USERS:break;case A.cO.BOARDS:case A.cO.PINS_BUYABLE:case A.cO.PINS_MINE:case A.cO.PINS_VIDEO:case A.cO.PINS:y=(0,j.jsx)(eJ,{query:f})}let x=!!(h&&h.length>0);return(0,j.jsx)(nh,{containerKey:null,dataLayoutShiftBoundaryId:"SearchContainer",generatedQueryForResults:f,hasResults:x,children:(x||!l)&&(0,j.jsx)(m.Fragment,{children:y})})}function nb(){(0,m.useEffect)(()=>{(0,h.A)("Search","/app/common/react/components/discover/AuthSearchPage/Search.tsx")},[]);let{scope:e,domains:t,brands:n,colors:i,priceMax:r,priceMin:a,onSale:l}=(0,S.u)(),{bookmark:o}=I(),s=(0,m.useCallback)(o=>(0,t_.ST)({unifiedFilterModels:o,priceMax:r&&!Number.isNaN(r)?Number(r):null,priceMin:a&&!Number.isNaN(a)?Number(a):null,domains:t?decodeURI(t).split(","):null,brands:n?decodeURI(n).split(","):null,colors:i?decodeURI(i).split(","):null,scope:e,onSale:l&&!Number.isNaN(l)?Number(l):null}),[r,a,t,n,i,e,l]);return(0,tL.A)()||e===A.cO.PINS_BUYABLE?(0,j.jsx)(n_,{bookmark:o,generateInitFilterCb:s,children:(0,j.jsx)(nv,{})}):(0,j.jsx)(ny,{oneBarModulesKey:null,children:(0,j.jsx)(nv,{})})}var nA=n(328582),nw=n(267506);let nS=({data:e})=>{let t=(0,j.jsxs)(y.az,{children:[(0,j.jsx)(nw.A,{avatarSize:"md",avatarUrl:e.image_medium_url,contextualPinImages:e.contextual_pin_image_urls,followedByMe:e.explicitly_followed_by_me,followersCount:e.follower_count,fullName:e.full_name,isVerifiedIdentity:e.verified_identity?.verified,isVerifiedMerchant:e.is_verified_merchant,recentPinImages:e.recent_pin_images,truncateName:!0,userId:e.id,username:e.username,userSearchRepStyle:!0,viewParameter:45,viewType:2}),!!e.debug&&(0,j.jsx)(en.A,{data:e.debug})]}),n=e.contextual_pin_image_urls?.["222x"]||e.contextual_pin_image_urls?.["192x"];return!n||n.length<=0?(0,j.jsx)(y.so,{justifyContent:"center",width:"100%",children:t}):(0,j.jsx)(y.az,{marginBottom:6,marginEnd:6,marginStart:6,children:t})},nj=(void 0!==c||(c=n(415628)).hash&&"272f5f416fc158e84266d5f3c13e9c69"!==c.hash&&console.error("The definition of 'SearchResultUsersList' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),c),nk=({userKey:e})=>{let t=(0,E.useFragment)(nj,e),n=e=>({"222x":e?e.map(e=>({dominant_color:e.dominantColor||"",height:e.height||0,url:e.url||"",width:e.width||0})):[]});return(0,j.jsx)(nS,{data:{contextual_pin_image_urls:n(t.contextualPinImageUrls),debug:!1,explicitly_followed_by_me:!!t.explicitlyFollowedByMe,follower_count:t.followerCount||0,full_name:t.fullName||"",id:t.entityId,image_medium_url:t.imageMediumUrl||"",is_verified_merchant:!!t.isVerifiedMerchant,recent_pin_images:n(t.recentPinImages),username:t.username||"",verified_identity:{verified:t.verifiedIdentity?.verified}}})};function nI({clientTrackingParams:e,hasNext:t,isLoadingNext:n,loadNext:i,userListKeys:r}){return(0,m.useEffect)(()=>{(0,h.A)("SearchResultUsersList","/app/www/discover/AuthSearchPage/searchResult/SearchResultUsersList.tsx")},[]),(0,j.jsx)(eI.A,{clientTrackingParams:e,view:2,viewParameter:45,children:(0,j.jsxs)(y.az,{"data-test-id":"search-result-users-list",children:[(0,j.jsx)(y.WY,{fetchMore:()=>{i(50)},isAtEnd:!t,isFetching:n}),(0,j.jsx)(y.so,{alignItems:"center",direction:"column",gap:{row:0,column:6},justifyContent:"center",children:(0,j.jsx)(y.az,{alignItems:"center",display:"flex",margin:"auto",padding:6,children:(0,j.jsx)(y.so,{direction:"column",justifyContent:"center",wrap:!0,children:(r||[]).map((e,t)=>e?(0,j.jsx)(nk,{userKey:e},t):null)})})})]})})}var nP=n(532169);let nE=(void 0!==u||(u=n(611450)).hash&&"5cb3cc7b8d6ec418ea68dbcfd70533a4"!==u.hash&&console.error("The definition of 'UserSearchQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),u),nT=(void 0!==p||(p=n(850153)).hash&&"60ee3a73c4bde32a0e1ec7b6d624b98b"!==p.hash&&console.error("The definition of 'UserSearchPagination_query' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),p);function nC({searchParams:e}){return{query:nE,variables:{query:e.get("q")||"",debD:e.get("deb_d"),rs:e.get("rs")}}}function nz({queryRef:e}){let{search:t}=(0,f.zy)(),{query:n,scope:i}=(0,S.u)(),{isRTL:r}=(0,g._8)(),a=(0,m.useMemo)(()=>nC({searchParams:new URLSearchParams(t)}),[t]),l=(0,E.usePreloadedQuery)(a.query,e),{data:o,isLoadingNext:s,loadNext:d,hasNext:c}=(0,E.usePaginationFragment)(nT,l),u=o.v3SearchUsersWithStoriesQuery?.__typename==="V3SearchUsersWithStories"?o.v3SearchUsersWithStoriesQuery?.data:null,p=u?.__typename==="V3SearchUsersWithStoriesDataConnectionContainer"?u.connection:null,h=p?.edges?.map(e=>e?.node).filter(e=>null!=e)??[],_=(0,m.useRef)(!0),y=!!p,x=p?.oneBarModules,v=h.length>0,b=p?.clientTrackingParams,A=p?.pageInfo.endCursor;(0,ee.A)(()=>{_.current=!1});let w=(0,tL.A)(),k=(0,m.useCallback)(e=>(0,t_.ST)({unifiedFilterModels:e,scope:i}),[i]),I=p?(0,j.jsx)(nh,{containerKey:p,generatedQueryForResults:n,hasNext:c,hasResults:v,isLoadedGQL:y,isLoadingNext:s,children:v?(0,j.jsxs)(m.Fragment,{children:[_.current?(0,j.jsx)($.A,{unsafeCSS:function({itemType:e,isRTL:t}){let n="PinRep"===e?2:1,i=(e=>{switch(e){case"UserRep":return 260;case"BoardRep":return 252;default:return 236}})(e);return(0,nP.A)({gutterWidth:0,isRTL:t,itemWidth:i,maxColumns:16,minColumns:n})}({isRTL:r,itemType:"UserRep"})}):null,(0,j.jsx)(nI,{clientTrackingParams:b,hasNext:c,isLoadingNext:s,loadNext:d,userListKeys:h})]}):null}):null;return w?(0,j.jsx)(n_,{bookmark:A,generateInitFilterCb:k,children:I}):(0,j.jsx)(ny,{oneBarModulesKey:x?.[0]??null,children:I})}function nF(){(0,m.useEffect)(()=>{(0,h.A)("UserSearch","/app/common/react/components/discover/AuthSearchPage/UserSearch.tsx")},[]);let{search:e}=(0,f.zy)(),t=(0,U.A)(),n=(0,m.useMemo)(()=>nC({searchParams:new URLSearchParams(e)}),[e]),[i,r]=(0,E.useQueryLoader)(n.query);return(0,m.useEffect)(()=>{r(n.variables)},[r,n.variables]),!!i&&(0,j.jsx)(m.Suspense,{fallback:(0,j.jsx)(nA.A,{accessibilityLabel:t.bt("Loading user search results", "Loading user search results", "UserSearch.LoadingSpinner.a11yLabel", undefined, true)}),children:(0,j.jsx)(nz,{queryRef:i},n.variables.query)})}var nR=n(406661),nO=n(816964);function nL(){(0,m.useEffect)(()=>{(0,h.A)("SearchPage","/app/common/react/components/discover/AuthSearchPage/SearchPage.tsx")},[]);let e=(0,x.wA)(),{query:t,scope:n,placementId:i}=(0,S.u)(),{skinToneQueryUses:{numQueryUses:r}}=(0,nx.PW)(),{setExtraContext:a}=(0,nR.A)(i);(0,m.useEffect)(()=>{e((0,nO.Cm)(t))},[t,e]),(0,m.useEffect)(()=>{(t||null!=r)&&a&&a({num_unique_skin_tone_filters_applied:r||0,search_query:t,search_query_uri_encoded:encodeURIComponent(t)})},[r,t,a]);let l=n===A.cO.USERS?(0,j.jsx)(nF,{}):(0,j.jsx)(nb,{});return(0,j.jsx)(C.B,{children:(0,j.jsx)(P,{children:(0,j.jsx)(nm.Q,{children:l})})})}var nM=n(348681),nB=n(91760);function nD(){(0,m.useEffect)(()=>{(0,h.A)("SearchPage","/app/www/pages/authDesktop/SearchPage.tsx")},[]);let e=(0,U.A)(),t=(0,f.Zp)(),{search:n}=(0,f.zy)(),{scope:i}=(0,f.g)(),{q:r}=(0,e9.A)(n),a=0!==(r||"").trim().length;return((0,nM.r)(a&&i?{aux_data:{entered_query:r},view_type:2,view_parameter:(0,A._n)((0,A.Jj)(i)),view_data:{scope:i}}:null),a)?(0,j.jsx)(nB.A,{measureGridVisuallyComplete:!0,surface:"search",children:(0,j.jsx)(S.n,{children:(0,j.jsx)(tl.A,{name:"SafeSuspense_SearchPage_SearchFeed",children:(0,j.jsx)(m.Suspense,{fallback:(0,j.jsx)(y.az,{padding:5,children:(0,j.jsx)(y.y$,{accessibilityLabel:e.bt("Loading search results", "Loading search results", "searchPage.SearchFeed.loading", undefined, true),show:!0})}),children:(0,j.jsx)(nL,{})})})})}):(t("/",{replace:!0}),null)}var nN=n(401691),nK=n(926608),nU=n(290204),n$=n(932369),nH=n(807882),nV=n(669456),nW=n(303196),nq=n(214429),nG=n(484409),nY=n(684258),nJ=n(720575),nQ=n(835940),nX=n(522232),nZ=n(825179),n0=n(900344),n1=n(870223),n2=n(809756);function n6(){(0,m.useEffect)(()=>{(0,h.A)("VisitHomeFeedExperienceBannerCallout","/app/www/pages/duplo/VisitHomeFeedExperienceBannerCallout.tsx")},[]);let[e,t]=(0,m.useState)(!1),[n,i]=(0,n1.Wx)({threshold:0}),r=(0,f.Zp)(),{logContextEvent:a}=(0,K.o)(),{navFooterHeight:l,completeNudgeUsersToHomeExperienceRef:o}=(0,n2.o)();(0,m.useEffect)(()=>{let e=setTimeout(()=>t(!0),1e3);return()=>clearTimeout(e)},[]),(0,m.useEffect)(()=>{i&&a({event_type:13,component:15560,view_type:2})},[i,a]);let s=l+8,d=new y.K5([new y.rk(2)]);return(0,j.jsx)(y.az,{children:(0,j.jsx)(J.Je,{eligibleIds:[508480],placementId:1000269,children:({complete:t,dismiss:i,experience:l})=>{let{display_data:c}=l,{dismissAccessibilityLabel:u,iconAccessibilityLabel:p,message:h,type:m,primaryAction:g}=c,{accessibilityLabel:_,href:f,label:x}=g??{};return o.current=t,e?(0,j.jsx)(y.az,{ref:n,bottom:!0,dangerouslySetInlineStyle:{__style:{marginBottom:s}},left:!0,paddingX:4,position:"fixed",right:!0,zIndex:d,children:(0,j.jsx)(y.F_,{dismissButton:{accessibilityLabel:u,onDismiss:()=>{i(),a({event_type:102,element:11925,component:15560,view_type:2})}},iconAccessibilityLabel:p,message:h,primaryAction:{accessibilityLabel:_,href:f,label:x,role:"link",onClick:({dangerouslyDisableOnNavigation:e})=>{e(),t(),a({event_type:102,element:13004,component:15560,view_type:2,aux_data:{count:0}}),r(f)}},type:m})}):null}})})}var n4=n(142089),n5=n(129601),n3=n(295372),n8=n(618646),n9=n(627832),n7=n(201593),ie=n(160627);let it=({heading:e,onDismiss:t,onReset:n})=>{let i=(0,U.A)(),{isDarkMode:r}=(0,n7.D2)();return(0,j.jsx)(y.az,{color:r?"washDark":"default",children:(0,j.jsxs)(y.so,{alignItems:"center",flex:"grow",justifyContent:"start",children:[(0,j.jsx)(y.so,{alignItems:"center",justifyContent:"start",children:(0,j.jsx)(y.K0,{accessibilityLabel:i.bt("Close", "Close", "SlidingModal.FeedFilterContainer.IconButton", undefined, true),icon:"close",iconColor:"subtle",onClick:t,padding:5,size:"lg"})}),(0,j.jsx)(y.so,{alignItems:"center",flex:"grow",justifyContent:"center",children:(0,j.jsx)(y.KJ,{align:"center",weight:"bold",children:e})}),(0,j.jsx)(y.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:{marginRight:15}},display:"flex",children:(0,j.jsx)(y.$n,{fullWidth:!0,onClick:n,text:i.bt("Reset", "Reset", "SlidingModal.FeedFilterContainer.ResetButton", undefined, true)})})]})})};function ii({closeFiltersModal:e,initialProductFilters:t,isOpen:n,productFilters:i,resetFilters:r,submitFilters:a,updateShowIndicator:l}){(0,m.useEffect)(()=>{(0,h.A)("ProductFiltersContainer","/app/www/shopping/duplo/productFilters/ProductFiltersContainer.tsx")},[]);let o=(0,U.A)(),s=(0,et.A)();(0,m.useEffect)(()=>{s({event_type:13,view_parameter:3396,view_type:72,aux_data:{commerce_data:JSON.stringify({source:null})}})},[]);let{isDarkMode:d}=(0,n7.D2)();return(0,j.jsx)(y.az,{color:"washDark",marginEnd:2,children:(0,j.jsxs)(ie.A,{accessibilityModalLabel:o.bt("Filters", "Filters", "flashlightPage.slidingModal.accessibilityModalLabel", undefined, true),allowClickAndDrag:!0,isOpen:n,children:[(0,j.jsx)(it,{heading:o.bt("Filters", "Filters", "flashlightPage.slidingModal.heading", undefined, true),onDismiss:e,onReset:()=>{l(!1),e(),s({event_type:102,view_parameter:3396,view_type:72,element:11545}),r()}}),(0,j.jsx)(y.az,{color:d?"washDark":"default",paddingX:5,paddingY:5,children:(0,j.jsx)(tk,{initialProductFilters:t,productFilters:i,submitFilters:({domains:t,prices:n})=>{a({domains:t,prices:n}),e()},updateShowIndicator:l})})]})})}var ir=n(623987);let ia=(0,nc.A)(()=>n.e("65469").then(n.bind(n,497826)),void 0,e=>497826,"app-www-stories-FullWidthPinStory",e=>["65469"]),il=(e,t)=>{switch(e){case"pins":case"my_pins":return t.bt("We couldn't find any Pins for \"{{ query }}\".", "We couldn't find any Pins for \"{{ query }}\".", "search query with no results for pins", undefined, true);case"boards":return t.bt("We couldn't find any boards about \"{{ query }}\".", "We couldn't find any boards about \"{{ query }}\".", "search query with no results for boards", undefined, true);case"users":return t.bt("We couldn't find anyone named \"{{ query }}\".", "We couldn't find anyone named \"{{ query }}\".", "search query with no results for pinners", undefined, true);default:return""}};function io(){(0,m.useEffect)(()=>{(0,h.A)("SearchResultsPage","/app/www/pages/duplo/SearchResultsPage.tsx")},[]);let e=(0,U.A)(),t=(0,_.Ay)(),n=(0,_.qJ)(),i=(0,nV.J)(),{logContextEvent:r}=(0,K.o)(),{isAuthenticated:a,isBot:l,isRTL:o}=(0,g._8)(),s=(0,m.useRef)(null),d=(0,nK.n9)(),[c,u]=(0,m.useState)(!1),[p,v]=(0,m.useState)(!1),{search:b,pathname:w}=(0,f.zy)(),k=(0,f.Zp)(),{checkExperiment:I}=(0,X.A)(),P=(0,S.u)(),{autoCorrectionDisabled:E,debD:T,domains:z,placementId:F,priceMax:R,priceMin:O,query:L,rs:M,scope:B,viewParameter:D}=P,N=(0,nH.A)({id:F}),$=a?{page_size:14}:{page_size:25},H=a&&I("unify_search_resource_auth_mweb").anyEnabled||!a;(0,nU.A)({pageUniqueKey:L,containerPage:"search_page"});let V=(0,ej.hr)({searchParams:P,sourceUrl:w+b,isDesktop:n,isAuthenticated:a,appliedUnifiedFilters:null}),W=(0,ez.A)(H?null:V),{resource:q,options:G}=(0,ec.Y)({skipResourceCall:!H}),{isFetching:Y,isLoaded:Q,auxData:Z}=H?q:W,et=Z?.metadata?.unity_search_query,en=I("web_search_sticky_guides_iterated_entered_query",{dangerouslySkipActivation:!0}).anyEnabled&&et||(0,e9.A)(b).entered_query,ei=(0,ej.n1)(G),er=(0,x.d4)(({search:e})=>e.queries[ei]),ea=(0,ed.A)({query:L}),{typo:el,nags:{messages:eo}={},sensitivity:es,filters:eu,rankedGuides:ep}=er??{},em=er?.oneBarModules,{cacheOneBarModules:eg}=(0,nm.x)();(0,m.useEffect)(()=>{em&&em.length>0&&eg({baseCacheKey:L,oneBarModules:em})},[eg,em,L]);let e_=eo&&!(0,nX.dB)(es),ef=(0,x.d4)(({feeds:e})=>e[`search:${ei}`]??[]),ey=(0,x.d4)(({stories:e})=>e),ex=(0,x.d4)(({search:e})=>e.productFilters[`${L}-${B}`]),ev=(0,eh.zy)(),eb=(0,x.wA)(),{isFiltersDrawerOpen:eA,setFiltersDrawerOpen:ew}=(0,C.M)()||{isFiltersDrawerOpen:!1,setFiltersDrawerOpen:()=>{}};(0,ee.A)(()=>(L&&eb((0,n$.xL)([F],l,{search_query:L})),eb((0,n4.FC)(L,B)),eb((0,n4.Jd)(L,B)),()=>{eb((0,n4.FC)())}));let eS=eu?.skin_tone||eu?.hair_pattern,ek=Object.keys(ex||{}).length>0&&!n,eP=s.current?.getBoundingClientRect().height?(s.current?.getBoundingClientRect().height||0)+(!n&&24||0):0,eE=!a&&(!n||!em||!(em.length>0));(0,m.useEffect)(()=>{e_&&r({event_type:120,view_type:2,component:19,view_parameter:D,aux_data:{advisory_details:es?.advisory_details,advisory_level:es?.advisory,severity_level:es?.severity,...ea}})},[r,ea,es,e_,D]),(0,m.useEffect)(()=>{if(Q&&(tU({query:L,rs:M,scope:B},r),!a&&L&&!(0,nX.dB)(es))){let e=(ep??[]).map(({term:e})=>e||"");M&&d({query:L,rs:M,scope:B,rg:e})}},[Q]),(0,m.useEffect)(()=>{function e(){r({event_type:14888,view_type:2,view_parameter:D})}return window.addEventListener("popstate",e),()=>{window.setTimeout(()=>{window.removeEventListener("popstate",e)},1e3)}},[r,D]);let eT="true"===nG.Ay.getItem(nN.IV),eC="search";"buyable_pins"===B?eC="shop_feed":"users"===B?eC="user_search":"boards"===B&&(eC="board");let eF=n?[]:ef.slice(0,ef.findIndex(e=>"story"!==e.type)),eR=(0,n9.A)({resultsFeed:ef}),eO=ef.length>0,eL=eA&&348,eM=el?.corrected?el.correction:L,eD=null;if(!a&&n)switch(B){case A.cO.BOARDS:case A.cO.PINS_BUYABLE:case A.cO.PINS_MINE:case A.cO.PINS_VIDEO:case A.cO.PINS:eD=(0,j.jsx)(eJ,{query:eM})}else eD=H?(0,j.jsx)(nZ.Ir,{emptyState:es?.severity===nX.k9.ABUSIVE?null:(0,j.jsx)(y.az,{paddingX:4,paddingY:eo&&eo.length>0?5:2,position:"fixed",children:(0,j.jsx)(y.KJ,{overflow:"normal",size:"200",children:(0,eB.vQ)(il(B,e),{query:L})})}),feedItemProps:{feedback:{data:{query:L},type:"search"},viewParameter:D,viewType:2},feedItemsAdjustment:eR?{type:"fullWidthBreakIn",value:eR}:void 0,feedKey:`search:${ei}`,getColumnSpanConfig:()=>1,pageSize:$.page_size.toString(),resource:q,serverRender:i,trafficSource:eC,visuallyCompleteProfilerOptions:{includeBackgroundImages:!0,includeVideos:!0,pins:Object.values(ev)}}):(0,j.jsx)(nZ.Ay,{emptyState:es?.severity===nX.k9.ABUSIVE?null:(0,j.jsx)(y.az,{paddingX:4,paddingY:eo&&eo.length>0?5:2,position:"fixed",children:(0,j.jsx)(y.KJ,{overflow:"normal",size:"200",children:(0,eB.vQ)(il(B,e),{query:L})})}),feedItemProps:{feedback:{data:{query:L},type:"search"},viewParameter:D,viewType:2},feedItemsAdjustment:eR?{type:"fullWidthBreakIn",value:eR}:void 0,feedKey:`search:${ei}`,getColumnSpanConfig:e=>{if("story"===e.type){let t=ey[e.id]?.display_options?.num_columns_requested;return 0===t?1/0:t??1}return 1},pageSize:$.page_size.toString(),resourceConfig:V,serverRender:i,trafficSource:eC,visuallyCompleteProfilerOptions:{includeBackgroundImages:!0,includeVideos:!0,pins:Object.values(ev)}});let eN=!!eu&&(0,j.jsx)(na.default,{filters:eu,moduleType:ns.P4.SEARCH_FEED,query:L,viewParameter:D,viewType:2});return(0,j.jsx)(nB.A,{measureGridVisuallyComplete:!0,surface:"search",children:(0,j.jsx)(nJ.A,{auxData:{...ea},viewParameter:D,viewType:2,children:(0,j.jsx)(eI.A,{objectId:L,view:2,viewParameter:D,children:(0,j.jsxs)(nq.default,{hasFixedHeader:!0,children:[(0,j.jsxs)(n8.A,{fixedHeaderRefHeight:eP,hideOnScroll:eE,paddingY:3*("desktop"!==t),children:[(0,j.jsx)(nr.A,{text:e.bt("Search", "Search", "SearchResultsPage.SearchBar", undefined, true)}),(0,j.jsxs)(y.az,{ref:s,children:[!n&&(0,j.jsx)(y.az,{marginBottom:3,children:(0,j.jsx)(y.so,{alignItems:"center",justifyContent:"start",children:(0,j.jsx)(y.az,{flex:"grow",marginTop:3*!!a,children:(0,j.jsx)(n3.A,{height:a?48:40,navigate:k,query:L,scope:B,shownQuery:en,viewParameter:D,viewType:2})})})}),e_&&(0,j.jsx)(y.az,{marginBottom:3,paddingX:2,children:(0,j.jsx)(y.KJ,{size:"200",children:(0,j.jsx)("span",{dangerouslySetInnerHTML:{__html:(eo||[]).join(" ")},"data-gestalt-valid-html":"Box","data-test-id":"warning-our-policies"})})}),el&&!E?(0,j.jsx)(y.az,{"data-test-id":"searchAutocorrectLink",marginBottom:3,paddingX:1,children:(0,j.jsx)(y.KJ,{inline:!0,size:"100",children:el.corrected?(0,eB.vQ)(e.bt("Here's what we found for {{ correctionLink }}. Search for {{ originalLink }} instead?", "Here's what we found for {{ correctionLink }}. Search for {{ originalLink }} instead?", " - ", undefined, true),{correctionLink:(0,j.jsx)(y.KJ,{color:"default",inline:!0,size:"100",children:el.correction},"typoCorrectionLink"),originalLink:(0,j.jsx)(y.KJ,{color:"default",inline:!0,size:"100",weight:"bold",children:(0,j.jsx)(y.N_,{display:"inlineBlock",href:`/search/pins/?rs=${e3.I.TYPO_AUTO_ORIGINAL}&q=${encodeURIComponent(el.original)}&auto_correction_disabled=true`,tapStyle:"none",underline:"hover",children:el.original},"orig")},"typoOriginalLink")}):(0,eB.vQ)(e.bt("Did you mean {{ correctionLink }}?", "Did you mean {{ correctionLink }}?", " - ", undefined, true),{correctionLink:(0,j.jsx)(y.KJ,{inline:!0,size:"100",weight:"bold",children:(0,j.jsx)(y.N_,{display:"inlineBlock",href:`/search/pins/?rs=${e3.I.TYPED}&q=${encodeURIComponent(el.correction)}&auto_correction_disabled=true`,onClick:()=>{r({event_type:60,view_parameter:D,view_type:2,aux_data:{query:el.correction,rs:e3.I.TYPED}})},tapStyle:"none",underline:"hover",children:el.correction})})})},"autocorrect")}):null,n&&(0,j.jsx)(tm,{hasProductFiltersApplied:p,oneBarModulesKey:null,onFilterButtonClick:()=>{ew(!eA),u(!eA)}}),em&&em.length>0&&!n&&(0,j.jsx)(n5.A,{oneBarModules:em,setProductFiltersModalIsOpen:u,showIndicator:p,showProductFilters:ek}),eT&&eS&&eu&&!n&&eN]})]}),!eT&&eS&&eu&&(n?eN:(0,j.jsx)(nW.default,{hideOnScroll:!0,noPadding:!0,overrideTop:eP?eP+(0,nY.A)(t,a):0,children:eN})),L&&N&&(0,j.jsx)(J.nU,{placementId:F}),N&&(0,j.jsx)(J.aR,{experience:N}),N&&(0,j.jsx)(J.Vj,{experience:N}),(0,j.jsx)(n6,{}),(0,j.jsx)(tB.A,{placementId:1000543}),(0,j.jsx)(tM.A,{placementId:1000559}),T&&B!==A.cO.USERS&&(0,j.jsx)(tG,{}),es&&(0,nX.dB)(es)&&(0,j.jsx)(y.so,{direction:"column",gap:8,children:es?.notices?.map(e=>(0,j.jsx)(t7.A,{notice:e,query:L,sensitivity:es,viewParameter:D,viewType:2},e.id))}),n&&(0,j.jsx)(tT,{dataLayoutShiftBoundaryId:"SearchFiltersDrawer",isOldContentTypeFilter:!0,isOpen:eA,topOffset:80,updateShowIndicator:v}),(0,j.jsx)(y.az,{dangerouslySetInlineStyle:{__style:eL?{marginLeft:o?void 0:eL,marginRight:o?eL:void 0}:{}},overflow:n?"hidden":void 0,children:(0,j.jsxs)(m.Fragment,{children:[eF.map(({id:e},t)=>(0,j.jsx)(ir.A,{storyId:e,children:e=>(0,j.jsx)(ia,{auxData:{...ea},slotIndex:t,story:e,trafficSource:eC,viewParameter:D,viewType:2})},e)),eD]})}),!(0,nX.dB)(es)&&!eO&&!Y&&(0,j.jsx)(t8,{rs:e3.I.NO_RESULTS_SEARCH_STORY,source_id:"",suggestions:[]}),ek&&(0,j.jsx)(ii,{closeFiltersModal:()=>u(!1),initialProductFilters:{domains:z??void 0,prices:[O,R].map(e=>e?parseInt(e,10):0)},isOpen:c,productFilters:ex||{},resetFilters:()=>{k(`/search/pins?q=${encodeURIComponent(L)}`,{replace:!0})},submitFilters:({domains:e,prices:t})=>{let n=tS({domains:e,prices:t});k((0,e8.A)(w,n),{replace:!0})},updateShowIndicator:v})]})})})})}function is(){let{scope:e}=(0,S.u)(),t=(0,_.qJ)(),{isAuthenticated:n}=(0,g._8)();return!n&&t&&e===A.cO.USERS?(0,j.jsx)(nQ.A,{children:(0,j.jsx)(n0.I4,{children:(0,j.jsx)(nF,{})})}):(0,j.jsx)(ny,{oneBarModulesKey:null,children:(0,j.jsx)(io,{})})}function id(){return(0,m.useEffect)(()=>{(0,h.A)("SearchResultsPage","/app/www/pages/duplo/SearchResultsPage.tsx")},[]),(0,j.jsx)(S.n,{children:(0,j.jsx)(C.B,{children:(0,j.jsx)(P,{children:(0,j.jsx)(nm.Q,{children:(0,j.jsx)(is,{})})})})})}let ic=function(){(0,m.useEffect)(()=>{(0,h.A)("SearchPage","/app/www/pages/SearchPage.tsx")},[]);let e=(0,_.Ay)(),{isAuthenticated:t}=(0,g._8)();return"desktop"===e&&t?(0,j.jsx)(nD,{}):(0,j.jsx)(id,{})}},176609(e,t,n){n.d(t,{f:()=>x,R:()=>v});var i=n(61163),r=n(859471),a=n(224989),l=n(979638),o=n(669897),s=n(601185),d=n(844255);function c(e){let t={result:{kind:"Pending",promise:e},read:()=>(function(e){let{result:t}=e;switch(t.kind){case"Pending":throw t.promise;case"Ok":return t.value;case"Err":throw t.error;default:throw Error("Unexpected case")}})(t)};return e.then(e=>{t.result={kind:"Ok",value:e}}).catch(e=>{t.result={kind:"Err",error:e}}),t}function u(e){return{result:{kind:"Ok",value:e},read:()=>e}}var p=n(260128),h=n(969462),m=n(81920),g=n(562615);let _=(0,r.createContext)(null),f=/(^\/)|:|(\/$)/g,y=/\//g,x=({children:e})=>{(0,r.useEffect)(()=>{(0,i.A)("EntrypointContext","/pws/entrypoint-router/EntrypointContext.tsx")},[]);let t=(0,a.useRelayEnvironment)(),{checkExperiment:n}=(0,s.A)(),o=(0,d._8)(),c=(0,r.useRef)({}),u=(0,r.useCallback)(e=>{let{rootComponent:i,loadedValueState:r}=A(b(c.current,e),e,"Both",t,n,o);return"NotYetRendered"===r.performanceLoggingState.kind&&(r.performanceLoggingState={kind:"InitiallyRendered",initialRenderTime:Date.now()}),{rootComponent:i,onEntrypointDataLoaded:t=>{if("InitiallyRendered"===r.performanceLoggingState.kind){let n=Date.now();(0,m.N9)("entrypointRouter.routeTiming."+e.kind.replace(f,"").replace(y,"_"),n-r.performanceLoggingState.initialRenderTime,{sampleRate:.1,tags:t??{}}),r.performanceLoggingState={kind:"Complete"}}},loadedValue:r.loadedValue}},[n,t,o]),h=(0,l.Zp)(),x=(0,r.useCallback)(e=>{A(b(c.current,e),e,"Both",t,n,o),h((0,p.P)(e))},[h,n,t,o]),v=(0,r.useCallback)((e,i)=>{let r=b(c.current,e);"Both"===i&&A(r,e,i,t,n,o)},[n,t,o]),w=(0,r.useMemo)(()=>({loadAndReadDuringRender__INTERNAL:u,preload:v,imperativelyNavigate:x}),[u,x,v]);return(0,g.jsx)(_,{value:w,children:e})};function v(){let e=(0,r.use)(_);if(null==e)throw Error("Missing entrypoint context");return e}function b(e,t){let n=p.A[t.kind];if(null==n)throw Error("Unexpected missing route! Did you define it in routeMap.ts?");let i=n.loader();return e[t.kind]??={rootComponent:c(n.rootComponent()),loadedValueStates:{},loader:(0,o.isPromise)(i)?c(i):u(i)}}function A(e,t,n,i,r,a){var l;let o=JSON.stringify((0,h.A)(t.routeParams)),{loadedValueStates:s,rootComponent:d,loader:p}=e;return{rootComponent:d,loadedValueState:s[o]??=(l=t.kind,setTimeout(()=>{let e=s[o];null!=e&&(0,m.GV)("entrypointRouter.entrypointUse",{sampleRate:.1,tags:{routeName:l,usedInTime:"NotYetRendered"!==e.performanceLoggingState.kind}})},3e4),{loadedValue:function(e,t){let{result:n}=e;switch(n.kind){case"Pending":return c(n.promise.then(t));case"Ok":return u(t(n.value));case"Err":var i;return{result:{kind:"Err",error:i=n.error},read:()=>{throw i}};default:throw Error("Unexpected case")}}(p,e=>e({routeParams:t.routeParams,relayEnvironment:i,checkExperiment:r,requestContext:a})),performanceLoggingState:{kind:"NotYetRendered"}})}}},260128(e,t,n){n.d(t,{P:()=>a,A:()=>r});var i=n(479123);let r={"/ads/create":{loader:()=>n.e("22278").then(n.bind(n,64829)).then(e=>e.default),rootComponent:()=>Promise.all([n.e("78180"),n.e("91796"),n.e("33835"),n.e("44312"),n.e("66460"),n.e("41300")]).then(n.bind(n,527762)).then(e=>e.default)},"/collage-creation-tool":{loader:()=>Promise.all([n.e("92989"),n.e("31623")]).then(n.bind(n,37941)).then(e=>e.default),rootComponent:()=>Promise.all([n.e("78180"),n.e("91796"),n.e("86527"),n.e("92989"),n.e("2197"),n.e("75150"),n.e("94714"),n.e("65629"),n.e("50284"),n.e("27063"),n.e("25893")]).then(n.bind(n,693015)).then(e=>e.default)},"/comparison/results":{loader:()=>n.e("27441").then(n.bind(n,872018)).then(e=>e.default),rootComponent:()=>Promise.all([n.e("78180"),n.e("91796"),n.e("13601"),n.e("33675"),n.e("20223")]).then(n.bind(n,80743)).then(e=>e.default)},"/comparison/select/:id":{loader:()=>n.e("54555").then(n.bind(n,888547)).then(e=>e.default),rootComponent:()=>Promise.all([n.e("78180"),n.e("91796"),n.e("13601"),n.e("33675"),n.e("28097")]).then(n.bind(n,342087)).then(e=>e.default)},"/ideas":{loader:()=>Promise.all([n.e("91796"),n.e("60441")]).then(n.bind(n,839711)).then(e=>e.default),rootComponent:()=>Promise.all([n.e("78180"),n.e("91796"),n.e("98764"),n.e("73624"),n.e("86122"),n.e("52735"),n.e("223")]).then(n.bind(n,683795)).then(e=>e.default)},"/pin/:id/analytics":{loader:()=>n.e("76719").then(n.bind(n,510554)).then(e=>e.default),rootComponent:()=>Promise.all([n.e("78180"),n.e("91796"),n.e("24266"),n.e("1549"),n.e("89090"),n.e("27959"),n.e("26983"),n.e("49961"),n.e("77720"),n.e("34565"),n.e("69533")]).then(n.bind(n,140346)).then(e=>e.default)},"/today/":{loader:()=>n.e("15960").then(n.bind(n,847584)).then(e=>e.default),rootComponent:()=>Promise.all([n.e("78180"),n.e("91796"),n.e("98764"),n.e("15714"),n.e("73624"),n.e("30202"),n.e("86122"),n.e("51238")]).then(n.bind(n,364053)).then(e=>e.default)}};function a(e){return(0,i.tW)(e.kind,e.routeParams)}},969462(e,t,n){n.d(t,{A:()=>function e(t){if(!t||"object"!=typeof t)return t;if(Array.isArray(t))return t.map(e);let n=Object.keys(t).sort(),i={};for(let r=0;r<n.length;r++)i[n[r]]=e(t[n[r]]);return i}})},260787(e,t,n){n.d(t,{j:()=>i});let i={CUSTOM:0,HIDDEN:1,HOPE:2,LOVE:3,NONE:4}},314554(e,t,n){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||[]).push(["www/search/[scope]",function(){return n(52828).A}])},974934(e,t,n){n.d(t,{Ay:()=>eY});var i=n(859471);function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}let a=["children","options"],l=["allowFullScreen","allowTransparency","autoComplete","autoFocus","autoPlay","cellPadding","cellSpacing","charSet","classId","colSpan","contentEditable","contextMenu","crossOrigin","encType","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","hrefLang","inputMode","keyParams","keyType","marginHeight","marginWidth","maxLength","mediaGroup","minLength","noValidate","radioGroup","readOnly","rowSpan","spellCheck","srcDoc","srcLang","srcSet","tabIndex","useMap"].reduce((e,t)=>(e[t.toLowerCase()]=t,e),{class:"className",for:"htmlFor"}),o={amp:"&",apos:"'",gt:">",lt:"<",nbsp:"",quot:""},s=["style","script","pre"],d=["src","href","data","formAction","srcDoc","action"],c=/([-A-Z0-9_:]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|(?:\{((?:\\.|{[^}]*?}|[^}])*)\})))?/gi,u=/mailto:/i,p=/\n{2,}$/,h=/^(\s*>[\s\S]*?)(?=\n\n|$)/,m=/^ *> ?/gm,g=/^(?:\[!([^\]]*)\]\n)?([\s\S]*)/,_=/^ {2,}\n/,f=/^(?:( *[-*_])){3,} *(?:\n *)+\n/,y=/^(?: {1,3})?(`{3,}|~{3,}) *(\S+)? *([^\n]*?)?\n([\s\S]*?)(?:\1\n?|$)/,x=/^(?: {4}[^\n]+\n*)+(?:\n *)+\n?/,v=/^(`+)((?:\\`|(?!\1)`|[^`])+)\1/,b=/^(?:\n *)*\n/,A=/\r\n?/g,w=/^\[\^([^\]]+)](:(.*)((\n+ {4,}.*)|(\n(?!\[\^).+))*)/,S=/^\[\^([^\]]+)]/,j=/\f/g,k=/^---[ \t]*\n(.|\n)*\n---[ \t]*\n/,I=/^\s*?\[(x|\s)\]/,P=/^ *(#{1,6}) *([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,E=/^ *(#{1,6}) +([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,T=/^([^\n]+)\n *(=|-){3,} *\n/,C=/^ *(?!<[a-z][^ >/]* ?\/>)<([a-z][^ >/]*) ?((?:[^>]*[^/])?)>\n?(\s*(?:<\1[^>]*?>[\s\S]*?<\/\1>|(?!<\1\b)[\s\S])*?)<\/\1>(?!<\/\1>)\n*/i,z=/&([a-z0-9]+|#[0-9]{1,6}|#x[0-9a-fA-F]{1,6});/gi,F=/^<!--[\s\S]*?(?:-->)/,R=/^(data|aria|x)-[a-z_][a-z\d_.-]*$/,O=/^ *<([a-z][a-z0-9:]*)(?:\s+((?:<.*?>|[^>])*))?\/?>(?!<\/\1>)(\s*\n)?/i,L=/^\{.*\}$/,M=/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,B=/^<([^ >]+@[^ >]+)>/,D=/^<([^ >]+:\/[^ >]+)>/,N=/-([a-z])?/gi,K=/^(\|.*)\n(?: *(\|? *[-:]+ *\|[-| :]*)\n((?:.*\|.*\n)*))?\n?/,U=/^[^\n]+(?:  \n|\n{2,})/,$=/^\[([^\]]*)\]:\s+<?([^\s>]+)>?\s*("([^"]*)")?/,H=/^!\[([^\]]*)\] ?\[([^\]]*)\]/,V=/^\[([^\]]*)\] ?\[([^\]]*)\]/,W=/(\n|^[-*]\s|^#|^ {2,}|^-{2,}|^>\s)/,q=/\t/g,G=/(^ *\||\| *$)/g,Y=/^ *:-+: *$/,J=/^ *:-+ *$/,Q=/^ *-+: *$/,X=e=>`(?=[\\s\\S]+?\\1${e?"\\1":""})`,Z="((?:\\[.*?\\][([].*?[)\\]]|<.*?>(?:.*?<.*?>)?|`.*?`|\\\\\\1|[\\s\\S])+?)",ee=RegExp(`^([*_])\\1${X(1)}${Z}\\1\\1(?!\\1)`),et=RegExp(`^([*_])${X(0)}${Z}\\1(?!\\1)`),en=RegExp(`^(==)${X(0)}${Z}\\1`),ei=RegExp(`^(~~)${X(0)}${Z}\\1`),er=/^(:[a-zA-Z0-9-_]+:)/,ea=/^\\([^0-9A-Za-z\s])/,el=/\\([^0-9A-Za-z\s])/g,eo=/^[\s\S](?:(?!  \n|[0-9]\.|http)[^=*_~\-\n:<`\\\[!])*/,es=/^\n+/,ed=/^([ \t]*)/,ec=/(?:^|\n)( *)$/,eu="(?:\\d+\\.)",ep="(?:[*+-])";function eh(e){return"( *)("+(1===e?eu:ep)+") +"}let em=eh(1),eg=eh(2);function e_(e){return RegExp("^"+(1===e?em:eg))}let ef=e_(1),ey=e_(2);function ex(e){return RegExp("^"+(1===e?em:eg)+"[^\\n]*(?:\\n(?!\\1"+(1===e?eu:ep)+" )[^\\n]*)*(\\n|$)","gm")}let ev=ex(1),eb=ex(2);function eA(e){let t=1===e?eu:ep;return RegExp("^( *)("+t+") [\\s\\S]+?(?:\\n{2,}(?! )(?!\\1"+t+" (?!"+t+" ))\\n*|\\s*\\n*$)")}let ew=eA(1),eS=eA(2);function ej(e,t){let n=1===t,i=n?ew:eS,r=n?ev:eb,a=n?ef:ey;return{t:e=>a.test(e),o:eO(function(e,t){let n=ec.exec(t.prevCapture);return n&&(t.list||!t.inline&&!t.simple)?i.exec(e=n[1]+e):null}),i:1,u(e,t,i){let l=n?+e[2]:void 0,o=e[0].replace(p,`
`).match(r),s=!1;return{items:o.map(function(e,n){let r,l=RegExp("^ {1,"+a.exec(e)[0].length+"}","gm"),d=e.replace(l,"").replace(a,""),c=n===o.length-1,u=-1!==d.indexOf(`

`)||c&&s;s=u;let p=i.inline,h=i.list;i.list=!0,u?(i.inline=!1,r=eP(d)+`

`):(i.inline=!0,r=eP(d));let m=t(r,i);return i.inline=p,i.list=h,m}),ordered:n,start:l}},l:(t,n,i)=>e(t.ordered?"ol":"ul",{key:i.key,start:"20"===t.type?t.start:void 0},t.items.map(function(t,r){return e("li",{key:r},n(t,i))}))}}let ek=RegExp("^\\[((?:\\[[^\\[\\]]*(?:\\[[^\\[\\]]*\\][^\\[\\]]*)*\\]|[^\\[\\]])*)\\]\\(\\s*<?((?:\\([^)]*\\)|[^\\s\\\\]|\\\\.)*?)>?(?:\\s+['\"]([\\s\\S]*?)['\"])?\\s*\\)"),eI=/^!\[(.*?)\]\( *((?:\([^)]*\)|[^() ])*) *"?([^)"]*)?"?\)/;function eP(e){let t=e.length;for(;t>0&&e[t-1]<=" ";)t--;return e.slice(0,t)}function eE(e,t){return e.startsWith(t)}function eT(e){return e.replace(/[]/g,"a").replace(/[]/g,"c").replace(/[]/g,"d").replace(/[]/g,"e").replace(/[]/g,"i").replace(/[]/g,"n").replace(/[]/g,"o").replace(/[]/g,"u").replace(/[]/g,"y").replace(/[^a-z0-9- ]/gi,"").replace(/ /gi,"-").toLowerCase()}function eC(e){return Q.test(e)?"right":Y.test(e)?"center":J.test(e)?"left":null}function ez(e,t,n,i){let r=n.inTable;n.inTable=!0;let a=[[]],l="";function o(){if(!l)return;let e=a[a.length-1];e.push.apply(e,t(l,n)),l=""}return e.trim().split(/(`[^`]*`|\\\||\|)/).filter(Boolean).forEach((e,t,n)=>{"|"===e.trim()&&(o(),i)?0!==t&&t!==n.length-1&&a.push([]):l+=e}),o(),n.inTable=r,a}function eF(e,t,n){n.inline=!0;let i=e[2]?e[2].replace(G,"").split("|").map(eC):[],r=e[3]?e[3].trim().split(`
`).map(function(e){return ez(e,t,n,!0)}):[],a=ez(e[1],t,n,!!r.length);return n.inline=!1,r.length?{align:i,cells:r,header:a,type:"25"}:{children:a,type:"21"}}function eR(e,t){return null==e.align[t]?{}:{textAlign:e.align[t]}}function eO(e){return e.inline=1,e}function eL(e){return eO(function(t,n){return n.inline?e.exec(t):null})}function eM(e){return eO(function(t,n){return n.inline||n.simple?e.exec(t):null})}function eB(e){return function(t,n){return n.inline||n.simple?null:e.exec(t)}}function eD(e){return eO(function(t){return e.exec(t)})}let eN=/(javascript|vbscript|data(?!:image)):/i;function eK(e){try{let t=decodeURIComponent(e).replace(/[^A-Za-z0-9/:]/g,"");if(eN.test(t))return null}catch(e){return null}return e}function eU(e){return e?e.replace(el,"$1"):e}function e$(e,t,n){let i=n.inline||!1,r=n.simple||!1;n.inline=!0,n.simple=!0;let a=e(t,n);return n.inline=i,n.simple=r,a}function eH(e,t,n){let i=n.inline||!1;n.inline=!1;let r=e(t,n);return n.inline=i,r}let eV=(e,t,n)=>({children:e$(t,e[2],n)});function eW(){return{}}function eq(){return null}function eG(e,t,n){let i=e,r=t.split(".");for(;r.length&&void 0!==(i=i[r[0]]);)r.shift();return i||n}let eY=e=>{let{children:t="",options:n}=e,p=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)t.indexOf(n=a[i])>=0||(r[n]=e[n]);return r}(e,a);return i.cloneElement(function(e="",t={}){var n,a,p;t.overrides=t.overrides||{},t.namedCodesToUnicode=t.namedCodesToUnicode?r({},o,t.namedCodesToUnicode):o;let G=t.slugify||eT,Y=t.sanitizer||eK,J=t.createElement||i.createElement,Q=[h,y,x,t.enforceAtxHeadings?E:P,T,K,ew,eS],X=[...Q,U,C,F,O];function Z(e,n,...i){var a;let l,o=eG(t.overrides,e+".props",{});return J((l=eG(a=t.overrides,e))?"function"==typeof l||"object"==typeof l&&"render"in l?l:eG(a,e+".component",e):e,r({},n,o,{className:function(...e){return e.filter(Boolean).join(" ")}(null==n?void 0:n.className,o.className)||void 0}),...i)}function el(e){let n;e=e.replace(k,"");let i=!1;t.forceInline?i=!0:t.forceBlock||(i=!1===W.test(e));let r=eg(em(i?e:eP(e).replace(es,"")+`

`,{inline:i}));for(;"string"==typeof r[r.length-1]&&!r[r.length-1].trim();)r.pop();if(null===t.wrapper)return r;let a=t.wrapper||(i?"span":"div");if(r.length>1||t.forceWrapper)n=r;else{if(1===r.length)return"string"==typeof(n=r[0])?Z("span",{key:"outer"},n):n;n=null}return J(a,{key:"outer"},n)}function ec(e,t){if(!t||!t.trim())return null;let n=t.match(c);return n?n.reduce(function(t,n){let i=n.indexOf("=");if(-1!==i){var r,a,o;let s,c=(-1!==(r=n.slice(0,i)).indexOf("-")&&null===r.match(R)&&(r=r.replace(N,function(e,t){return t.toUpperCase()})),r).trim(),u=('"'===(s=(a=n.slice(i+1).trim())[0])||"'"===s)&&a.length>=2&&a[a.length-1]===s?a.slice(1,-1):a,p=l[c]||c;if("ref"===p)return t;let h=t[p]=(o=u,"style"===c?(function(e){let t=[],n="",i=!1,r=!1,a="";if(!e)return t;for(let l=0;l<e.length;l++){let o=e[l];if('"'!==o&&"'"!==o||i||(r?o===a&&(r=!1,a=""):(r=!0,a=o)),"("===o&&n.endsWith("url")?i=!0:")"===o&&i&&(i=!1),";"!==o||r||i)n+=o;else{let e=n.trim();if(e){let n=e.indexOf(":");if(n>0){let i=e.slice(0,n).trim(),r=e.slice(n+1).trim();t.push([i,r])}}n=""}}let l=n.trim();if(l){let e=l.indexOf(":");if(e>0){let n=l.slice(0,e).trim(),i=l.slice(e+1).trim();t.push([n,i])}}return t})(o).reduce(function(t,[n,i]){return t[n.replace(/(-[a-z])/g,e=>e[1].toUpperCase())]=Y(i,e,n),t},{}):-1!==d.indexOf(c)?Y(eU(o),e,c):(o.match(L)&&(o=eU(o.slice(1,o.length-1))),"true"===o||"false"!==o&&o));"string"==typeof h&&(C.test(h)||O.test(h))&&(t[p]=el(h.trim()))}else"style"!==n&&(t[l[n]||n]=!0);return t},{}):null}let eu=[],ep={},eh={0:{t:[">"],o:eB(h),i:1,u(e,t,n){let[,i,r]=e[0].replace(m,"").match(g);return{alert:i,children:t(r,n)}},l(e,t,n){let i={key:n.key};return e.alert&&(i.className="markdown-alert-"+G(e.alert.toLowerCase(),eT),e.children.unshift({attrs:{},children:[{type:"27",text:e.alert}],noInnerParse:!0,type:"11",tag:"header"})),Z("blockquote",i,t(e.children,n))}},1:{o:eD(_),i:1,u:eW,l:(e,t,n)=>Z("br",{key:n.key})},2:{t:e=>{let t=e[0];return"-"===t||"*"===t||"_"===t},o:eB(f),i:1,u:eW,l:(e,t,n)=>Z("hr",{key:n.key})},3:{t:["    "],o:eB(x),i:0,u:e=>({lang:void 0,text:eU(eP(e[0].replace(/^ {4}/gm,"")))}),l:(e,t,n)=>Z("pre",{key:n.key},Z("code",r({},e.attrs,{className:e.lang?"lang-"+e.lang:""}),e.text))},4:{t:["```","~~~"],o:eB(y),i:0,u:e=>({attrs:ec("code",e[3]||""),lang:e[2]||void 0,text:e[4],type:"3"})},5:{t:["`"],o:eM(v),i:3,u:e=>({text:eU(e[2])}),l:(e,t,n)=>Z("code",{key:n.key},e.text)},6:{t:["[^"],o:eB(w),i:0,u:e=>(eu.push({footnote:e[2],identifier:e[1]}),{}),l:eq},7:{t:["[^"],o:eL(S),i:1,u:e=>({target:"#"+G(e[1],eT),text:e[1]}),l:(e,t,n)=>Z("a",{key:n.key,href:Y(e.target,"a","href")},Z("sup",{key:n.key},e.text))},8:{t:["[ ]","[x]"],o:eL(I),i:1,u:e=>({completed:"x"===e[1].toLowerCase()}),l:(e,t,n)=>Z("input",{checked:e.completed,key:n.key,readOnly:!0,type:"checkbox"})},9:{t:["#"],o:eB(t.enforceAtxHeadings?E:P),i:1,u:(e,t,n)=>({children:e$(t,e[2],n),id:G(e[2],eT),level:e[1].length}),l:(e,t,n)=>Z("h"+e.level,{id:e.id,key:n.key},t(e.children,n))},10:{o:eB(T),i:0,u:(e,t,n)=>({children:e$(t,e[1],n),level:"="===e[2]?1:2,type:"9"})},11:{t:["<"],o:eD(C),i:1,u(e,t,n){let[,i]=e[3].match(ed),r=RegExp("^"+i,"gm"),a=e[3].replace(r,""),l=X.some(e=>e.test(a))?eH:e$,o=e[1].toLowerCase(),d=-1!==s.indexOf(o),c=(d?o:e[1]).trim(),u={attrs:ec(c,e[2]),noInnerParse:d,tag:c};if(n.inAnchor=n.inAnchor||"a"===o,d)u.text=e[3];else{let e=n.inHTML;n.inHTML=!0,u.children=l(t,a,n),n.inHTML=e}return n.inAnchor=!1,u},l:(e,t,n)=>Z(e.tag,r({key:n.key},e.attrs),e.text||(e.children?t(e.children,n):""))},13:{t:["<"],o:eD(O),i:1,u(e){let t=e[1].trim();return{attrs:ec(t,e[2]||""),tag:t}},l:(e,t,n)=>Z(e.tag,r({},e.attrs,{key:n.key}))},12:{t:["\x3c!--"],o:eD(F),i:1,u:()=>({}),l:eq},14:{t:["!["],o:eM(eI),i:1,u:e=>({alt:eU(e[1]),target:eU(e[2]),title:eU(e[3])}),l:(e,t,n)=>Z("img",{key:n.key,alt:e.alt||void 0,title:e.title||void 0,src:Y(e.target,"img","src")})},15:{t:["["],o:eL(ek),i:3,u:(e,t,n)=>{var i;let r,a,l;return{children:(i=e[1],r=n.inline||!1,a=n.simple||!1,n.inline=!1,n.simple=!0,l=t(i,n),n.inline=r,n.simple=a,l),target:eU(e[2]),title:eU(e[3])}},l:(e,t,n)=>Z("a",{key:n.key,href:Y(e.target,"a","href"),title:e.title},t(e.children,n))},16:{t:["<"],o:eL(D),i:0,u:e=>({children:[{text:e[1],type:"27"}],target:e[1],type:"15"})},17:{t:(e,n)=>!n.inAnchor&&!t.disableAutoLink&&(eE(e,"http://")||eE(e,"https://")),o:eL(M),i:0,u:e=>({children:[{text:e[1],type:"27"}],target:e[1],title:void 0,type:"15"})},18:{t:["<"],o:eL(B),i:0,u(e){let t=e[1],n=e[1];return u.test(n)||(n="mailto:"+n),{children:[{text:t.replace("mailto:",""),type:"27"}],target:n,type:"15"}}},20:ej(Z,1),33:ej(Z,2),19:{o:eB(b),i:3,u:eW,l:()=>`
`},21:{o:eO(function(e,t){if(t.inline||t.simple||t.inHTML&&-1===e.indexOf(`

`)&&-1===t.prevCapture.indexOf(`

`))return null;let n="";e.split(`
`).every(e=>(e+=`
`,!Q.some(t=>t.test(e))&&(n+=e,!!e.trim())));let i=eP(n);return""===i?null:[n,,i]}),i:3,u:eV,l:(e,t,n)=>Z("p",{key:n.key},t(e.children,n))},22:{t:["["],o:eL($),i:0,u:e=>(ep[e[1]]={target:e[2],title:e[4]},{}),l:eq},23:{t:["!["],o:eM(H),i:0,u:e=>({alt:e[1]?eU(e[1]):void 0,ref:e[2]}),l:(e,t,n)=>ep[e.ref]?Z("img",{key:n.key,alt:e.alt,src:Y(ep[e.ref].target,"img","src"),title:ep[e.ref].title}):null},24:{t:e=>"["===e[0]&&-1===e.indexOf("]("),o:eL(V),i:0,u:(e,t,n)=>({children:t(e[1],n),fallbackChildren:e[0],ref:e[2]}),l:(e,t,n)=>ep[e.ref]?Z("a",{key:n.key,href:Y(ep[e.ref].target,"a","href"),title:ep[e.ref].title},t(e.children,n)):Z("span",{key:n.key},e.fallbackChildren)},25:{t:["|"],o:eB(K),i:1,u:eF,l:(e,t,n)=>Z("table",{key:n.key},Z("thead",null,Z("tr",null,e.header.map(function(i,r){return Z("th",{key:r,style:eR(e,r)},t(i,n))}))),Z("tbody",null,e.cells.map(function(i,r){return Z("tr",{key:r},i.map(function(i,r){return Z("td",{key:r,style:eR(e,r)},t(i,n))}))})))},27:{o:eO(function(e,t){let n;return eE(e,":")&&(n=er.exec(e)),n||eo.exec(e)}),i:4,u(e){let n=e[0];return{text:-1===n.indexOf("&")?n:n.replace(z,(e,n)=>t.namedCodesToUnicode[n]||e)}},l:e=>e.text},28:{t:["**","__"],o:eM(ee),i:2,u:(e,t,n)=>({children:t(e[2],n)}),l:(e,t,n)=>Z("strong",{key:n.key},t(e.children,n))},29:{t:e=>{let t=e[0];return("*"===t||"_"===t)&&e[1]!==t},o:eM(et),i:3,u:(e,t,n)=>({children:t(e[2],n)}),l:(e,t,n)=>Z("em",{key:n.key},t(e.children,n))},30:{t:["\\"],o:eM(ea),i:1,u:e=>({text:e[1],type:"27"})},31:{t:["=="],o:eM(en),i:3,u:eV,l:(e,t,n)=>Z("mark",{key:n.key},t(e.children,n))},32:{t:["~~"],o:eM(ei),i:3,u:eV,l:(e,t,n)=>Z("del",{key:n.key},t(e.children,n))}};!0===t.disableParsingRawHTML&&(delete eh[11],delete eh[13]);let em=((a=Object.keys(eh)).sort(function(e,t){return eh[e].i-eh[t].i||(e<t?-1:1)}),function(e,t){return function e(t,n){var i=[];if(n.prevCapture=n.prevCapture||"",t.trim())for(;t;)for(var r=0;r<a.length;){var l=a[r],o=eh[l];if(!o.t||function(e,t,n){if(Array.isArray(n)){for(let t=0;t<n.length;t++)if(eE(e,n[t]))return!0;return!1}return n(e,t)}(t,n,o.t)){var s=o.o(t,n);if(s&&s[0]){t=t.substring(s[0].length);var d=o.u(s,e,n);n.prevCapture+=s[0],d.type||(d.type=l),i.push(d);break}r++}else r++}return n.prevCapture="",i}(e.replace(A,`
`).replace(j,"").replace(q,"    "),t)}),eg=(p=t.renderRule,n=function(e,t,n){let i=eh[e.type].l;return p?p(()=>i(e,t,n),e,t,n):i(e,t,n)},function e(t,i={}){if(Array.isArray(t)){let n=i.key,r=[],a=!1;for(let n=0;n<t.length;n++){i.key=n;let l=e(t[n],i),o="string"==typeof l;o&&a?r[r.length-1]+=l:null!==l&&r.push(l),a=o}return i.key=n,r}return n(t,e,i)}),e_=el(e);return eu.length?Z("div",null,e_,Z("footer",{key:"footer"},eu.map(function(e){return Z("div",{id:G(e.identifier,eT),key:e.identifier},e.identifier,eg(em(e.footnote,{inline:!0})))}))):e_}(t,n),p)}}},function(e){e.O(0,["14450","15146","1636","17618","2968","32565","36162","3854","38884","48554","51562","51680","6151","67247","69189","78180","80011","8002","80816","8155","81642","81918","91278","91796","93524","94377"],function(){return e(e.s=314554)}),e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/search/[scope].en_GB-6703e71fe1604411.mjs.map